//  Translated by epsc  version today  
#include <stddef.h>
typedef struct { float r; float i;} complex; 
typedef struct nctempfloat1 { int d[1]; float *a;} nctempfloat1; 
typedef struct nctempint1 { int d[1]; int *a;} nctempint1; 
typedef struct nctempchar1 { int d[1]; char *a;} nctempchar1; 
typedef struct nctempcomplex1 { int d[1]; complex *a;} nctempcomplex1; 
typedef struct nctempfloat2 { int d[2]; float *a;} nctempfloat2; 
typedef struct nctempint2 { int d[2]; int *a;} nctempint2; 
typedef struct nctempchar2 { int d[2]; char *a;} nctempchar2; 
typedef struct nctempcomplex2 { int d[2]; complex *a;} nctempcomplex2; 
typedef struct nctempfloat3 { int d[3]; float *a;} nctempfloat3; 
typedef struct nctempint3 { int d[3]; int *a;} nctempint3; 
typedef struct nctempchar3 { int d[3]; char *a;} nctempchar3; 
typedef struct nctempcomplex3 { int d[3]; complex *a;} nctempcomplex3; 
typedef struct nctempfloat4 { int d[4]; float *a;} nctempfloat4; 
typedef struct nctempint4 { int d[4]; int *a;} nctempint4; 
typedef struct nctempchar4 { int d[4]; char *a;} nctempchar4; 
typedef struct nctempcomplex4 { int d[4]; complex *a;} nctempcomplex4; 
#include <stdlib.h>
#include <string.h>
void *RunMalloc(int n); 
int RunFree(void *n); 
struct diff {int l;
int lmax;
nctempfloat2 *coeffs;
nctempfloat1 *w;
};
typedef struct nctempdiff1 {int d[1]; struct diff *a; } nctempdiff1;
struct nctempdiff2 {int d[2]; struct diff *a; } ;
struct nctempdiff3 {int d[3]; struct diff *a; } ;
struct nctempdiff4 {int d[4]; struct diff *a; } ;
struct diff* DiffNew (int l);
int DiffDxminus (struct diff* Diff,nctempfloat2 *A,nctempfloat2 *dA,float dx);
int DiffDxplus (struct diff* Diff,nctempfloat2 *A,nctempfloat2 *dA,float dx);
int DiffDyminus (struct diff* Diff,nctempfloat2 *A,nctempfloat2 *dA,float dx);
int DiffDyplus (struct diff* Diff,nctempfloat2 *A,nctempfloat2 *dA,float dx);
struct rec {int nr;
nctempint1 *rx;
nctempint1 *ry;
int fd;
int nt;
nctempfloat2 *p;
nctempfloat2 *sxx;
nctempfloat2 *syy;
nctempfloat2 *vx;
nctempfloat2 *vy;
nctempfloat2 *wrk;
int resamp;
int pit;
};
typedef struct nctemprec1 {int d[1]; struct rec *a; } nctemprec1;
struct nctemprec2 {int d[2]; struct rec *a; } ;
struct nctemprec3 {int d[3]; struct rec *a; } ;
struct nctemprec4 {int d[4]; struct rec *a; } ;
struct rec* RecNew (nctempint1 *rx,nctempint1 *ry,int nt,int resamp);
int RecReceiver (struct rec* Rec,int it,nctempfloat2 *p,nctempfloat2 *vx,nctempfloat2 *vy);
nctempfloat2 * RecGetrec (struct rec* Rec,int data);
struct src {nctempint1 *Sx;
nctempint1 *Sy;
nctempfloat2 *Sqyy;
nctempfloat2 *Sqxx;
nctempfloat2 *Sfx;
nctempfloat2 *Sfy;
int Ns;
};
typedef struct nctempsrc1 {int d[1]; struct src *a; } nctempsrc1;
struct nctempsrc2 {int d[2]; struct src *a; } ;
struct nctempsrc3 {int d[3]; struct src *a; } ;
struct nctempsrc4 {int d[4]; struct src *a; } ;
struct src* SrcNew (nctempint1 *sx,nctempint1 *sy,nctempfloat2 *sqxx,nctempfloat2 *sqyy,nctempfloat2 *sfx,nctempfloat2 *sfy);
int SrcDel (struct src* Src);
int Srcricker (nctempfloat1 *source,float t0,float f0,int nt,float dt);
struct model {int Nx;
int Ny;
int Nb;
float W0;
nctempfloat2 *Qlx;
nctempfloat2 *Qly;
nctempfloat2 *Qmx;
nctempfloat2 *Qmy;
nctempfloat2 *Qpx;
nctempfloat2 *Qpy;
nctempfloat2 *Lambda;
nctempfloat2 *Mu;
nctempfloat2 *Muxy;
nctempfloat2 *Dmuxyx;
nctempfloat2 *Dmuxyy;
nctempfloat2 *Dlambdax;
nctempfloat2 *Dlambday;
nctempfloat2 *Dmux;
nctempfloat2 *Dmuy;
nctempfloat2 *Drhopx;
nctempfloat2 *Drhopy;
nctempfloat2 *Rho;
nctempfloat2 *Rhox;
nctempfloat2 *Rhoy;
nctempfloat2 *Alpha1x;
nctempfloat2 *Alpha1y;
nctempfloat2 *Alpha2x;
nctempfloat2 *Alpha2y;
nctempfloat2 *Beta1x;
nctempfloat2 *Beta2x;
nctempfloat2 *Beta1y;
nctempfloat2 *Beta2y;
nctempfloat2 *Eta1x;
nctempfloat2 *Eta1y;
nctempfloat2 *Eta2x;
nctempfloat2 *Eta2y;
nctempfloat1 *dx;
nctempfloat1 *dy;
nctempfloat1 *dx1;
nctempfloat1 *dy1;
nctempfloat1 *dx2;
nctempfloat1 *dy2;
float Dx;
float Dt;
int Freesurface;
};
typedef struct nctempmodel1 {int d[1]; struct model *a; } nctempmodel1;
struct nctempmodel2 {int d[2]; struct model *a; } ;
struct nctempmodel3 {int d[3]; struct model *a; } ;
struct nctempmodel4 {int d[4]; struct model *a; } ;
;
;
;
;
int Modeld (nctempfloat1 *d,float dx,int nb);
int Modele (nctempfloat1 *d,float dx,int nb);
nctempfloat2 * Modelcopy (nctempfloat2 *a);
int Modelstaggerx (nctempfloat2 *a,nctempfloat2 *astagg);
int Modelstaggery (nctempfloat2 *a,nctempfloat2 *astagg);
int Modelslscoeffs (nctempfloat2 *Qx,nctempfloat2 *Qy,nctempfloat2 *modx,nctempfloat2 *mody,nctempfloat2 *coeff1x,nctempfloat2 *coeff1y,nctempfloat2 *coeff2x,nctempfloat2 *coeff2y,struct model* Model);
struct model* Modelsls (nctempfloat2 *vp,nctempfloat2 *vs,nctempfloat2 *rho,nctempfloat2 *Qlx,nctempfloat2 *Qly,nctempfloat2 *Qmx,nctempfloat2 *Qmy,nctempfloat2 *Qpx,nctempfloat2 *Qpy,float Dx,float Dt,float W0,int Nb,int Freesurface);
struct model* ModelNew (nctempfloat2 *vp,nctempfloat2 *vs,nctempfloat2 *rho,nctempfloat2 *Qlx,nctempfloat2 *Qly,nctempfloat2 *Qmx,nctempfloat2 *Qmy,nctempfloat2 *Qpx,nctempfloat2 *Qpy,float Dx,float Dt,float W0,int Nb,int Rheol,int Freesurface);
float ModelStability (struct model* Model);
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
struct MainArg {nctempchar1 *arg;
};
typedef struct nctempMainArg1 {int d[1]; struct MainArg *a; } nctempMainArg1;
struct nctempMainArg2 {int d[2]; struct MainArg *a; } ;
struct nctempMainArg3 {int d[3]; struct MainArg *a; } ;
struct nctempMainArg4 {int d[4]; struct MainArg *a; } ;
int LibeErrno;
nctempchar1 *LibeErrstr;
int LibeErrinit ();
int LibeGeterrno ();
int LibeClearerr ();
nctempchar1 * LibeGeterrstr ();
nctempchar1 * LibeGetenv (nctempchar1 *name);
;
;
;
;
;
float LibeMach (int flag);
float LibeFabs (float x);
float LibeFscale2 (float x,int n);
float LibeGetfman2 (float x);
int LibeGetfexp2 (float x);
float LibeFscale (float x,int n);
int LibeGetfman (float f,int maxdig);
float LibeGetffman (float f);
int LibeGetmaxdig (float f);
int LibeGetfexp (float f);
float LibeClock ();
;
;
;
;
;
;
;
float LibeSincosmax;
float LibeSincoslim;
float LibeLnmax;
float LibeLnmin;
int LibeMod (int n,int r);
float LibeSqrt (float x);
float LibeLn (float x);
float LibeExp (float x);
float LibeSincos (float x,float y,float sign);
float LibeSin (float x);
float LibeCos (float x);
float LibeTan (float x);
float LibeArcsin (float x);
float LibeArccos (float x);
float LibeAtan (float f);
float LibeArctan (float x);
float LibePow (float base,float exponent);
int LibeMathinit ();
int LibeStrlen (nctempchar1 *s);
int LibeStrcmp (nctempchar1 *s,nctempchar1 *t);
int LibeStrev (nctempchar1 *s);
int LibeStrcpy (nctempchar1 *s,nctempchar1 *t);
int LibeStrcat (nctempchar1 *s,nctempchar1 *t);
nctempchar1 * LibeStradd (nctempchar1 *t,nctempchar1 *s);
nctempchar1 * LibeStrsave (nctempchar1 *s);
int LibeIsalhpa (int c);
int LibeIsdigit (int c);
int LibeIsalnum (int c);
int LibeAtoi (nctempchar1 *s);
int LibeItoa (int n,nctempchar1 *s);
int LibeItoh (int n,nctempchar1 *s);
float LibeAtof (nctempchar1 *s);
int LibeFtoaf (int mant,int nexp,int nfield,int nfrac,nctempchar1 *s);
int LibeFtoae (int mant,int nexp,int nfield,int nfrac,nctempchar1 *s);
int LibeFtoa (float f,nctempchar1 *fmt,nctempchar1 *s);
struct LibeFdescr {int cnt;
int ptr;
int bufsize;
nctempchar1 *base;
int readflg;
int writflg;
int unbflg;
int errflg;
int eoflg;
int fd;
};
typedef struct nctempLibeFdescr1 {int d[1]; struct LibeFdescr *a; } nctempLibeFdescr1;
struct nctempLibeFdescr2 {int d[2]; struct LibeFdescr *a; } ;
struct nctempLibeFdescr3 {int d[3]; struct LibeFdescr *a; } ;
struct nctempLibeFdescr4 {int d[4]; struct LibeFdescr *a; } ;
;
struct nctempLibeFdescr1 *LibeFarr;
;
nctempchar1 *LibeTmpstr;
int LibeIoinit ();
int LibeFlushbuff (int fp);
int LibeFillbuff (int fp);
int LibeFlush (int fp);
int LibeOpen (nctempchar1 *name,nctempchar1 *mode);
int LibeClose (int fp);
int LibeGetc (int fp);
int LibeUngetc (int fp);
int LibeGetw (int fp,nctempchar1 *text);
int LibePutc (int fp,int c);
int LibePuts (int fp,nctempchar1 *s);
int LibePuti (int fp,int ival);
int LibePutf (int fp,float fval,nctempchar1 *form);
int LibePs (nctempchar1 *s);
int LibePi (int n);
int LibePf (float r);
int LibeRead (int fp,int n,nctempchar1 *buffer);
int LibeWrite (int fp,int n,nctempchar1 *buffer);
int LibeSeek (int fp,int pos,int flag);
int LibeIodelete ();
int NBLOCKS;
int NTHREADS;
int LibeSetnb (int nb);
int LibeSetnt (int nt);
int LibeGetnb ();
int LibeGetnt ();
int LibeArrayex (int line,nctempchar1 *name,int ival,int index,int bound);
int LibeSystem (nctempchar1 *cmd);
int LibeInit ();
int LibeExit ();
struct el2d {nctempfloat2 *p;
nctempfloat2 *sigmaxx;
nctempfloat2 *sigmayy;
nctempfloat2 *sigmaxy;
nctempfloat2 *sigmayx;
nctempfloat2 *vx;
nctempfloat2 *vy;
nctempfloat2 *exx;
nctempfloat2 *eyy;
nctempfloat2 *exy;
nctempfloat2 *eyx;
nctempfloat2 *e;
nctempfloat2 *gammaxx;
nctempfloat2 *gammayy;
nctempfloat2 *gammaxy;
nctempfloat2 *gammayx;
nctempfloat2 *thetaxxx;
nctempfloat2 *thetayyy;
nctempfloat2 *thetaxyx;
nctempfloat2 *thetayxy;
int ts;
int fdp;
int fdvx;
int fdvy;
int fde;
int fdexy;
int sresamp;
nctempint1 *snpflags;
};
typedef struct nctempel2d1 {int d[1]; struct el2d *a; } nctempel2d1;
struct nctempel2d2 {int d[2]; struct el2d *a; } ;
struct nctempel2d3 {int d[3]; struct el2d *a; } ;
struct nctempel2d4 {int d[4]; struct el2d *a; } ;
struct el2d* El2dNew (struct model* Model,int sresamp,nctempint1 *snpflags)
{
struct el2d* El2d;
int i;
int j;
struct el2d *nctemp5=(struct el2d*)RunMalloc(sizeof(struct el2d));
El2d =nctemp5;
El2d->sresamp =sresamp;
El2d->snpflags=snpflags;
int nctemp23=Model->Nx;
nctemp23=nctemp23*Model->Ny;
nctempfloat2 *nctemp22;
nctemp22=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp22->d[0]=Model->Nx;
nctemp22->d[1]=Model->Ny;
nctemp22->a=(float *)RunMalloc(sizeof(float)*nctemp23);
El2d->p=nctemp22;
int nctemp34=Model->Nx;
nctemp34=nctemp34*Model->Ny;
nctempfloat2 *nctemp33;
nctemp33=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp33->d[0]=Model->Nx;
nctemp33->d[1]=Model->Ny;
nctemp33->a=(float *)RunMalloc(sizeof(float)*nctemp34);
El2d->sigmaxx=nctemp33;
int nctemp45=Model->Nx;
nctemp45=nctemp45*Model->Ny;
nctempfloat2 *nctemp44;
nctemp44=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp44->d[0]=Model->Nx;
nctemp44->d[1]=Model->Ny;
nctemp44->a=(float *)RunMalloc(sizeof(float)*nctemp45);
El2d->sigmayy=nctemp44;
int nctemp56=Model->Nx;
nctemp56=nctemp56*Model->Ny;
nctempfloat2 *nctemp55;
nctemp55=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp55->d[0]=Model->Nx;
nctemp55->d[1]=Model->Ny;
nctemp55->a=(float *)RunMalloc(sizeof(float)*nctemp56);
El2d->p=nctemp55;
int nctemp67=Model->Nx;
nctemp67=nctemp67*Model->Ny;
nctempfloat2 *nctemp66;
nctemp66=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp66->d[0]=Model->Nx;
nctemp66->d[1]=Model->Ny;
nctemp66->a=(float *)RunMalloc(sizeof(float)*nctemp67);
El2d->sigmaxy=nctemp66;
int nctemp78=Model->Nx;
nctemp78=nctemp78*Model->Ny;
nctempfloat2 *nctemp77;
nctemp77=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp77->d[0]=Model->Nx;
nctemp77->d[1]=Model->Ny;
nctemp77->a=(float *)RunMalloc(sizeof(float)*nctemp78);
El2d->sigmayx=nctemp77;
int nctemp89=Model->Nx;
nctemp89=nctemp89*Model->Ny;
nctempfloat2 *nctemp88;
nctemp88=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp88->d[0]=Model->Nx;
nctemp88->d[1]=Model->Ny;
nctemp88->a=(float *)RunMalloc(sizeof(float)*nctemp89);
El2d->vx=nctemp88;
int nctemp100=Model->Nx;
nctemp100=nctemp100*Model->Ny;
nctempfloat2 *nctemp99;
nctemp99=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp99->d[0]=Model->Nx;
nctemp99->d[1]=Model->Ny;
nctemp99->a=(float *)RunMalloc(sizeof(float)*nctemp100);
El2d->vy=nctemp99;
int nctemp111=Model->Nx;
nctemp111=nctemp111*Model->Ny;
nctempfloat2 *nctemp110;
nctemp110=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp110->d[0]=Model->Nx;
nctemp110->d[1]=Model->Ny;
nctemp110->a=(float *)RunMalloc(sizeof(float)*nctemp111);
El2d->exx=nctemp110;
int nctemp122=Model->Nx;
nctemp122=nctemp122*Model->Ny;
nctempfloat2 *nctemp121;
nctemp121=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp121->d[0]=Model->Nx;
nctemp121->d[1]=Model->Ny;
nctemp121->a=(float *)RunMalloc(sizeof(float)*nctemp122);
El2d->eyy=nctemp121;
int nctemp133=Model->Nx;
nctemp133=nctemp133*Model->Ny;
nctempfloat2 *nctemp132;
nctemp132=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp132->d[0]=Model->Nx;
nctemp132->d[1]=Model->Ny;
nctemp132->a=(float *)RunMalloc(sizeof(float)*nctemp133);
El2d->exy=nctemp132;
int nctemp144=Model->Nx;
nctemp144=nctemp144*Model->Ny;
nctempfloat2 *nctemp143;
nctemp143=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp143->d[0]=Model->Nx;
nctemp143->d[1]=Model->Ny;
nctemp143->a=(float *)RunMalloc(sizeof(float)*nctemp144);
El2d->eyx=nctemp143;
int nctemp155=Model->Nx;
nctemp155=nctemp155*Model->Ny;
nctempfloat2 *nctemp154;
nctemp154=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp154->d[0]=Model->Nx;
nctemp154->d[1]=Model->Ny;
nctemp154->a=(float *)RunMalloc(sizeof(float)*nctemp155);
El2d->e=nctemp154;
int nctemp166=Model->Nx;
nctemp166=nctemp166*Model->Ny;
nctempfloat2 *nctemp165;
nctemp165=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp165->d[0]=Model->Nx;
nctemp165->d[1]=Model->Ny;
nctemp165->a=(float *)RunMalloc(sizeof(float)*nctemp166);
El2d->gammaxx=nctemp165;
int nctemp177=Model->Nx;
nctemp177=nctemp177*Model->Ny;
nctempfloat2 *nctemp176;
nctemp176=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp176->d[0]=Model->Nx;
nctemp176->d[1]=Model->Ny;
nctemp176->a=(float *)RunMalloc(sizeof(float)*nctemp177);
El2d->gammayy=nctemp176;
int nctemp188=Model->Nx;
nctemp188=nctemp188*Model->Ny;
nctempfloat2 *nctemp187;
nctemp187=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp187->d[0]=Model->Nx;
nctemp187->d[1]=Model->Ny;
nctemp187->a=(float *)RunMalloc(sizeof(float)*nctemp188);
El2d->gammaxy=nctemp187;
int nctemp199=Model->Nx;
nctemp199=nctemp199*Model->Ny;
nctempfloat2 *nctemp198;
nctemp198=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp198->d[0]=Model->Nx;
nctemp198->d[1]=Model->Ny;
nctemp198->a=(float *)RunMalloc(sizeof(float)*nctemp199);
El2d->gammayx=nctemp198;
int nctemp210=Model->Nx;
nctemp210=nctemp210*Model->Ny;
nctempfloat2 *nctemp209;
nctemp209=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp209->d[0]=Model->Nx;
nctemp209->d[1]=Model->Ny;
nctemp209->a=(float *)RunMalloc(sizeof(float)*nctemp210);
El2d->thetaxxx=nctemp209;
int nctemp221=Model->Nx;
nctemp221=nctemp221*Model->Ny;
nctempfloat2 *nctemp220;
nctemp220=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp220->d[0]=Model->Nx;
nctemp220->d[1]=Model->Ny;
nctemp220->a=(float *)RunMalloc(sizeof(float)*nctemp221);
El2d->thetayyy=nctemp220;
int nctemp232=Model->Nx;
nctemp232=nctemp232*Model->Ny;
nctempfloat2 *nctemp231;
nctemp231=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp231->d[0]=Model->Nx;
nctemp231->d[1]=Model->Ny;
nctemp231->a=(float *)RunMalloc(sizeof(float)*nctemp232);
El2d->thetayxy=nctemp231;
int nctemp243=Model->Nx;
nctemp243=nctemp243*Model->Ny;
nctempfloat2 *nctemp242;
nctemp242=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp242->d[0]=Model->Nx;
nctemp242->d[1]=Model->Ny;
nctemp242->a=(float *)RunMalloc(sizeof(float)*nctemp243);
El2d->thetaxyx=nctemp242;
i =0;
int nctemp252 = (i < Model->Nx);
while(nctemp252){
{
j =0;
int nctemp260 = (j < Model->Ny);
while(nctemp260){
{
int nctemp267=i;
nctemp267=j*El2d->p->d[0]+nctemp267;
El2d->p->a[nctemp267] =0.0;
int nctemp274=i;
nctemp274=j*El2d->sigmaxx->d[0]+nctemp274;
El2d->sigmaxx->a[nctemp274] =0.0;
int nctemp281=i;
nctemp281=j*El2d->sigmayy->d[0]+nctemp281;
El2d->sigmayy->a[nctemp281] =0.0;
int nctemp288=i;
nctemp288=j*El2d->sigmaxy->d[0]+nctemp288;
El2d->sigmaxy->a[nctemp288] =0.0;
int nctemp295=i;
nctemp295=j*El2d->sigmayx->d[0]+nctemp295;
El2d->sigmayx->a[nctemp295] =0.0;
int nctemp302=i;
nctemp302=j*El2d->vx->d[0]+nctemp302;
El2d->vx->a[nctemp302] =0.0;
int nctemp309=i;
nctemp309=j*El2d->vy->d[0]+nctemp309;
El2d->vy->a[nctemp309] =0.0;
int nctemp316=i;
nctemp316=j*El2d->exx->d[0]+nctemp316;
El2d->exx->a[nctemp316] =0.0;
int nctemp323=i;
nctemp323=j*El2d->eyy->d[0]+nctemp323;
El2d->eyy->a[nctemp323] =0.0;
int nctemp330=i;
nctemp330=j*El2d->exy->d[0]+nctemp330;
El2d->exy->a[nctemp330] =0.0;
int nctemp337=i;
nctemp337=j*El2d->eyx->d[0]+nctemp337;
El2d->eyx->a[nctemp337] =0.0;
int nctemp344=i;
nctemp344=j*El2d->e->d[0]+nctemp344;
El2d->e->a[nctemp344] =0.0;
int nctemp351=i;
nctemp351=j*El2d->gammaxx->d[0]+nctemp351;
El2d->gammaxx->a[nctemp351] =0.0;
int nctemp358=i;
nctemp358=j*El2d->gammayy->d[0]+nctemp358;
El2d->gammayy->a[nctemp358] =0.0;
int nctemp365=i;
nctemp365=j*El2d->gammaxy->d[0]+nctemp365;
El2d->gammaxy->a[nctemp365] =0.0;
int nctemp372=i;
nctemp372=j*El2d->gammayx->d[0]+nctemp372;
El2d->gammayx->a[nctemp372] =0.0;
int nctemp379=i;
nctemp379=j*El2d->thetaxxx->d[0]+nctemp379;
El2d->thetaxxx->a[nctemp379] =0.0;
int nctemp386=i;
nctemp386=j*El2d->thetayyy->d[0]+nctemp386;
El2d->thetayyy->a[nctemp386] =0.0;
int nctemp393=i;
nctemp393=j*El2d->thetayxy->d[0]+nctemp393;
El2d->thetayxy->a[nctemp393] =0.0;
int nctemp400=i;
nctemp400=j*El2d->thetaxyx->d[0]+nctemp400;
El2d->thetaxyx->a[nctemp400] =0.0;
El2d->ts =0;
}
int nctemp416 = j + 1;
j =nctemp416;
int nctemp417 = (j < Model->Ny);
nctemp260=nctemp417;
}
}
int nctemp429 = i + 1;
i =nctemp429;
int nctemp430 = (i < Model->Nx);
nctemp252=nctemp430;
}
int nctemp437=0;
int nctemp434 = (El2d->snpflags->a[nctemp437] ==1);
if(nctemp434)
{
struct nctempchar1 *nctemp446;
static struct nctempchar1 nctemp447 = {{ 10}, (char*)"snp-p.bin\0"};
nctemp446=&nctemp447;
nctempchar1* nctemp444= nctemp446;
struct nctempchar1 *nctemp450;
static struct nctempchar1 nctemp451 = {{ 2}, (char*)"w\0"};
nctemp450=&nctemp451;
nctempchar1* nctemp448= nctemp450;
int nctemp452=LibeOpen(nctemp444,nctemp448);
El2d->fdp =nctemp452;
}
int nctemp456=1;
int nctemp453 = (El2d->snpflags->a[nctemp456] ==1);
if(nctemp453)
{
struct nctempchar1 *nctemp465;
static struct nctempchar1 nctemp466 = {{ 11}, (char*)"snp-vx.bin\0"};
nctemp465=&nctemp466;
nctempchar1* nctemp463= nctemp465;
struct nctempchar1 *nctemp469;
static struct nctempchar1 nctemp470 = {{ 2}, (char*)"w\0"};
nctemp469=&nctemp470;
nctempchar1* nctemp467= nctemp469;
int nctemp471=LibeOpen(nctemp463,nctemp467);
El2d->fdvx =nctemp471;
}
int nctemp475=2;
int nctemp472 = (El2d->snpflags->a[nctemp475] ==1);
if(nctemp472)
{
struct nctempchar1 *nctemp484;
static struct nctempchar1 nctemp485 = {{ 11}, (char*)"snp-vy.bin\0"};
nctemp484=&nctemp485;
nctempchar1* nctemp482= nctemp484;
struct nctempchar1 *nctemp488;
static struct nctempchar1 nctemp489 = {{ 2}, (char*)"w\0"};
nctemp488=&nctemp489;
nctempchar1* nctemp486= nctemp488;
int nctemp490=LibeOpen(nctemp482,nctemp486);
El2d->fdvy =nctemp490;
}
int nctemp494=3;
int nctemp491 = (El2d->snpflags->a[nctemp494] ==1);
if(nctemp491)
{
struct nctempchar1 *nctemp503;
static struct nctempchar1 nctemp504 = {{ 10}, (char*)"snp-e.bin\0"};
nctemp503=&nctemp504;
nctempchar1* nctemp501= nctemp503;
struct nctempchar1 *nctemp507;
static struct nctempchar1 nctemp508 = {{ 2}, (char*)"w\0"};
nctemp507=&nctemp508;
nctempchar1* nctemp505= nctemp507;
int nctemp509=LibeOpen(nctemp501,nctemp505);
El2d->fde =nctemp509;
}
struct nctempchar1 *nctemp513;
static struct nctempchar1 nctemp514 = {{ 9}, (char*)"snap 4: \0"};
nctemp513=&nctemp514;
nctempchar1* nctemp511= nctemp513;
int nctemp515=LibePs(nctemp511);
int nctemp519=4;
int nctemp517= El2d->snpflags->a[nctemp519];
int nctemp521=LibePi(nctemp517);
struct nctempchar1 *nctemp525;
static struct nctempchar1 nctemp526 = {{ 3}, (char*)"\n\0"};
nctemp525=&nctemp526;
nctempchar1* nctemp523= nctemp525;
int nctemp527=LibePs(nctemp523);
int nctemp531=4;
int nctemp528 = (El2d->snpflags->a[nctemp531] ==1);
if(nctemp528)
{
struct nctempchar1 *nctemp540;
static struct nctempchar1 nctemp541 = {{ 12}, (char*)"snp-exy.bin\0"};
nctemp540=&nctemp541;
nctempchar1* nctemp538= nctemp540;
struct nctempchar1 *nctemp544;
static struct nctempchar1 nctemp545 = {{ 2}, (char*)"w\0"};
nctemp544=&nctemp545;
nctempchar1* nctemp542= nctemp544;
int nctemp546=LibeOpen(nctemp538,nctemp542);
El2d->fdexy =nctemp546;
}
return El2d;
}
int El2dvx (struct el2d* El2d,struct model* Model)
{
int nx;
int ny;
int i;
int j;
nx =Model->Nx;
ny =Model->Ny;

 #pragma omp parallel for
for(j=0;j<ny;j=j+1){for(i=0;i<nx;i=i+1){{
int nctemp563=i;
nctemp563=j*El2d->vx->d[0]+nctemp563;
int nctemp583=i;
nctemp583=j*Model->Rhox->d[0]+nctemp583;
float nctemp586 = Model->Dt * Model->Rhox->a[nctemp583];
int nctemp591=i;
nctemp591=j*El2d->exx->d[0]+nctemp591;
int nctemp595=i;
nctemp595=j*El2d->exy->d[0]+nctemp595;
float nctemp598 = El2d->exx->a[nctemp591] + El2d->exy->a[nctemp595];
float nctemp599 = nctemp586 * nctemp598;
int nctemp608=i;
nctemp608=j*El2d->thetaxxx->d[0]+nctemp608;
float nctemp611 = Model->Dt * El2d->thetaxxx->a[nctemp608];
int nctemp613=i;
nctemp613=j*Model->Drhopx->d[0]+nctemp613;
float nctemp616 = nctemp611 * Model->Drhopx->a[nctemp613];
float nctemp617 = nctemp599 + nctemp616;
int nctemp626=i;
nctemp626=j*El2d->thetayxy->d[0]+nctemp626;
float nctemp629 = Model->Dt * El2d->thetayxy->a[nctemp626];
int nctemp631=i;
nctemp631=j*Model->Drhopy->d[0]+nctemp631;
float nctemp634 = nctemp629 * Model->Drhopy->a[nctemp631];
float nctemp635 = nctemp617 + nctemp634;
int nctemp637=i;
nctemp637=j*El2d->vx->d[0]+nctemp637;
float nctemp640 = nctemp635 + El2d->vx->a[nctemp637];
El2d->vx->a[nctemp563] =nctemp640;
int nctemp644=i;
nctemp644=j*El2d->thetaxxx->d[0]+nctemp644;
int nctemp654=i;
nctemp654=j*Model->Eta1x->d[0]+nctemp654;
int nctemp658=i;
nctemp658=j*El2d->thetaxxx->d[0]+nctemp658;
float nctemp661 = Model->Eta1x->a[nctemp654] * El2d->thetaxxx->a[nctemp658];
int nctemp666=i;
nctemp666=j*Model->Eta2x->d[0]+nctemp666;
int nctemp670=i;
nctemp670=j*El2d->exx->d[0]+nctemp670;
float nctemp673 = Model->Eta2x->a[nctemp666] * El2d->exx->a[nctemp670];
float nctemp674 = nctemp661 + nctemp673;
El2d->thetaxxx->a[nctemp644] =nctemp674;
int nctemp678=i;
nctemp678=j*El2d->thetayxy->d[0]+nctemp678;
int nctemp688=i;
nctemp688=j*Model->Eta1y->d[0]+nctemp688;
int nctemp692=i;
nctemp692=j*El2d->thetayxy->d[0]+nctemp692;
float nctemp695 = Model->Eta1y->a[nctemp688] * El2d->thetayxy->a[nctemp692];
int nctemp700=i;
nctemp700=j*Model->Eta2y->d[0]+nctemp700;
int nctemp704=i;
nctemp704=j*El2d->exy->d[0]+nctemp704;
float nctemp707 = Model->Eta2y->a[nctemp700] * El2d->exy->a[nctemp704];
float nctemp708 = nctemp695 + nctemp707;
El2d->thetayxy->a[nctemp678] =nctemp708;
}
}}}
int El2dvy (struct el2d* El2d,struct model* Model)
{
int nx;
int ny;
int i;
int j;
nx =Model->Nx;
ny =Model->Ny;

 #pragma omp parallel for
for(j=0;j<ny;j=j+1){for(i=0;i<nx;i=i+1){{
int nctemp724=i;
nctemp724=j*El2d->vy->d[0]+nctemp724;
int nctemp744=i;
nctemp744=j*Model->Rhoy->d[0]+nctemp744;
float nctemp747 = Model->Dt * Model->Rhoy->a[nctemp744];
int nctemp752=i;
nctemp752=j*El2d->eyy->d[0]+nctemp752;
int nctemp756=i;
nctemp756=j*El2d->eyx->d[0]+nctemp756;
float nctemp759 = El2d->eyy->a[nctemp752] + El2d->eyx->a[nctemp756];
float nctemp760 = nctemp747 * nctemp759;
int nctemp769=i;
nctemp769=j*El2d->thetayyy->d[0]+nctemp769;
float nctemp772 = Model->Dt * El2d->thetayyy->a[nctemp769];
int nctemp774=i;
nctemp774=j*Model->Drhopy->d[0]+nctemp774;
float nctemp777 = nctemp772 * Model->Drhopy->a[nctemp774];
float nctemp778 = nctemp760 + nctemp777;
int nctemp787=i;
nctemp787=j*El2d->thetaxyx->d[0]+nctemp787;
float nctemp790 = Model->Dt * El2d->thetaxyx->a[nctemp787];
int nctemp792=i;
nctemp792=j*Model->Drhopx->d[0]+nctemp792;
float nctemp795 = nctemp790 * Model->Drhopx->a[nctemp792];
float nctemp796 = nctemp778 + nctemp795;
int nctemp798=i;
nctemp798=j*El2d->vy->d[0]+nctemp798;
float nctemp801 = nctemp796 + El2d->vy->a[nctemp798];
El2d->vy->a[nctemp724] =nctemp801;
int nctemp805=i;
nctemp805=j*El2d->thetayyy->d[0]+nctemp805;
int nctemp815=i;
nctemp815=j*Model->Eta1y->d[0]+nctemp815;
int nctemp819=i;
nctemp819=j*El2d->thetayyy->d[0]+nctemp819;
float nctemp822 = Model->Eta1y->a[nctemp815] * El2d->thetayyy->a[nctemp819];
int nctemp827=i;
nctemp827=j*Model->Eta2y->d[0]+nctemp827;
int nctemp831=i;
nctemp831=j*El2d->eyy->d[0]+nctemp831;
float nctemp834 = Model->Eta2y->a[nctemp827] * El2d->eyy->a[nctemp831];
float nctemp835 = nctemp822 + nctemp834;
El2d->thetayyy->a[nctemp805] =nctemp835;
int nctemp839=i;
nctemp839=j*El2d->thetaxyx->d[0]+nctemp839;
int nctemp849=i;
nctemp849=j*Model->Eta1x->d[0]+nctemp849;
int nctemp853=i;
nctemp853=j*El2d->thetaxyx->d[0]+nctemp853;
float nctemp856 = Model->Eta1x->a[nctemp849] * El2d->thetaxyx->a[nctemp853];
int nctemp861=i;
nctemp861=j*Model->Eta2x->d[0]+nctemp861;
int nctemp865=i;
nctemp865=j*El2d->eyx->d[0]+nctemp865;
float nctemp868 = Model->Eta2x->a[nctemp861] * El2d->eyx->a[nctemp865];
float nctemp869 = nctemp856 + nctemp868;
El2d->thetaxyx->a[nctemp839] =nctemp869;
}
}}}
int El2de (struct el2d* El2d,struct model* Model)
{
int nx;
int ny;
int i;
int j;
nx =Model->Nx;
ny =Model->Ny;

 #pragma omp parallel for
for(j=0;j<ny;j=j+1){for(i=0;i<nx;i=i+1){{
int nctemp885=i;
nctemp885=j*El2d->e->d[0]+nctemp885;
int nctemp892=i;
nctemp892=j*El2d->exx->d[0]+nctemp892;
int nctemp896=i;
nctemp896=j*El2d->eyy->d[0]+nctemp896;
float nctemp899 = El2d->exx->a[nctemp892] + El2d->eyy->a[nctemp896];
El2d->e->a[nctemp885] =nctemp899;
}
}}}
int El2dexy (struct el2d* El2d,struct model* Model,nctempfloat2 *tmp1,nctempfloat2 *tmp2)
{
int nx;
int ny;
int i;
int j;
nx =Model->Nx;
ny =Model->Ny;

 #pragma omp parallel for
for(j=0;j<ny;j=j+1){for(i=0;i<nx;i=i+1){{
int nctemp915=i;
nctemp915=j*El2d->exy->d[0]+nctemp915;
int nctemp926=i;
nctemp926=j*tmp1->d[0]+nctemp926;
int nctemp930=i;
nctemp930=j*tmp2->d[0]+nctemp930;
float nctemp933 = tmp1->a[nctemp926] + tmp2->a[nctemp930];
float nctemp934 = 0.5 * nctemp933;
El2d->exy->a[nctemp915] =nctemp934;
}
}}}
int El2deyx (struct el2d* El2d,struct model* Model,nctempfloat2 *tmp1,nctempfloat2 *tmp2)
{
int nx;
int ny;
int i;
int j;
nx =Model->Nx;
ny =Model->Ny;

 #pragma omp parallel for
for(j=0;j<ny;j=j+1){for(i=0;i<nx;i=i+1){{
int nctemp950=i;
nctemp950=j*El2d->eyx->d[0]+nctemp950;
int nctemp961=i;
nctemp961=j*tmp1->d[0]+nctemp961;
int nctemp965=i;
nctemp965=j*tmp2->d[0]+nctemp965;
float nctemp968 = tmp1->a[nctemp961] + tmp2->a[nctemp965];
float nctemp969 = 0.5 * nctemp968;
El2d->eyx->a[nctemp950] =nctemp969;
}
}}}
int El2dstress (struct el2d* El2d,struct model* Model)
{
int nx;
int ny;
int i;
int j;
nx =Model->Nx;
ny =Model->Ny;

 #pragma omp parallel for
for(j=0;j<ny;j=j+1){for(i=0;i<nx;i=i+1){{
int nctemp985=i;
nctemp985=j*El2d->sigmaxx->d[0]+nctemp985;
int nctemp1008=i;
nctemp1008=j*Model->Lambda->d[0]+nctemp1008;
float nctemp1011 = Model->Dt * Model->Lambda->a[nctemp1008];
int nctemp1016=i;
nctemp1016=j*El2d->exx->d[0]+nctemp1016;
int nctemp1020=i;
nctemp1020=j*El2d->eyy->d[0]+nctemp1020;
float nctemp1023 = El2d->exx->a[nctemp1016] + El2d->eyy->a[nctemp1020];
float nctemp1024 = nctemp1011 * nctemp1023;
float nctemp1036 = 2.0 * Model->Dt;
int nctemp1038=i;
nctemp1038=j*Model->Mu->d[0]+nctemp1038;
float nctemp1041 = nctemp1036 * Model->Mu->a[nctemp1038];
int nctemp1043=i;
nctemp1043=j*El2d->exx->d[0]+nctemp1043;
float nctemp1046 = nctemp1041 * El2d->exx->a[nctemp1043];
float nctemp1047 = nctemp1024 + nctemp1046;
int nctemp1059=i;
nctemp1059=j*El2d->gammaxx->d[0]+nctemp1059;
int nctemp1063=i;
nctemp1063=j*Model->Dlambdax->d[0]+nctemp1063;
float nctemp1066 = El2d->gammaxx->a[nctemp1059] * Model->Dlambdax->a[nctemp1063];
int nctemp1071=i;
nctemp1071=j*El2d->gammayy->d[0]+nctemp1071;
int nctemp1075=i;
nctemp1075=j*Model->Dlambday->d[0]+nctemp1075;
float nctemp1078 = El2d->gammayy->a[nctemp1071] * Model->Dlambday->a[nctemp1075];
float nctemp1079 = nctemp1066 + nctemp1078;
float nctemp1080 = Model->Dt * nctemp1079;
float nctemp1081 = nctemp1047 + nctemp1080;
float nctemp1093 = 2.0 * Model->Dt;
int nctemp1095=i;
nctemp1095=j*El2d->gammaxx->d[0]+nctemp1095;
float nctemp1098 = nctemp1093 * El2d->gammaxx->a[nctemp1095];
int nctemp1100=i;
nctemp1100=j*Model->Dmux->d[0]+nctemp1100;
float nctemp1103 = nctemp1098 * Model->Dmux->a[nctemp1100];
float nctemp1104 = nctemp1081 + nctemp1103;
int nctemp1106=i;
nctemp1106=j*El2d->sigmaxx->d[0]+nctemp1106;
float nctemp1109 = nctemp1104 + El2d->sigmaxx->a[nctemp1106];
El2d->sigmaxx->a[nctemp985] =nctemp1109;
int nctemp1113=i;
nctemp1113=j*El2d->sigmayy->d[0]+nctemp1113;
int nctemp1136=i;
nctemp1136=j*Model->Lambda->d[0]+nctemp1136;
float nctemp1139 = Model->Dt * Model->Lambda->a[nctemp1136];
int nctemp1144=i;
nctemp1144=j*El2d->exx->d[0]+nctemp1144;
int nctemp1148=i;
nctemp1148=j*El2d->eyy->d[0]+nctemp1148;
float nctemp1151 = El2d->exx->a[nctemp1144] + El2d->eyy->a[nctemp1148];
float nctemp1152 = nctemp1139 * nctemp1151;
float nctemp1164 = 2.0 * Model->Dt;
int nctemp1166=i;
nctemp1166=j*Model->Mu->d[0]+nctemp1166;
float nctemp1169 = nctemp1164 * Model->Mu->a[nctemp1166];
int nctemp1171=i;
nctemp1171=j*El2d->eyy->d[0]+nctemp1171;
float nctemp1174 = nctemp1169 * El2d->eyy->a[nctemp1171];
float nctemp1175 = nctemp1152 + nctemp1174;
int nctemp1187=i;
nctemp1187=j*El2d->gammaxx->d[0]+nctemp1187;
int nctemp1191=i;
nctemp1191=j*Model->Dlambdax->d[0]+nctemp1191;
float nctemp1194 = El2d->gammaxx->a[nctemp1187] * Model->Dlambdax->a[nctemp1191];
int nctemp1199=i;
nctemp1199=j*El2d->gammayy->d[0]+nctemp1199;
int nctemp1203=i;
nctemp1203=j*Model->Dlambday->d[0]+nctemp1203;
float nctemp1206 = El2d->gammayy->a[nctemp1199] * Model->Dlambday->a[nctemp1203];
float nctemp1207 = nctemp1194 + nctemp1206;
float nctemp1208 = Model->Dt * nctemp1207;
float nctemp1209 = nctemp1175 + nctemp1208;
float nctemp1221 = 2.0 * Model->Dt;
int nctemp1223=i;
nctemp1223=j*El2d->gammayy->d[0]+nctemp1223;
float nctemp1226 = nctemp1221 * El2d->gammayy->a[nctemp1223];
int nctemp1228=i;
nctemp1228=j*Model->Dmuy->d[0]+nctemp1228;
float nctemp1231 = nctemp1226 * Model->Dmuy->a[nctemp1228];
float nctemp1232 = nctemp1209 + nctemp1231;
int nctemp1234=i;
nctemp1234=j*El2d->sigmayy->d[0]+nctemp1234;
float nctemp1237 = nctemp1232 + El2d->sigmayy->a[nctemp1234];
El2d->sigmayy->a[nctemp1113] =nctemp1237;
int nctemp1241=i;
nctemp1241=j*El2d->p->d[0]+nctemp1241;
int nctemp1252=i;
nctemp1252=j*El2d->sigmaxx->d[0]+nctemp1252;
int nctemp1256=i;
nctemp1256=j*El2d->sigmayy->d[0]+nctemp1256;
float nctemp1259 = El2d->sigmaxx->a[nctemp1252] + El2d->sigmayy->a[nctemp1256];
float nctemp1260 = 0.5 * nctemp1259;
El2d->p->a[nctemp1241] =nctemp1260;
int nctemp1264=i;
nctemp1264=j*El2d->sigmaxy->d[0]+nctemp1264;
float nctemp1284 = 2.0 * Model->Dt;
int nctemp1286=i;
nctemp1286=j*Model->Muxy->d[0]+nctemp1286;
float nctemp1289 = nctemp1284 * Model->Muxy->a[nctemp1286];
int nctemp1291=i;
nctemp1291=j*El2d->exy->d[0]+nctemp1291;
float nctemp1294 = nctemp1289 * El2d->exy->a[nctemp1291];
float nctemp1306 = 2.0 * Model->Dt;
int nctemp1308=i;
nctemp1308=j*El2d->gammaxy->d[0]+nctemp1308;
float nctemp1311 = nctemp1306 * El2d->gammaxy->a[nctemp1308];
int nctemp1313=i;
nctemp1313=j*Model->Dmuxyy->d[0]+nctemp1313;
float nctemp1316 = nctemp1311 * Model->Dmuxyy->a[nctemp1313];
float nctemp1317 = nctemp1294 + nctemp1316;
int nctemp1319=i;
nctemp1319=j*El2d->sigmaxy->d[0]+nctemp1319;
float nctemp1322 = nctemp1317 + El2d->sigmaxy->a[nctemp1319];
El2d->sigmaxy->a[nctemp1264] =nctemp1322;
int nctemp1326=i;
nctemp1326=j*El2d->sigmayx->d[0]+nctemp1326;
float nctemp1346 = 2.0 * Model->Dt;
int nctemp1348=i;
nctemp1348=j*Model->Muxy->d[0]+nctemp1348;
float nctemp1351 = nctemp1346 * Model->Muxy->a[nctemp1348];
int nctemp1353=i;
nctemp1353=j*El2d->exy->d[0]+nctemp1353;
float nctemp1356 = nctemp1351 * El2d->exy->a[nctemp1353];
float nctemp1368 = 2.0 * Model->Dt;
int nctemp1370=i;
nctemp1370=j*El2d->gammayx->d[0]+nctemp1370;
float nctemp1373 = nctemp1368 * El2d->gammayx->a[nctemp1370];
int nctemp1375=i;
nctemp1375=j*Model->Dmuxyx->d[0]+nctemp1375;
float nctemp1378 = nctemp1373 * Model->Dmuxyx->a[nctemp1375];
float nctemp1379 = nctemp1356 + nctemp1378;
int nctemp1381=i;
nctemp1381=j*El2d->sigmayx->d[0]+nctemp1381;
float nctemp1384 = nctemp1379 + El2d->sigmayx->a[nctemp1381];
El2d->sigmayx->a[nctemp1326] =nctemp1384;
int nctemp1388=i;
nctemp1388=j*El2d->gammaxx->d[0]+nctemp1388;
int nctemp1398=i;
nctemp1398=j*Model->Alpha1x->d[0]+nctemp1398;
int nctemp1402=i;
nctemp1402=j*El2d->gammaxx->d[0]+nctemp1402;
float nctemp1405 = Model->Alpha1x->a[nctemp1398] * El2d->gammaxx->a[nctemp1402];
int nctemp1410=i;
nctemp1410=j*Model->Alpha2x->d[0]+nctemp1410;
int nctemp1414=i;
nctemp1414=j*El2d->exx->d[0]+nctemp1414;
float nctemp1417 = Model->Alpha2x->a[nctemp1410] * El2d->exx->a[nctemp1414];
float nctemp1418 = nctemp1405 + nctemp1417;
El2d->gammaxx->a[nctemp1388] =nctemp1418;
int nctemp1422=i;
nctemp1422=j*El2d->gammayy->d[0]+nctemp1422;
int nctemp1432=i;
nctemp1432=j*Model->Alpha1y->d[0]+nctemp1432;
int nctemp1436=i;
nctemp1436=j*El2d->gammayy->d[0]+nctemp1436;
float nctemp1439 = Model->Alpha1y->a[nctemp1432] * El2d->gammayy->a[nctemp1436];
int nctemp1444=i;
nctemp1444=j*Model->Alpha2y->d[0]+nctemp1444;
int nctemp1448=i;
nctemp1448=j*El2d->eyy->d[0]+nctemp1448;
float nctemp1451 = Model->Alpha2y->a[nctemp1444] * El2d->eyy->a[nctemp1448];
float nctemp1452 = nctemp1439 + nctemp1451;
El2d->gammayy->a[nctemp1422] =nctemp1452;
int nctemp1456=i;
nctemp1456=j*El2d->gammaxy->d[0]+nctemp1456;
int nctemp1466=i;
nctemp1466=j*Model->Beta1y->d[0]+nctemp1466;
int nctemp1470=i;
nctemp1470=j*El2d->gammaxy->d[0]+nctemp1470;
float nctemp1473 = Model->Beta1y->a[nctemp1466] * El2d->gammaxy->a[nctemp1470];
int nctemp1478=i;
nctemp1478=j*Model->Beta2y->d[0]+nctemp1478;
int nctemp1482=i;
nctemp1482=j*El2d->exy->d[0]+nctemp1482;
float nctemp1485 = Model->Beta2y->a[nctemp1478] * El2d->exy->a[nctemp1482];
float nctemp1486 = nctemp1473 + nctemp1485;
El2d->gammaxy->a[nctemp1456] =nctemp1486;
int nctemp1490=i;
nctemp1490=j*El2d->gammayx->d[0]+nctemp1490;
int nctemp1500=i;
nctemp1500=j*Model->Beta1x->d[0]+nctemp1500;
int nctemp1504=i;
nctemp1504=j*El2d->gammayx->d[0]+nctemp1504;
float nctemp1507 = Model->Beta1x->a[nctemp1500] * El2d->gammayx->a[nctemp1504];
int nctemp1512=i;
nctemp1512=j*Model->Beta2x->d[0]+nctemp1512;
int nctemp1516=i;
nctemp1516=j*El2d->eyx->d[0]+nctemp1516;
float nctemp1519 = Model->Beta2x->a[nctemp1512] * El2d->eyx->a[nctemp1516];
float nctemp1520 = nctemp1507 + nctemp1519;
El2d->gammayx->a[nctemp1490] =nctemp1520;
}
}}}
int El2dSnap (struct el2d* El2d,int it)
{
int n;
int Nx;
int Ny;
nctempchar1 *tmp;
int nctemp1521 = (El2d->sresamp <= 0);
if(nctemp1521)
{
return 1;
}
int nctemp1530=El2d->sigmaxx->d[0];Nx =nctemp1530;
int nctemp1538=El2d->sigmaxx->d[1];Ny =nctemp1538;
int nctemp1550 = Nx * Ny;
n =nctemp1550;
int nctemp1554= it;
int nctemp1556= El2d->sresamp;
int nctemp1558=LibeMod(nctemp1554,nctemp1556);
int nctemp1551 = (nctemp1558 ==0);
if(nctemp1551)
{
int nctemp1563=0;
int nctemp1560 = (El2d->snpflags->a[nctemp1563] ==1);
if(nctemp1560)
{
nctempchar1 nctemp1572;
nctempchar1 *nctemp1571;
nctemp1572=*(nctempchar1*)(El2d->p);
int nctemp1579 = 4 * n;
nctemp1572.d[0]=nctemp1579;
nctemp1571=&nctemp1572;
tmp=nctemp1571;
int nctemp1581= El2d->fdp;
int nctemp1588 = 4 * n;
int nctemp1583= nctemp1588;
nctempchar1* nctemp1589= tmp;
int nctemp1592=LibeWrite(nctemp1581,nctemp1583,nctemp1589);
}
int nctemp1596=1;
int nctemp1593 = (El2d->snpflags->a[nctemp1596] ==1);
if(nctemp1593)
{
nctempchar1 nctemp1605;
nctempchar1 *nctemp1604;
nctemp1605=*(nctempchar1*)(El2d->vx);
int nctemp1612 = 4 * n;
nctemp1605.d[0]=nctemp1612;
nctemp1604=&nctemp1605;
tmp=nctemp1604;
int nctemp1614= El2d->fdvx;
int nctemp1621 = 4 * n;
int nctemp1616= nctemp1621;
nctempchar1* nctemp1622= tmp;
int nctemp1625=LibeWrite(nctemp1614,nctemp1616,nctemp1622);
}
int nctemp1629=2;
int nctemp1626 = (El2d->snpflags->a[nctemp1629] ==1);
if(nctemp1626)
{
nctempchar1 nctemp1638;
nctempchar1 *nctemp1637;
nctemp1638=*(nctempchar1*)(El2d->vy);
int nctemp1645 = 4 * n;
nctemp1638.d[0]=nctemp1645;
nctemp1637=&nctemp1638;
tmp=nctemp1637;
int nctemp1647= El2d->fdvy;
int nctemp1654 = 4 * n;
int nctemp1649= nctemp1654;
nctempchar1* nctemp1655= tmp;
int nctemp1658=LibeWrite(nctemp1647,nctemp1649,nctemp1655);
}
int nctemp1662=3;
int nctemp1659 = (El2d->snpflags->a[nctemp1662] ==1);
if(nctemp1659)
{
nctempchar1 nctemp1671;
nctempchar1 *nctemp1670;
nctemp1671=*(nctempchar1*)(El2d->e);
int nctemp1678 = 4 * n;
nctemp1671.d[0]=nctemp1678;
nctemp1670=&nctemp1671;
tmp=nctemp1670;
int nctemp1680= El2d->fde;
int nctemp1687 = 4 * n;
int nctemp1682= nctemp1687;
nctempchar1* nctemp1688= tmp;
int nctemp1691=LibeWrite(nctemp1680,nctemp1682,nctemp1688);
}
int nctemp1695=4;
int nctemp1692 = (El2d->snpflags->a[nctemp1695] ==1);
if(nctemp1692)
{
nctempchar1 nctemp1704;
nctempchar1 *nctemp1703;
nctemp1704=*(nctempchar1*)(El2d->exy);
int nctemp1711 = 4 * n;
nctemp1704.d[0]=nctemp1711;
nctemp1703=&nctemp1704;
tmp=nctemp1703;
int nctemp1713= El2d->fdexy;
int nctemp1720 = 4 * n;
int nctemp1715= nctemp1720;
nctempchar1* nctemp1721= tmp;
int nctemp1724=LibeWrite(nctemp1713,nctemp1715,nctemp1721);
}
}
return 1;
}
int El2dSolve (struct el2d* El2d,struct model* Model,struct src* Src,struct rec* Rec,int nt,int l)
{
int sx;
int sy;
struct diff* Diff;
int ns;
int ne;
nctempfloat2 *tmp1;
nctempfloat2 *tmp2;
int i;
int k;
float perc;
float oldperc;
int iperc;
int nctemp1730= l;
struct diff* nctemp1732=DiffNew(nctemp1730);
Diff =nctemp1732;
int nctemp1739=Model->Nx;
nctemp1739=nctemp1739*Model->Ny;
nctempfloat2 *nctemp1738;
nctemp1738=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp1738->d[0]=Model->Nx;
nctemp1738->d[1]=Model->Ny;
nctemp1738->a=(float *)RunMalloc(sizeof(float)*nctemp1739);
tmp1=nctemp1738;
int nctemp1750=Model->Nx;
nctemp1750=nctemp1750*Model->Ny;
nctempfloat2 *nctemp1749;
nctemp1749=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp1749->d[0]=Model->Nx;
nctemp1749->d[1]=Model->Ny;
nctemp1749->a=(float *)RunMalloc(sizeof(float)*nctemp1750);
tmp2=nctemp1749;
oldperc =0.0;
ns =El2d->ts;
int nctemp1771 = ns + nt;
ne =nctemp1771;
i =ns;
int nctemp1776 = (i < ne);
while(nctemp1776){
{
struct diff* nctemp1781= Diff;
nctempfloat2* nctemp1783= El2d->sigmaxx;
nctempfloat2* nctemp1786= El2d->exx;
float nctemp1789= Model->Dx;
int nctemp1791=DiffDxplus(nctemp1781,nctemp1783,nctemp1786,nctemp1789);
struct diff* nctemp1793= Diff;
nctempfloat2* nctemp1795= El2d->sigmaxy;
nctempfloat2* nctemp1798= El2d->exy;
float nctemp1801= Model->Dx;
int nctemp1803=DiffDyminus(nctemp1793,nctemp1795,nctemp1798,nctemp1801);
struct el2d* nctemp1805= El2d;
struct model* nctemp1807= Model;
int nctemp1809=El2dvx(nctemp1805,nctemp1807);
struct diff* nctemp1811= Diff;
nctempfloat2* nctemp1813= El2d->sigmayy;
nctempfloat2* nctemp1816= El2d->eyy;
float nctemp1819= Model->Dx;
int nctemp1821=DiffDyplus(nctemp1811,nctemp1813,nctemp1816,nctemp1819);
struct diff* nctemp1823= Diff;
nctempfloat2* nctemp1825= El2d->sigmaxy;
nctempfloat2* nctemp1828= El2d->eyx;
float nctemp1831= Model->Dx;
int nctemp1833=DiffDxminus(nctemp1823,nctemp1825,nctemp1828,nctemp1831);
struct el2d* nctemp1835= El2d;
struct model* nctemp1837= Model;
int nctemp1839=El2dvy(nctemp1835,nctemp1837);
struct diff* nctemp1841= Diff;
nctempfloat2* nctemp1843= El2d->vx;
nctempfloat2* nctemp1846= El2d->exx;
float nctemp1849= Model->Dx;
int nctemp1851=DiffDxminus(nctemp1841,nctemp1843,nctemp1846,nctemp1849);
struct diff* nctemp1853= Diff;
nctempfloat2* nctemp1855= El2d->vy;
nctempfloat2* nctemp1858= El2d->eyy;
float nctemp1861= Model->Dx;
int nctemp1863=DiffDyminus(nctemp1853,nctemp1855,nctemp1858,nctemp1861);
struct diff* nctemp1865= Diff;
nctempfloat2* nctemp1867= El2d->vy;
nctempfloat2* nctemp1870= tmp1;
float nctemp1873= Model->Dx;
int nctemp1875=DiffDxplus(nctemp1865,nctemp1867,nctemp1870,nctemp1873);
struct diff* nctemp1877= Diff;
nctempfloat2* nctemp1879= El2d->vx;
nctempfloat2* nctemp1882= tmp2;
float nctemp1885= Model->Dx;
int nctemp1887=DiffDyplus(nctemp1877,nctemp1879,nctemp1882,nctemp1885);
struct el2d* nctemp1889= El2d;
struct model* nctemp1891= Model;
nctempfloat2* nctemp1893= tmp1;
nctempfloat2* nctemp1896= tmp2;
int nctemp1899=El2dexy(nctemp1889,nctemp1891,nctemp1893,nctemp1896);
struct el2d* nctemp1901= El2d;
struct model* nctemp1903= Model;
nctempfloat2* nctemp1905= tmp1;
nctempfloat2* nctemp1908= tmp2;
int nctemp1911=El2deyx(nctemp1901,nctemp1903,nctemp1905,nctemp1908);
struct el2d* nctemp1913= El2d;
struct model* nctemp1915= Model;
int nctemp1917=El2de(nctemp1913,nctemp1915);
struct el2d* nctemp1919= El2d;
struct model* nctemp1921= Model;
int nctemp1923=El2dstress(nctemp1919,nctemp1921);
k =0;
int nctemp1928 = (k < Src->Ns);
while(nctemp1928){
{
int nctemp1936=k;
sx =Src->Sx->a[nctemp1936];
int nctemp1942=k;
sy =Src->Sy->a[nctemp1942];
int nctemp1947=sx;
nctemp1947=sy*El2d->sigmaxx->d[0]+nctemp1947;
int nctemp1954=sx;
nctemp1954=sy*El2d->sigmaxx->d[0]+nctemp1954;
int nctemp1965=i;
nctemp1965=k*Src->Sqxx->d[0]+nctemp1965;
float nctemp1973 = Model->Dx * Model->Dx;
float nctemp1974 = Src->Sqxx->a[nctemp1965] / nctemp1973;
float nctemp1975 = Model->Dt * nctemp1974;
float nctemp1976 = El2d->sigmaxx->a[nctemp1954] + nctemp1975;
El2d->sigmaxx->a[nctemp1947] =nctemp1976;
int nctemp1980=sx;
nctemp1980=sy*El2d->sigmayy->d[0]+nctemp1980;
int nctemp1987=sx;
nctemp1987=sy*El2d->sigmayy->d[0]+nctemp1987;
int nctemp1998=i;
nctemp1998=k*Src->Sqyy->d[0]+nctemp1998;
float nctemp2006 = Model->Dx * Model->Dx;
float nctemp2007 = Src->Sqyy->a[nctemp1998] / nctemp2006;
float nctemp2008 = Model->Dt * nctemp2007;
float nctemp2009 = El2d->sigmayy->a[nctemp1987] + nctemp2008;
El2d->sigmayy->a[nctemp1980] =nctemp2009;
int nctemp2013=sx;
nctemp2013=sy*El2d->vx->d[0]+nctemp2013;
int nctemp2020=sx;
nctemp2020=sy*El2d->vx->d[0]+nctemp2020;
int nctemp2031=i;
nctemp2031=k*Src->Sfx->d[0]+nctemp2031;
float nctemp2039 = Model->Dx * Model->Dx;
float nctemp2040 = Src->Sfx->a[nctemp2031] / nctemp2039;
float nctemp2041 = Model->Dt * nctemp2040;
float nctemp2042 = El2d->vx->a[nctemp2020] + nctemp2041;
El2d->vx->a[nctemp2013] =nctemp2042;
int nctemp2046=sx;
nctemp2046=sy*El2d->vy->d[0]+nctemp2046;
int nctemp2053=sx;
nctemp2053=sy*El2d->vy->d[0]+nctemp2053;
int nctemp2064=i;
nctemp2064=k*Src->Sfy->d[0]+nctemp2064;
float nctemp2072 = Model->Dx * Model->Dx;
float nctemp2073 = Src->Sfy->a[nctemp2064] / nctemp2072;
float nctemp2074 = Model->Dt * nctemp2073;
float nctemp2075 = El2d->vy->a[nctemp2053] + nctemp2074;
El2d->vy->a[nctemp2046] =nctemp2075;
}
int nctemp2084 = k + 1;
k =nctemp2084;
int nctemp2085 = (k < Src->Ns);
nctemp1928=nctemp2085;
}
float nctemp2100=(float)(i);
int nctemp2113 = ne - ns;
int nctemp2115 = nctemp2113 - 1;
float nctemp2104=(float)(nctemp2115);
float nctemp2116 = nctemp2100 / nctemp2104;
float nctemp2117 = 1000.0 * nctemp2116;
perc =nctemp2117;
float nctemp2125 = perc - oldperc;
int nctemp2118 = (nctemp2125 >= 10.0);
if(nctemp2118)
{
int nctemp2134=(int)(perc);
int nctemp2138 = nctemp2134 / 10;
iperc =nctemp2138;
int nctemp2142= iperc;
int nctemp2144= 10;
int nctemp2146=LibeMod(nctemp2142,nctemp2144);
int nctemp2139 = (nctemp2146 ==0);
if(nctemp2139)
{
int nctemp2149= 4;
int nctemp2151= iperc;
int nctemp2153=LibePuti(nctemp2149,nctemp2151);
int nctemp2155= 4;
struct nctempchar1 *nctemp2159;
static struct nctempchar1 nctemp2160 = {{ 3}, (char*)"\n\0"};
nctemp2159=&nctemp2160;
nctempchar1* nctemp2157= nctemp2159;
int nctemp2161=LibePuts(nctemp2155,nctemp2157);
int nctemp2163= 4;
int nctemp2165=LibeFlush(nctemp2163);
}
oldperc =perc;
}
struct rec* nctemp2171= Rec;
int nctemp2173= i;
nctempfloat2* nctemp2175= El2d->p;
nctempfloat2* nctemp2178= El2d->vx;
nctempfloat2* nctemp2181= El2d->vy;
int nctemp2184=RecReceiver(nctemp2171,nctemp2173,nctemp2175,nctemp2178,nctemp2181);
struct el2d* nctemp2186= El2d;
int nctemp2188= i;
int nctemp2190=El2dSnap(nctemp2186,nctemp2188);
}
int nctemp2199 = i + 1;
i =nctemp2199;
int nctemp2200 = (i < ne);
nctemp1776=nctemp2200;
}
int nctemp2212 = El2d->ts + ne;
El2d->ts =nctemp2212;
return 1;
}
