/*  Translated by epsc  version today */
#include <stddef.h>
typedef struct { float r; float i;} complex; 
typedef struct nctempfloat1 { int d[1]; float *a;} nctempfloat1; 
typedef struct nctempint1 { int d[1]; int *a;} nctempint1; 
typedef struct nctempchar1 { int d[1]; char *a;} nctempchar1; 
typedef struct nctempcomplex1 { int d[1]; complex *a;} nctempcomplex1; 
typedef struct nctempfloat2 { int d[2]; float *a;} nctempfloat2; 
typedef struct nctempint2 { int d[2]; int *a;} nctempint2; 
typedef struct nctempchar2 { int d[2]; char *a;} nctempchar2; 
typedef struct nctempcomplex2 { int d[2]; complex *a;} nctempcomplex2; 
typedef struct nctempfloat3 { int d[3]; float *a;} nctempfloat3; 
typedef struct nctempint3 { int d[3]; int *a;} nctempint3; 
typedef struct nctempchar3 { int d[3]; char *a;} nctempchar3; 
typedef struct nctempcomplex3 { int d[3]; complex *a;} nctempcomplex3; 
typedef struct nctempfloat4 { int d[4]; float *a;} nctempfloat4; 
typedef struct nctempint4 { int d[4]; int *a;} nctempint4; 
typedef struct nctempchar4 { int d[4]; char *a;} nctempchar4; 
typedef struct nctempcomplex4 { int d[4]; complex *a;} nctempcomplex4; 
#include <stdlib.h>
#include <string.h>
void *RunMalloc(int n); 
int RunFree(void *n); 
int LibeArrayex (int line,nctempchar1 *name,int ival,int index,int bound);
int LibeClearerr ();
int LibeGeterrno ();
nctempchar1* LibeGeterrstr ();
struct MainArg {nctempchar1 *arg;
};
typedef struct nctempMainArg1 {int d[1]; struct MainArg *a; } nctempMainArg1;
struct nctempMainArg2 {int d[2]; struct MainArg *a; } ;
struct nctempMainArg3 {int d[3]; struct MainArg *a; } ;
struct nctempMainArg4 {int d[4]; struct MainArg *a; } ;
int Main (struct nctempMainArg1 *MainArgs);
int LibeInit ();
int LibeDelete ();
int LibeExit ();
nctempchar1* LibeGetenv (nctempchar1 *name);
int LibeOpen (nctempchar1 *name,nctempchar1 *mode);
int LibeClose (int fp);
int LibeGetc (int fp);
int LibeUngetc (int fp);
int LibeGetw (int fp,nctempchar1 *text);
int LibePs (nctempchar1 *s);
int LibePi (int n);
int LibePf (float r);
int LibePutf (int fp,float r,nctempchar1 *form);
int LibePutc (int fp,int c);
int LibePuts (int fp,nctempchar1 *s);
int LibePuti (int fp,int ival);
int LibeRead (int fp,int n,nctempchar1 *array);
int LibeWrite (int fp,int n,nctempchar1 *array);
int LibeSeek (int fp,int pos,int flag);
int LibeFlush (int fp);
int LibeStrlen (nctempchar1 *s);
int LibeStrcmp (nctempchar1 *s,nctempchar1 *t);
int LibeStrev (nctempchar1 *s);
nctempchar1* LibeStrsave (nctempchar1 *s);
int LibeStrcpy (nctempchar1 *s,nctempchar1 *t);
int LibeStrcat (nctempchar1 *s,nctempchar1 *t);
nctempchar1* LibeStradd (nctempchar1 *t,nctempchar1 *s);
int LibeIsalpha (int c);
int LibeIsdigit (int c);
int LibeIsalnum (int c);
int LibeAtoi (nctempchar1 *s);
int LibeItoa (int n,nctempchar1 *s);
int LibeItoh (int n,nctempchar1 *s);
float LibeAtof (nctempchar1 *s);
int LibeFtoa (float f,nctempchar1 *fmt,nctempchar1 *s);
float LibeMach (int flag);
float LibeFabs (float x);
float LibeFscale2 (float x,int n);
float LibeGetfman2 (float x);
int LibeGetfexp2 (float x);
float LibeFscale (float x,int n);
int LibeGetfman (float f,int maxdig);
float LibeGetffman (float f);
int LibeGetmaxdig (float f);
int LibeGetfexp (float f);
float LibeClock ();
int LibeSetnb (int n);
int LibeSetnt (int n);
int LibeGetnb ();
int LibeGetnt ();
int LibeMod (int n,int r);
float LibeSqrt (float x);
float LibeLn (float x);
float LibeExp (float x);
float LibeSin (float x);
float LibeCos (float x);
float LibeTan (float x);
float LibeArcsin (float x);
float LibeArccos (float x);
float LibeArctan (float x);
float LibePow (float base,float exponent);
int LibeSystem (nctempchar1 *cmd);
struct diff {int l;
int lmax;
nctempfloat2 *coeffs;
nctempfloat1 *w;
};
typedef struct nctempdiff1 {int d[1]; struct diff *a; } nctempdiff1;
struct nctempdiff2 {int d[2]; struct diff *a; } ;
struct nctempdiff3 {int d[3]; struct diff *a; } ;
struct nctempdiff4 {int d[4]; struct diff *a; } ;
struct diff* DiffNew (int l);
int DiffDxminus (struct diff* Diff,nctempfloat2 *A,nctempfloat2 *dA,float dx);
int DiffDyminus (struct diff* Diff,nctempfloat2 *A,nctempfloat2 *dA,float dx);
int DiffDxplus (struct diff* Diff,nctempfloat2 *A,nctempfloat2 *dA,float dx);
int DiffDyplus (struct diff* Diff,nctempfloat2 *A,nctempfloat2 *dA,float dx);
struct rec {int nr;
nctempint1 *rx;
nctempint1 *ry;
int fd;
int nt;
nctempfloat2 *p;
nctempfloat2 *sxx;
nctempfloat2 *syy;
nctempfloat2 *vx;
nctempfloat2 *vy;
nctempfloat2 *wrk;
int resamp;
int sresamp;
int pit;
};
typedef struct nctemprec1 {int d[1]; struct rec *a; } nctemprec1;
struct nctemprec2 {int d[2]; struct rec *a; } ;
struct nctemprec3 {int d[3]; struct rec *a; } ;
struct nctemprec4 {int d[4]; struct rec *a; } ;
struct rec* RecNew (nctempint1 *rx,nctempint1 *ry,int nt,int resamp,int sresamp,nctempchar1 *file);
int RecReceiver (struct rec* Rec,int it,nctempfloat2 *sxx,nctempfloat2 *syy,nctempfloat2 *vx,nctempfloat2 *vy);
int RecSave (struct rec* Rec,nctempchar1 *file);
int RecSnap (struct rec* Rec,int it,nctempfloat2 *snp);
struct src {nctempint1 *Sx;
nctempint1 *Sy;
nctempfloat2 *Sqyy;
nctempfloat2 *Sqxx;
nctempfloat2 *Sfx;
nctempfloat2 *Sfy;
int Ns;
};
typedef struct nctempsrc1 {int d[1]; struct src *a; } nctempsrc1;
struct nctempsrc2 {int d[2]; struct src *a; } ;
struct nctempsrc3 {int d[3]; struct src *a; } ;
struct nctempsrc4 {int d[4]; struct src *a; } ;
struct src* SrcNew (nctempint1 *sx,nctempint1 *sy,nctempfloat2 *sqxx,nctempfloat2 *sqyy,nctempfloat2 *sfx,nctempfloat2 *sfy);
int SrcDel (struct src* Src);
struct model {int Nx;
int Ny;
int Nb;
float W0;
nctempfloat2 *Qlx;
nctempfloat2 *Qly;
nctempfloat2 *Qmx;
nctempfloat2 *Qmy;
nctempfloat2 *Qpx;
nctempfloat2 *Qpy;
nctempfloat2 *Qsx;
nctempfloat2 *Qsy;
nctempfloat2 *Lambda;
nctempfloat2 *Mu;
nctempfloat2 *Dlambdax;
nctempfloat2 *Dlambday;
nctempfloat2 *Dmux;
nctempfloat2 *Dmuy;
nctempfloat2 *Drhopx;
nctempfloat2 *Drhopy;
nctempfloat2 *Drhosx;
nctempfloat2 *Drhosy;
nctempfloat2 *Rho;
nctempfloat2 *Alpha1x;
nctempfloat2 *Alpha1y;
nctempfloat2 *Alpha2x;
nctempfloat2 *Alpha2y;
nctempfloat2 *Beta1x;
nctempfloat2 *Beta2x;
nctempfloat2 *Beta1y;
nctempfloat2 *Beta2y;
nctempfloat2 *Eta1x;
nctempfloat2 *Eta1y;
nctempfloat2 *Eta2x;
nctempfloat2 *Eta2y;
nctempfloat2 *Nu1x;
nctempfloat2 *Nu1y;
nctempfloat2 *Nu2x;
nctempfloat2 *Nu2y;
nctempfloat1 *dx;
nctempfloat1 *dy;
nctempfloat1 *dx1;
nctempfloat1 *dy1;
nctempfloat1 *dx2;
nctempfloat1 *dy2;
float Dx;
float Dt;
};
typedef struct nctempmodel1 {int d[1]; struct model *a; } nctempmodel1;
struct nctempmodel2 {int d[2]; struct model *a; } ;
struct nctempmodel3 {int d[3]; struct model *a; } ;
struct nctempmodel4 {int d[4]; struct model *a; } ;
struct model* ModelNew (nctempfloat2 *vp,nctempfloat2 *vs,nctempfloat2 *rho,nctempfloat2 *Qlx,nctempfloat2 *Qly,nctempfloat2 *Qmx,nctempfloat2 *Qmy,nctempfloat2 *Qpx,nctempfloat2 *Qpy,nctempfloat2 *Qsx,nctempfloat2 *Qsy,float Dx,float Dt,float W0,int Nb,int Rheol);
float ModelStability (struct model* Model);
struct el2d {nctempfloat2 *p;
nctempfloat2 *sigmaxx;
nctempfloat2 *sigmayy;
nctempfloat2 *sigmaxy;
nctempfloat2 *sigmayx;
nctempfloat2 *vx;
nctempfloat2 *vy;
nctempfloat2 *exx;
nctempfloat2 *eyy;
nctempfloat2 *exy;
nctempfloat2 *eyx;
nctempfloat2 *gammaxx;
nctempfloat2 *gammayy;
nctempfloat2 *gammaxy;
nctempfloat2 *gammayx;
nctempfloat2 *thetaxxx;
nctempfloat2 *thetayyy;
nctempfloat2 *thetaxyx;
nctempfloat2 *thetayxy;
int ts;
int fd;
int sresamp;
};
typedef struct nctempel2d1 {int d[1]; struct el2d *a; } nctempel2d1;
struct nctempel2d2 {int d[2]; struct el2d *a; } ;
struct nctempel2d3 {int d[3]; struct el2d *a; } ;
struct nctempel2d4 {int d[4]; struct el2d *a; } ;
struct el2d* El2dNew (struct model* Model,int sresamp);
int El2dSolve (struct el2d* El2d,struct model* Model,struct src* Src,struct rec* Rec,int nt,int l);
int El2dvx (struct el2d* El2d,struct model* Model);
int El2dvy (struct el2d* El2d,struct model* Model);
int El2dexy (struct el2d* El2d,struct model* Model,nctempfloat2 *vx,nctempfloat2 *vy);
int El2deyx (struct el2d* El2d,struct model* Model,nctempfloat2 *vx,nctempfloat2 *vy);
int El2dstress (struct el2d* El2d,struct model* Model);
int El2dSnap (struct el2d* El2d,int it);
struct el2d* El2dNew (struct model* Model,int sresamp)
{
struct el2d* El2d;
int i;
int j;
struct el2d *nctemp5=(struct el2d*)RunMalloc(sizeof(struct el2d));
El2d =nctemp5;
El2d->sresamp =sresamp;
int nctemp17=Model->Nx;
nctemp17=nctemp17*Model->Ny;
nctempfloat2 *nctemp16;
nctemp16=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp16->d[0]=Model->Nx;
nctemp16->d[1]=Model->Ny;
nctemp16->a=(float *)RunMalloc(sizeof(float)*nctemp17);
El2d->p=nctemp16;
int nctemp28=Model->Nx;
nctemp28=nctemp28*Model->Ny;
nctempfloat2 *nctemp27;
nctemp27=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp27->d[0]=Model->Nx;
nctemp27->d[1]=Model->Ny;
nctemp27->a=(float *)RunMalloc(sizeof(float)*nctemp28);
El2d->sigmaxx=nctemp27;
int nctemp39=Model->Nx;
nctemp39=nctemp39*Model->Ny;
nctempfloat2 *nctemp38;
nctemp38=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp38->d[0]=Model->Nx;
nctemp38->d[1]=Model->Ny;
nctemp38->a=(float *)RunMalloc(sizeof(float)*nctemp39);
El2d->sigmayy=nctemp38;
int nctemp50=Model->Nx;
nctemp50=nctemp50*Model->Ny;
nctempfloat2 *nctemp49;
nctemp49=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp49->d[0]=Model->Nx;
nctemp49->d[1]=Model->Ny;
nctemp49->a=(float *)RunMalloc(sizeof(float)*nctemp50);
El2d->sigmaxy=nctemp49;
int nctemp61=Model->Nx;
nctemp61=nctemp61*Model->Ny;
nctempfloat2 *nctemp60;
nctemp60=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp60->d[0]=Model->Nx;
nctemp60->d[1]=Model->Ny;
nctemp60->a=(float *)RunMalloc(sizeof(float)*nctemp61);
El2d->sigmayx=nctemp60;
int nctemp72=Model->Nx;
nctemp72=nctemp72*Model->Ny;
nctempfloat2 *nctemp71;
nctemp71=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp71->d[0]=Model->Nx;
nctemp71->d[1]=Model->Ny;
nctemp71->a=(float *)RunMalloc(sizeof(float)*nctemp72);
El2d->vx=nctemp71;
int nctemp83=Model->Nx;
nctemp83=nctemp83*Model->Ny;
nctempfloat2 *nctemp82;
nctemp82=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp82->d[0]=Model->Nx;
nctemp82->d[1]=Model->Ny;
nctemp82->a=(float *)RunMalloc(sizeof(float)*nctemp83);
El2d->vy=nctemp82;
int nctemp94=Model->Nx;
nctemp94=nctemp94*Model->Ny;
nctempfloat2 *nctemp93;
nctemp93=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp93->d[0]=Model->Nx;
nctemp93->d[1]=Model->Ny;
nctemp93->a=(float *)RunMalloc(sizeof(float)*nctemp94);
El2d->exx=nctemp93;
int nctemp105=Model->Nx;
nctemp105=nctemp105*Model->Ny;
nctempfloat2 *nctemp104;
nctemp104=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp104->d[0]=Model->Nx;
nctemp104->d[1]=Model->Ny;
nctemp104->a=(float *)RunMalloc(sizeof(float)*nctemp105);
El2d->eyy=nctemp104;
int nctemp116=Model->Nx;
nctemp116=nctemp116*Model->Ny;
nctempfloat2 *nctemp115;
nctemp115=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp115->d[0]=Model->Nx;
nctemp115->d[1]=Model->Ny;
nctemp115->a=(float *)RunMalloc(sizeof(float)*nctemp116);
El2d->exy=nctemp115;
int nctemp127=Model->Nx;
nctemp127=nctemp127*Model->Ny;
nctempfloat2 *nctemp126;
nctemp126=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp126->d[0]=Model->Nx;
nctemp126->d[1]=Model->Ny;
nctemp126->a=(float *)RunMalloc(sizeof(float)*nctemp127);
El2d->eyx=nctemp126;
int nctemp138=Model->Nx;
nctemp138=nctemp138*Model->Ny;
nctempfloat2 *nctemp137;
nctemp137=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp137->d[0]=Model->Nx;
nctemp137->d[1]=Model->Ny;
nctemp137->a=(float *)RunMalloc(sizeof(float)*nctemp138);
El2d->gammaxx=nctemp137;
int nctemp149=Model->Nx;
nctemp149=nctemp149*Model->Ny;
nctempfloat2 *nctemp148;
nctemp148=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp148->d[0]=Model->Nx;
nctemp148->d[1]=Model->Ny;
nctemp148->a=(float *)RunMalloc(sizeof(float)*nctemp149);
El2d->gammayy=nctemp148;
int nctemp160=Model->Nx;
nctemp160=nctemp160*Model->Ny;
nctempfloat2 *nctemp159;
nctemp159=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp159->d[0]=Model->Nx;
nctemp159->d[1]=Model->Ny;
nctemp159->a=(float *)RunMalloc(sizeof(float)*nctemp160);
El2d->gammaxy=nctemp159;
int nctemp171=Model->Nx;
nctemp171=nctemp171*Model->Ny;
nctempfloat2 *nctemp170;
nctemp170=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp170->d[0]=Model->Nx;
nctemp170->d[1]=Model->Ny;
nctemp170->a=(float *)RunMalloc(sizeof(float)*nctemp171);
El2d->gammayx=nctemp170;
int nctemp182=Model->Nx;
nctemp182=nctemp182*Model->Ny;
nctempfloat2 *nctemp181;
nctemp181=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp181->d[0]=Model->Nx;
nctemp181->d[1]=Model->Ny;
nctemp181->a=(float *)RunMalloc(sizeof(float)*nctemp182);
El2d->thetaxxx=nctemp181;
int nctemp193=Model->Nx;
nctemp193=nctemp193*Model->Ny;
nctempfloat2 *nctemp192;
nctemp192=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp192->d[0]=Model->Nx;
nctemp192->d[1]=Model->Ny;
nctemp192->a=(float *)RunMalloc(sizeof(float)*nctemp193);
El2d->thetayyy=nctemp192;
int nctemp204=Model->Nx;
nctemp204=nctemp204*Model->Ny;
nctempfloat2 *nctemp203;
nctemp203=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp203->d[0]=Model->Nx;
nctemp203->d[1]=Model->Ny;
nctemp203->a=(float *)RunMalloc(sizeof(float)*nctemp204);
El2d->thetayxy=nctemp203;
int nctemp215=Model->Nx;
nctemp215=nctemp215*Model->Ny;
nctempfloat2 *nctemp214;
nctemp214=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp214->d[0]=Model->Nx;
nctemp214->d[1]=Model->Ny;
nctemp214->a=(float *)RunMalloc(sizeof(float)*nctemp215);
El2d->thetaxyx=nctemp214;
i =0;
int nctemp224 = (i < Model->Nx);
while(nctemp224){
{
j =0;
int nctemp232 = (j < Model->Ny);
while(nctemp232){
{
int nctemp239=i;
nctemp239=j*El2d->p->d[0]+nctemp239;
El2d->p->a[nctemp239] =0.0;
int nctemp246=i;
nctemp246=j*El2d->sigmaxx->d[0]+nctemp246;
El2d->sigmaxx->a[nctemp246] =0.0;
int nctemp253=i;
nctemp253=j*El2d->sigmayy->d[0]+nctemp253;
El2d->sigmayy->a[nctemp253] =0.0;
int nctemp260=i;
nctemp260=j*El2d->sigmaxy->d[0]+nctemp260;
El2d->sigmaxy->a[nctemp260] =0.0;
int nctemp267=i;
nctemp267=j*El2d->sigmayx->d[0]+nctemp267;
El2d->sigmayx->a[nctemp267] =0.0;
int nctemp274=i;
nctemp274=j*El2d->vx->d[0]+nctemp274;
El2d->vx->a[nctemp274] =0.0;
int nctemp281=i;
nctemp281=j*El2d->vy->d[0]+nctemp281;
El2d->vy->a[nctemp281] =0.0;
int nctemp288=i;
nctemp288=j*El2d->exx->d[0]+nctemp288;
El2d->exx->a[nctemp288] =0.0;
int nctemp295=i;
nctemp295=j*El2d->eyy->d[0]+nctemp295;
El2d->eyy->a[nctemp295] =0.0;
int nctemp302=i;
nctemp302=j*El2d->exy->d[0]+nctemp302;
El2d->exy->a[nctemp302] =0.0;
int nctemp309=i;
nctemp309=j*El2d->eyx->d[0]+nctemp309;
El2d->eyx->a[nctemp309] =0.0;
int nctemp316=i;
nctemp316=j*El2d->gammaxx->d[0]+nctemp316;
El2d->gammaxx->a[nctemp316] =0.0;
int nctemp323=i;
nctemp323=j*El2d->gammayy->d[0]+nctemp323;
El2d->gammayy->a[nctemp323] =0.0;
int nctemp330=i;
nctemp330=j*El2d->gammaxy->d[0]+nctemp330;
El2d->gammaxy->a[nctemp330] =0.0;
int nctemp337=i;
nctemp337=j*El2d->gammayx->d[0]+nctemp337;
El2d->gammayx->a[nctemp337] =0.0;
int nctemp344=i;
nctemp344=j*El2d->thetaxxx->d[0]+nctemp344;
El2d->thetaxxx->a[nctemp344] =0.0;
int nctemp351=i;
nctemp351=j*El2d->thetayyy->d[0]+nctemp351;
El2d->thetayyy->a[nctemp351] =0.0;
int nctemp358=i;
nctemp358=j*El2d->thetayxy->d[0]+nctemp358;
El2d->thetayxy->a[nctemp358] =0.0;
int nctemp365=i;
nctemp365=j*El2d->thetaxyx->d[0]+nctemp365;
El2d->thetaxyx->a[nctemp365] =0.0;
El2d->ts =0;
}
int nctemp381 = j + 1;
j =nctemp381;
int nctemp382 = (j < Model->Ny);
nctemp232=nctemp382;
}
}
int nctemp394 = i + 1;
i =nctemp394;
int nctemp395 = (i < Model->Nx);
nctemp224=nctemp395;
}
struct nctempchar1 *nctemp405;
static struct nctempchar1 nctemp406 = {{ 8}, (char*)"snp.bin\0"};
nctemp405=&nctemp406;
nctempchar1* nctemp403= nctemp405;
struct nctempchar1 *nctemp409;
static struct nctempchar1 nctemp410 = {{ 2}, (char*)"w\0"};
nctemp409=&nctemp410;
nctempchar1* nctemp407= nctemp409;
int nctemp411=LibeOpen(nctemp403,nctemp407);
El2d->fd =nctemp411;
return El2d;
}
int El2dSolve (struct el2d* El2d,struct model* Model,struct src* Src,struct rec* Rec,int nt,int l)
{
int sx;
int sy;
struct diff* Diff;
int ns;
int ne;
nctempfloat2 *tmp1;
nctempfloat2 *tmp2;
int i;
int k;
nctempfloat2 *p;
float perc;
float oldperc;
int iperc;
int nctemp417= l;
struct diff* nctemp419=DiffNew(nctemp417);
Diff =nctemp419;
int nctemp426=Model->Nx;
nctemp426=nctemp426*Model->Ny;
nctempfloat2 *nctemp425;
nctemp425=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp425->d[0]=Model->Nx;
nctemp425->d[1]=Model->Ny;
nctemp425->a=(float *)RunMalloc(sizeof(float)*nctemp426);
tmp1=nctemp425;
int nctemp437=Model->Nx;
nctemp437=nctemp437*Model->Ny;
nctempfloat2 *nctemp436;
nctemp436=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp436->d[0]=Model->Nx;
nctemp436->d[1]=Model->Ny;
nctemp436->a=(float *)RunMalloc(sizeof(float)*nctemp437);
tmp2=nctemp436;
oldperc =0.0;
ns =El2d->ts;
int nctemp458 = ns + nt;
ne =nctemp458;
i =ns;
int nctemp463 = (i < ne);
while(nctemp463){
{
struct diff* nctemp468= Diff;
nctempfloat2* nctemp470= El2d->sigmaxx;
nctempfloat2* nctemp473= El2d->exx;
float nctemp476= Model->Dx;
int nctemp478=DiffDxplus(nctemp468,nctemp470,nctemp473,nctemp476);
struct diff* nctemp480= Diff;
nctempfloat2* nctemp482= El2d->sigmaxy;
nctempfloat2* nctemp485= El2d->exy;
float nctemp488= Model->Dx;
int nctemp490=DiffDyminus(nctemp480,nctemp482,nctemp485,nctemp488);
struct el2d* nctemp492= El2d;
struct model* nctemp494= Model;
int nctemp496=El2dvx(nctemp492,nctemp494);
struct diff* nctemp498= Diff;
nctempfloat2* nctemp500= El2d->sigmayy;
nctempfloat2* nctemp503= El2d->eyy;
float nctemp506= Model->Dx;
int nctemp508=DiffDyplus(nctemp498,nctemp500,nctemp503,nctemp506);
struct diff* nctemp510= Diff;
nctempfloat2* nctemp512= El2d->sigmaxy;
nctempfloat2* nctemp515= El2d->eyx;
float nctemp518= Model->Dx;
int nctemp520=DiffDxminus(nctemp510,nctemp512,nctemp515,nctemp518);
struct el2d* nctemp522= El2d;
struct model* nctemp524= Model;
int nctemp526=El2dvy(nctemp522,nctemp524);
struct diff* nctemp528= Diff;
nctempfloat2* nctemp530= El2d->vx;
nctempfloat2* nctemp533= El2d->exx;
float nctemp536= Model->Dx;
int nctemp538=DiffDxminus(nctemp528,nctemp530,nctemp533,nctemp536);
struct diff* nctemp540= Diff;
nctempfloat2* nctemp542= El2d->vy;
nctempfloat2* nctemp545= El2d->eyy;
float nctemp548= Model->Dx;
int nctemp550=DiffDyminus(nctemp540,nctemp542,nctemp545,nctemp548);
struct diff* nctemp552= Diff;
nctempfloat2* nctemp554= El2d->vy;
nctempfloat2* nctemp557= tmp1;
float nctemp560= Model->Dx;
int nctemp562=DiffDxplus(nctemp552,nctemp554,nctemp557,nctemp560);
struct diff* nctemp564= Diff;
nctempfloat2* nctemp566= El2d->vx;
nctempfloat2* nctemp569= tmp2;
float nctemp572= Model->Dx;
int nctemp574=DiffDyplus(nctemp564,nctemp566,nctemp569,nctemp572);
struct el2d* nctemp576= El2d;
struct model* nctemp578= Model;
nctempfloat2* nctemp580= tmp1;
nctempfloat2* nctemp583= tmp2;
int nctemp586=El2dexy(nctemp576,nctemp578,nctemp580,nctemp583);
struct el2d* nctemp588= El2d;
struct model* nctemp590= Model;
nctempfloat2* nctemp592= tmp1;
nctempfloat2* nctemp595= tmp2;
int nctemp598=El2deyx(nctemp588,nctemp590,nctemp592,nctemp595);
struct el2d* nctemp600= El2d;
struct model* nctemp602= Model;
int nctemp604=El2dstress(nctemp600,nctemp602);
k =0;
int nctemp609 = (k < Src->Ns);
while(nctemp609){
{
int nctemp617=k;
sx =Src->Sx->a[nctemp617];
int nctemp623=k;
sy =Src->Sy->a[nctemp623];
int nctemp628=sx;
nctemp628=sy*El2d->sigmaxx->d[0]+nctemp628;
int nctemp635=sx;
nctemp635=sy*El2d->sigmaxx->d[0]+nctemp635;
int nctemp646=i;
nctemp646=k*Src->Sqxx->d[0]+nctemp646;
float nctemp654 = Model->Dx * Model->Dx;
float nctemp655 = Src->Sqxx->a[nctemp646] / nctemp654;
float nctemp656 = Model->Dt * nctemp655;
float nctemp657 = El2d->sigmaxx->a[nctemp635] + nctemp656;
El2d->sigmaxx->a[nctemp628] =nctemp657;
int nctemp661=sx;
nctemp661=sy*El2d->sigmayy->d[0]+nctemp661;
int nctemp668=sx;
nctemp668=sy*El2d->sigmayy->d[0]+nctemp668;
int nctemp679=i;
nctemp679=k*Src->Sqyy->d[0]+nctemp679;
float nctemp687 = Model->Dx * Model->Dx;
float nctemp688 = Src->Sqyy->a[nctemp679] / nctemp687;
float nctemp689 = Model->Dt * nctemp688;
float nctemp690 = El2d->sigmayy->a[nctemp668] + nctemp689;
El2d->sigmayy->a[nctemp661] =nctemp690;
int nctemp694=sx;
nctemp694=sy*El2d->vx->d[0]+nctemp694;
int nctemp701=sx;
nctemp701=sy*El2d->vx->d[0]+nctemp701;
int nctemp712=i;
nctemp712=k*Src->Sfx->d[0]+nctemp712;
float nctemp720 = Model->Dx * Model->Dx;
float nctemp721 = Src->Sfx->a[nctemp712] / nctemp720;
float nctemp722 = Model->Dt * nctemp721;
float nctemp723 = El2d->vx->a[nctemp701] + nctemp722;
El2d->vx->a[nctemp694] =nctemp723;
int nctemp727=sx;
nctemp727=sy*El2d->vy->d[0]+nctemp727;
int nctemp734=sx;
nctemp734=sy*El2d->vy->d[0]+nctemp734;
int nctemp745=i;
nctemp745=k*Src->Sfy->d[0]+nctemp745;
float nctemp753 = Model->Dx * Model->Dx;
float nctemp754 = Src->Sfy->a[nctemp745] / nctemp753;
float nctemp755 = Model->Dt * nctemp754;
float nctemp756 = El2d->vy->a[nctemp734] + nctemp755;
El2d->vy->a[nctemp727] =nctemp756;
}
int nctemp765 = k + 1;
k =nctemp765;
int nctemp766 = (k < Src->Ns);
nctemp609=nctemp766;
}
float nctemp781=(float)(i);
int nctemp794 = ne - ns;
int nctemp796 = nctemp794 - 1;
float nctemp785=(float)(nctemp796);
float nctemp797 = nctemp781 / nctemp785;
float nctemp798 = 1000.0 * nctemp797;
perc =nctemp798;
float nctemp806 = perc - oldperc;
int nctemp799 = (nctemp806 >= 10.0);
if(nctemp799)
{
int nctemp815=(int)(perc);
int nctemp819 = nctemp815 / 10;
iperc =nctemp819;
int nctemp823= iperc;
int nctemp825= 10;
int nctemp827=LibeMod(nctemp823,nctemp825);
int nctemp820 = (nctemp827 ==0);
if(nctemp820)
{
int nctemp830= 4;
int nctemp832= iperc;
int nctemp834=LibePuti(nctemp830,nctemp832);
int nctemp836= 4;
struct nctempchar1 *nctemp840;
static struct nctempchar1 nctemp841 = {{ 3}, (char*)"\n\0"};
nctemp840=&nctemp841;
nctempchar1* nctemp838= nctemp840;
int nctemp842=LibePuts(nctemp836,nctemp838);
int nctemp844= 4;
int nctemp846=LibeFlush(nctemp844);
}
oldperc =perc;
}
struct rec* nctemp852= Rec;
int nctemp854= i;
nctempfloat2* nctemp856= El2d->sigmaxx;
nctempfloat2* nctemp859= El2d->sigmayy;
nctempfloat2* nctemp862= El2d->vx;
nctempfloat2* nctemp865= El2d->vy;
int nctemp868=RecReceiver(nctemp852,nctemp854,nctemp856,nctemp859,nctemp862,nctemp865);
struct el2d* nctemp870= El2d;
int nctemp872= i;
int nctemp874=El2dSnap(nctemp870,nctemp872);
}
int nctemp883 = i + 1;
i =nctemp883;
int nctemp884 = (i < ne);
nctemp463=nctemp884;
}
return 1;
}
int El2dvx (struct el2d* El2d,struct model* Model)
{
int nx;
int ny;
int i;
int j;
nx =Model->Nx;
ny =Model->Ny;

 #pragma omp parallel for
for(j=0;j<ny;j=j+1){for(i=0;i<nx;i=i+1){{
int nctemp904=i;
nctemp904=j*El2d->vx->d[0]+nctemp904;
int nctemp924=i;
nctemp924=j*Model->Rho->d[0]+nctemp924;
float nctemp927 = Model->Dt * Model->Rho->a[nctemp924];
int nctemp932=i;
nctemp932=j*El2d->exx->d[0]+nctemp932;
int nctemp936=i;
nctemp936=j*El2d->exy->d[0]+nctemp936;
float nctemp939 = El2d->exx->a[nctemp932] + El2d->exy->a[nctemp936];
float nctemp940 = nctemp927 * nctemp939;
int nctemp949=i;
nctemp949=j*El2d->thetaxxx->d[0]+nctemp949;
float nctemp952 = Model->Dt * El2d->thetaxxx->a[nctemp949];
int nctemp954=i;
nctemp954=j*Model->Drhopx->d[0]+nctemp954;
float nctemp957 = nctemp952 * Model->Drhopx->a[nctemp954];
float nctemp958 = nctemp940 + nctemp957;
int nctemp967=i;
nctemp967=j*El2d->thetayxy->d[0]+nctemp967;
float nctemp970 = Model->Dt * El2d->thetayxy->a[nctemp967];
int nctemp972=i;
nctemp972=j*Model->Drhosy->d[0]+nctemp972;
float nctemp975 = nctemp970 * Model->Drhosy->a[nctemp972];
float nctemp976 = nctemp958 + nctemp975;
int nctemp978=i;
nctemp978=j*El2d->vx->d[0]+nctemp978;
float nctemp981 = nctemp976 + El2d->vx->a[nctemp978];
El2d->vx->a[nctemp904] =nctemp981;
int nctemp985=i;
nctemp985=j*El2d->thetaxxx->d[0]+nctemp985;
int nctemp995=i;
nctemp995=j*Model->Eta1x->d[0]+nctemp995;
int nctemp999=i;
nctemp999=j*El2d->thetaxxx->d[0]+nctemp999;
float nctemp1002 = Model->Eta1x->a[nctemp995] * El2d->thetaxxx->a[nctemp999];
int nctemp1007=i;
nctemp1007=j*Model->Eta2x->d[0]+nctemp1007;
int nctemp1011=i;
nctemp1011=j*El2d->exx->d[0]+nctemp1011;
float nctemp1014 = Model->Eta2x->a[nctemp1007] * El2d->exx->a[nctemp1011];
float nctemp1015 = nctemp1002 + nctemp1014;
El2d->thetaxxx->a[nctemp985] =nctemp1015;
int nctemp1019=i;
nctemp1019=j*El2d->thetayxy->d[0]+nctemp1019;
int nctemp1029=i;
nctemp1029=j*Model->Nu1y->d[0]+nctemp1029;
int nctemp1033=i;
nctemp1033=j*El2d->thetayxy->d[0]+nctemp1033;
float nctemp1036 = Model->Nu1y->a[nctemp1029] * El2d->thetayxy->a[nctemp1033];
int nctemp1041=i;
nctemp1041=j*Model->Nu2y->d[0]+nctemp1041;
int nctemp1045=i;
nctemp1045=j*El2d->exy->d[0]+nctemp1045;
float nctemp1048 = Model->Nu2y->a[nctemp1041] * El2d->exy->a[nctemp1045];
float nctemp1049 = nctemp1036 + nctemp1048;
El2d->thetayxy->a[nctemp1019] =nctemp1049;
}
}}}
int El2dvy (struct el2d* El2d,struct model* Model)
{
int nx;
int ny;
int i;
int j;
nx =Model->Nx;
ny =Model->Ny;

 #pragma omp parallel for
for(j=0;j<ny;j=j+1){for(i=0;i<nx;i=i+1){{
int nctemp1065=i;
nctemp1065=j*El2d->vy->d[0]+nctemp1065;
int nctemp1085=i;
nctemp1085=j*Model->Rho->d[0]+nctemp1085;
float nctemp1088 = Model->Dt * Model->Rho->a[nctemp1085];
int nctemp1093=i;
nctemp1093=j*El2d->eyy->d[0]+nctemp1093;
int nctemp1097=i;
nctemp1097=j*El2d->eyx->d[0]+nctemp1097;
float nctemp1100 = El2d->eyy->a[nctemp1093] + El2d->eyx->a[nctemp1097];
float nctemp1101 = nctemp1088 * nctemp1100;
int nctemp1110=i;
nctemp1110=j*El2d->thetayyy->d[0]+nctemp1110;
float nctemp1113 = Model->Dt * El2d->thetayyy->a[nctemp1110];
int nctemp1115=i;
nctemp1115=j*Model->Drhopy->d[0]+nctemp1115;
float nctemp1118 = nctemp1113 * Model->Drhopy->a[nctemp1115];
float nctemp1119 = nctemp1101 + nctemp1118;
int nctemp1128=i;
nctemp1128=j*El2d->thetaxyx->d[0]+nctemp1128;
float nctemp1131 = Model->Dt * El2d->thetaxyx->a[nctemp1128];
int nctemp1133=i;
nctemp1133=j*Model->Drhosx->d[0]+nctemp1133;
float nctemp1136 = nctemp1131 * Model->Drhosx->a[nctemp1133];
float nctemp1137 = nctemp1119 + nctemp1136;
int nctemp1139=i;
nctemp1139=j*El2d->vy->d[0]+nctemp1139;
float nctemp1142 = nctemp1137 + El2d->vy->a[nctemp1139];
El2d->vy->a[nctemp1065] =nctemp1142;
int nctemp1146=i;
nctemp1146=j*El2d->thetayyy->d[0]+nctemp1146;
int nctemp1156=i;
nctemp1156=j*Model->Eta1y->d[0]+nctemp1156;
int nctemp1160=i;
nctemp1160=j*El2d->thetayyy->d[0]+nctemp1160;
float nctemp1163 = Model->Eta1y->a[nctemp1156] * El2d->thetayyy->a[nctemp1160];
int nctemp1168=i;
nctemp1168=j*Model->Eta2y->d[0]+nctemp1168;
int nctemp1172=i;
nctemp1172=j*El2d->eyy->d[0]+nctemp1172;
float nctemp1175 = Model->Eta2y->a[nctemp1168] * El2d->eyy->a[nctemp1172];
float nctemp1176 = nctemp1163 + nctemp1175;
El2d->thetayyy->a[nctemp1146] =nctemp1176;
int nctemp1180=i;
nctemp1180=j*El2d->thetaxyx->d[0]+nctemp1180;
int nctemp1190=i;
nctemp1190=j*Model->Nu1x->d[0]+nctemp1190;
int nctemp1194=i;
nctemp1194=j*El2d->thetaxyx->d[0]+nctemp1194;
float nctemp1197 = Model->Nu1x->a[nctemp1190] * El2d->thetaxyx->a[nctemp1194];
int nctemp1202=i;
nctemp1202=j*Model->Nu2x->d[0]+nctemp1202;
int nctemp1206=i;
nctemp1206=j*El2d->eyx->d[0]+nctemp1206;
float nctemp1209 = Model->Nu2x->a[nctemp1202] * El2d->eyx->a[nctemp1206];
float nctemp1210 = nctemp1197 + nctemp1209;
El2d->thetaxyx->a[nctemp1180] =nctemp1210;
}
}}}
int El2dexy (struct el2d* El2d,struct model* Model,nctempfloat2 *tmp1,nctempfloat2 *tmp2)
{
int nx;
int ny;
int i;
int j;
nx =Model->Nx;
ny =Model->Ny;

 #pragma omp parallel for
for(j=0;j<ny;j=j+1){for(i=0;i<nx;i=i+1){{
int nctemp1226=i;
nctemp1226=j*El2d->exy->d[0]+nctemp1226;
int nctemp1237=i;
nctemp1237=j*tmp1->d[0]+nctemp1237;
int nctemp1241=i;
nctemp1241=j*tmp2->d[0]+nctemp1241;
float nctemp1244 = tmp1->a[nctemp1237] + tmp2->a[nctemp1241];
float nctemp1245 = 0.5 * nctemp1244;
El2d->exy->a[nctemp1226] =nctemp1245;
}
}}}
int El2deyx (struct el2d* El2d,struct model* Model,nctempfloat2 *tmp1,nctempfloat2 *tmp2)
{
int nx;
int ny;
int i;
int j;
nx =Model->Nx;
ny =Model->Ny;

 #pragma omp parallel for
for(j=0;j<ny;j=j+1){for(i=0;i<nx;i=i+1){{
int nctemp1261=i;
nctemp1261=j*El2d->eyx->d[0]+nctemp1261;
int nctemp1272=i;
nctemp1272=j*tmp1->d[0]+nctemp1272;
int nctemp1276=i;
nctemp1276=j*tmp2->d[0]+nctemp1276;
float nctemp1279 = tmp1->a[nctemp1272] + tmp2->a[nctemp1276];
float nctemp1280 = 0.5 * nctemp1279;
El2d->eyx->a[nctemp1261] =nctemp1280;
}
}}}
int El2dstress (struct el2d* El2d,struct model* Model)
{
int nx;
int ny;
int i;
int j;
int l;
nx =Model->Nx;
ny =Model->Ny;

 #pragma omp parallel for
for(j=0;j<ny;j=j+1){for(i=0;i<nx;i=i+1){{
int nctemp1296=i;
nctemp1296=j*El2d->sigmaxx->d[0]+nctemp1296;
int nctemp1319=i;
nctemp1319=j*Model->Lambda->d[0]+nctemp1319;
float nctemp1322 = Model->Dt * Model->Lambda->a[nctemp1319];
int nctemp1327=i;
nctemp1327=j*El2d->exx->d[0]+nctemp1327;
int nctemp1331=i;
nctemp1331=j*El2d->eyy->d[0]+nctemp1331;
float nctemp1334 = El2d->exx->a[nctemp1327] + El2d->eyy->a[nctemp1331];
float nctemp1335 = nctemp1322 * nctemp1334;
float nctemp1347 = 2.0 * Model->Dt;
int nctemp1349=i;
nctemp1349=j*Model->Mu->d[0]+nctemp1349;
float nctemp1352 = nctemp1347 * Model->Mu->a[nctemp1349];
int nctemp1354=i;
nctemp1354=j*El2d->exx->d[0]+nctemp1354;
float nctemp1357 = nctemp1352 * El2d->exx->a[nctemp1354];
float nctemp1358 = nctemp1335 + nctemp1357;
int nctemp1370=i;
nctemp1370=j*El2d->gammaxx->d[0]+nctemp1370;
int nctemp1374=i;
nctemp1374=j*Model->Dlambdax->d[0]+nctemp1374;
float nctemp1377 = El2d->gammaxx->a[nctemp1370] * Model->Dlambdax->a[nctemp1374];
int nctemp1382=i;
nctemp1382=j*El2d->gammayy->d[0]+nctemp1382;
int nctemp1386=i;
nctemp1386=j*Model->Dlambday->d[0]+nctemp1386;
float nctemp1389 = El2d->gammayy->a[nctemp1382] * Model->Dlambday->a[nctemp1386];
float nctemp1390 = nctemp1377 + nctemp1389;
float nctemp1391 = Model->Dt * nctemp1390;
float nctemp1392 = nctemp1358 + nctemp1391;
float nctemp1404 = 2.0 * Model->Dt;
int nctemp1406=i;
nctemp1406=j*El2d->gammaxx->d[0]+nctemp1406;
float nctemp1409 = nctemp1404 * El2d->gammaxx->a[nctemp1406];
int nctemp1411=i;
nctemp1411=j*Model->Dmux->d[0]+nctemp1411;
float nctemp1414 = nctemp1409 * Model->Dmux->a[nctemp1411];
float nctemp1415 = nctemp1392 + nctemp1414;
int nctemp1417=i;
nctemp1417=j*El2d->sigmaxx->d[0]+nctemp1417;
float nctemp1420 = nctemp1415 + El2d->sigmaxx->a[nctemp1417];
El2d->sigmaxx->a[nctemp1296] =nctemp1420;
int nctemp1424=i;
nctemp1424=j*El2d->sigmayy->d[0]+nctemp1424;
int nctemp1447=i;
nctemp1447=j*Model->Lambda->d[0]+nctemp1447;
float nctemp1450 = Model->Dt * Model->Lambda->a[nctemp1447];
int nctemp1455=i;
nctemp1455=j*El2d->exx->d[0]+nctemp1455;
int nctemp1459=i;
nctemp1459=j*El2d->eyy->d[0]+nctemp1459;
float nctemp1462 = El2d->exx->a[nctemp1455] + El2d->eyy->a[nctemp1459];
float nctemp1463 = nctemp1450 * nctemp1462;
float nctemp1475 = 2.0 * Model->Dt;
int nctemp1477=i;
nctemp1477=j*Model->Mu->d[0]+nctemp1477;
float nctemp1480 = nctemp1475 * Model->Mu->a[nctemp1477];
int nctemp1482=i;
nctemp1482=j*El2d->eyy->d[0]+nctemp1482;
float nctemp1485 = nctemp1480 * El2d->eyy->a[nctemp1482];
float nctemp1486 = nctemp1463 + nctemp1485;
int nctemp1498=i;
nctemp1498=j*El2d->gammaxx->d[0]+nctemp1498;
int nctemp1502=i;
nctemp1502=j*Model->Dlambdax->d[0]+nctemp1502;
float nctemp1505 = El2d->gammaxx->a[nctemp1498] * Model->Dlambdax->a[nctemp1502];
int nctemp1510=i;
nctemp1510=j*El2d->gammayy->d[0]+nctemp1510;
int nctemp1514=i;
nctemp1514=j*Model->Dlambday->d[0]+nctemp1514;
float nctemp1517 = El2d->gammayy->a[nctemp1510] * Model->Dlambday->a[nctemp1514];
float nctemp1518 = nctemp1505 + nctemp1517;
float nctemp1519 = Model->Dt * nctemp1518;
float nctemp1520 = nctemp1486 + nctemp1519;
float nctemp1532 = 2.0 * Model->Dt;
int nctemp1534=i;
nctemp1534=j*El2d->gammayy->d[0]+nctemp1534;
float nctemp1537 = nctemp1532 * El2d->gammayy->a[nctemp1534];
int nctemp1539=i;
nctemp1539=j*Model->Dmuy->d[0]+nctemp1539;
float nctemp1542 = nctemp1537 * Model->Dmuy->a[nctemp1539];
float nctemp1543 = nctemp1520 + nctemp1542;
int nctemp1545=i;
nctemp1545=j*El2d->sigmayy->d[0]+nctemp1545;
float nctemp1548 = nctemp1543 + El2d->sigmayy->a[nctemp1545];
El2d->sigmayy->a[nctemp1424] =nctemp1548;
int nctemp1552=i;
nctemp1552=j*El2d->sigmaxy->d[0]+nctemp1552;
float nctemp1572 = 2.0 * Model->Dt;
int nctemp1574=i;
nctemp1574=j*Model->Mu->d[0]+nctemp1574;
float nctemp1577 = nctemp1572 * Model->Mu->a[nctemp1574];
int nctemp1579=i;
nctemp1579=j*El2d->exy->d[0]+nctemp1579;
float nctemp1582 = nctemp1577 * El2d->exy->a[nctemp1579];
float nctemp1594 = 2.0 * Model->Dt;
int nctemp1596=i;
nctemp1596=j*El2d->gammaxy->d[0]+nctemp1596;
float nctemp1599 = nctemp1594 * El2d->gammaxy->a[nctemp1596];
int nctemp1601=i;
nctemp1601=j*Model->Dmuy->d[0]+nctemp1601;
float nctemp1604 = nctemp1599 * Model->Dmuy->a[nctemp1601];
float nctemp1605 = nctemp1582 + nctemp1604;
int nctemp1607=i;
nctemp1607=j*El2d->sigmaxy->d[0]+nctemp1607;
float nctemp1610 = nctemp1605 + El2d->sigmaxy->a[nctemp1607];
El2d->sigmaxy->a[nctemp1552] =nctemp1610;
int nctemp1614=i;
nctemp1614=j*El2d->sigmayx->d[0]+nctemp1614;
float nctemp1634 = 2.0 * Model->Dt;
int nctemp1636=i;
nctemp1636=j*Model->Mu->d[0]+nctemp1636;
float nctemp1639 = nctemp1634 * Model->Mu->a[nctemp1636];
int nctemp1641=i;
nctemp1641=j*El2d->exy->d[0]+nctemp1641;
float nctemp1644 = nctemp1639 * El2d->exy->a[nctemp1641];
float nctemp1656 = 2.0 * Model->Dt;
int nctemp1658=i;
nctemp1658=j*El2d->gammayx->d[0]+nctemp1658;
float nctemp1661 = nctemp1656 * El2d->gammayx->a[nctemp1658];
int nctemp1663=i;
nctemp1663=j*Model->Dmux->d[0]+nctemp1663;
float nctemp1666 = nctemp1661 * Model->Dmux->a[nctemp1663];
float nctemp1667 = nctemp1644 + nctemp1666;
int nctemp1669=i;
nctemp1669=j*El2d->sigmayx->d[0]+nctemp1669;
float nctemp1672 = nctemp1667 + El2d->sigmayx->a[nctemp1669];
El2d->sigmayx->a[nctemp1614] =nctemp1672;
int nctemp1676=i;
nctemp1676=j*El2d->gammaxx->d[0]+nctemp1676;
int nctemp1686=i;
nctemp1686=j*Model->Alpha1x->d[0]+nctemp1686;
int nctemp1690=i;
nctemp1690=j*El2d->gammaxx->d[0]+nctemp1690;
float nctemp1693 = Model->Alpha1x->a[nctemp1686] * El2d->gammaxx->a[nctemp1690];
int nctemp1698=i;
nctemp1698=j*Model->Alpha2x->d[0]+nctemp1698;
int nctemp1702=i;
nctemp1702=j*El2d->exx->d[0]+nctemp1702;
float nctemp1705 = Model->Alpha2x->a[nctemp1698] * El2d->exx->a[nctemp1702];
float nctemp1706 = nctemp1693 + nctemp1705;
El2d->gammaxx->a[nctemp1676] =nctemp1706;
int nctemp1710=i;
nctemp1710=j*El2d->gammayy->d[0]+nctemp1710;
int nctemp1720=i;
nctemp1720=j*Model->Alpha1y->d[0]+nctemp1720;
int nctemp1724=i;
nctemp1724=j*El2d->gammayy->d[0]+nctemp1724;
float nctemp1727 = Model->Alpha1y->a[nctemp1720] * El2d->gammayy->a[nctemp1724];
int nctemp1732=i;
nctemp1732=j*Model->Alpha2y->d[0]+nctemp1732;
int nctemp1736=i;
nctemp1736=j*El2d->eyy->d[0]+nctemp1736;
float nctemp1739 = Model->Alpha2y->a[nctemp1732] * El2d->eyy->a[nctemp1736];
float nctemp1740 = nctemp1727 + nctemp1739;
El2d->gammayy->a[nctemp1710] =nctemp1740;
int nctemp1744=i;
nctemp1744=j*El2d->gammaxy->d[0]+nctemp1744;
int nctemp1754=i;
nctemp1754=j*Model->Beta1y->d[0]+nctemp1754;
int nctemp1758=i;
nctemp1758=j*El2d->gammaxy->d[0]+nctemp1758;
float nctemp1761 = Model->Beta1y->a[nctemp1754] * El2d->gammaxy->a[nctemp1758];
int nctemp1766=i;
nctemp1766=j*Model->Beta2y->d[0]+nctemp1766;
int nctemp1770=i;
nctemp1770=j*El2d->exy->d[0]+nctemp1770;
float nctemp1773 = Model->Beta2y->a[nctemp1766] * El2d->exy->a[nctemp1770];
float nctemp1774 = nctemp1761 + nctemp1773;
El2d->gammaxy->a[nctemp1744] =nctemp1774;
int nctemp1778=i;
nctemp1778=j*El2d->gammayx->d[0]+nctemp1778;
int nctemp1788=i;
nctemp1788=j*Model->Beta1x->d[0]+nctemp1788;
int nctemp1792=i;
nctemp1792=j*El2d->gammayx->d[0]+nctemp1792;
float nctemp1795 = Model->Beta1x->a[nctemp1788] * El2d->gammayx->a[nctemp1792];
int nctemp1800=i;
nctemp1800=j*Model->Beta2x->d[0]+nctemp1800;
int nctemp1804=i;
nctemp1804=j*El2d->eyx->d[0]+nctemp1804;
float nctemp1807 = Model->Beta2x->a[nctemp1800] * El2d->eyx->a[nctemp1804];
float nctemp1808 = nctemp1795 + nctemp1807;
El2d->gammayx->a[nctemp1778] =nctemp1808;
}
}}}
int El2dSnap (struct el2d* El2d,int it)
{
int n;
int Nx;
int Ny;
nctempchar1 *tmp;
int nctemp1809 = (El2d->sresamp <= 0);
if(nctemp1809)
{
return 1;
}
int nctemp1818=El2d->sigmaxx->d[0];Nx =nctemp1818;
int nctemp1826=El2d->sigmaxx->d[1];Ny =nctemp1826;
int nctemp1838 = Nx * Ny;
n =nctemp1838;
int nctemp1842= it;
int nctemp1844= El2d->sresamp;
int nctemp1846=LibeMod(nctemp1842,nctemp1844);
int nctemp1839 = (nctemp1846 ==0);
if(nctemp1839)
{
nctempchar1 nctemp1854;
nctempchar1 *nctemp1853;
nctemp1854=*(nctempchar1*)(El2d->sigmaxx);
int nctemp1861 = 4 * n;
nctemp1854.d[0]=nctemp1861;
nctemp1853=&nctemp1854;
tmp=nctemp1853;
int nctemp1863= El2d->fd;
int nctemp1870 = 4 * n;
int nctemp1865= nctemp1870;
nctempchar1* nctemp1871= tmp;
int nctemp1874=LibeWrite(nctemp1863,nctemp1865,nctemp1871);
}
return 1;
}
