//  Translated by epsc  version today  
#include <stddef.h>
typedef struct { float r; float i;} complex; 
typedef struct nctempfloat1 { int d[1]; float *a;} nctempfloat1; 
typedef struct nctempint1 { int d[1]; int *a;} nctempint1; 
typedef struct nctempchar1 { int d[1]; char *a;} nctempchar1; 
typedef struct nctempcomplex1 { int d[1]; complex *a;} nctempcomplex1; 
typedef struct nctempfloat2 { int d[2]; float *a;} nctempfloat2; 
typedef struct nctempint2 { int d[2]; int *a;} nctempint2; 
typedef struct nctempchar2 { int d[2]; char *a;} nctempchar2; 
typedef struct nctempcomplex2 { int d[2]; complex *a;} nctempcomplex2; 
typedef struct nctempfloat3 { int d[3]; float *a;} nctempfloat3; 
typedef struct nctempint3 { int d[3]; int *a;} nctempint3; 
typedef struct nctempchar3 { int d[3]; char *a;} nctempchar3; 
typedef struct nctempcomplex3 { int d[3]; complex *a;} nctempcomplex3; 
typedef struct nctempfloat4 { int d[4]; float *a;} nctempfloat4; 
typedef struct nctempint4 { int d[4]; int *a;} nctempint4; 
typedef struct nctempchar4 { int d[4]; char *a;} nctempchar4; 
typedef struct nctempcomplex4 { int d[4]; complex *a;} nctempcomplex4; 
#include <stdlib.h>
#include <string.h>
void *RunMalloc(int n); 
int RunFree(void *n); 
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
struct MainArg {nctempchar1 *arg;
};
typedef struct nctempMainArg1 {int d[1]; struct MainArg *a; } nctempMainArg1;
struct nctempMainArg2 {int d[2]; struct MainArg *a; } ;
struct nctempMainArg3 {int d[3]; struct MainArg *a; } ;
struct nctempMainArg4 {int d[4]; struct MainArg *a; } ;
int LibeErrno;
nctempchar1 *LibeErrstr;
int LibeErrinit ();
int LibeGeterrno ();
int LibeClearerr ();
nctempchar1 * LibeGeterrstr ();
nctempchar1 * LibeGetenv (nctempchar1 *name);
;
;
;
;
;
float LibeMach (int flag);
float LibeFabs (float x);
float LibeFscale2 (float x,int n);
float LibeGetfman2 (float x);
int LibeGetfexp2 (float x);
float LibeFscale (float x,int n);
int LibeGetfman (float f,int maxdig);
float LibeGetffman (float f);
int LibeGetmaxdig (float f);
int LibeGetfexp (float f);
float LibeClock ();
;
;
;
;
;
;
;
float LibeSincosmax;
float LibeSincoslim;
float LibeLnmax;
float LibeLnmin;
int LibeMod (int n,int r);
float LibeSqrt (float x);
float LibeLn (float x);
float LibeExp (float x);
float LibeSincos (float x,float y,float sign);
float LibeSin (float x);
float LibeCos (float x);
float LibeTan (float x);
float LibeArcsin (float x);
float LibeArccos (float x);
float LibeAtan (float f);
float LibeArctan (float x);
float LibePow (float base,float exponent);
int LibeMathinit ();
int LibeStrlen (nctempchar1 *s);
int LibeStrcmp (nctempchar1 *s,nctempchar1 *t);
int LibeStrev (nctempchar1 *s);
int LibeStrcpy (nctempchar1 *s,nctempchar1 *t);
int LibeStrcat (nctempchar1 *s,nctempchar1 *t);
nctempchar1 * LibeStradd (nctempchar1 *t,nctempchar1 *s);
nctempchar1 * LibeStrsave (nctempchar1 *s);
int LibeIsalhpa (int c);
int LibeIsdigit (int c);
int LibeIsalnum (int c);
int LibeAtoi (nctempchar1 *s);
int LibeItoa (int n,nctempchar1 *s);
int LibeItoh (int n,nctempchar1 *s);
float LibeAtof (nctempchar1 *s);
int LibeFtoaf (int mant,int nexp,int nfield,int nfrac,nctempchar1 *s);
int LibeFtoae (int mant,int nexp,int nfield,int nfrac,nctempchar1 *s);
int LibeFtoa (float f,nctempchar1 *fmt,nctempchar1 *s);
struct LibeFdescr {int cnt;
int ptr;
int bufsize;
nctempchar1 *base;
int readflg;
int writflg;
int unbflg;
int errflg;
int eoflg;
int fd;
};
typedef struct nctempLibeFdescr1 {int d[1]; struct LibeFdescr *a; } nctempLibeFdescr1;
struct nctempLibeFdescr2 {int d[2]; struct LibeFdescr *a; } ;
struct nctempLibeFdescr3 {int d[3]; struct LibeFdescr *a; } ;
struct nctempLibeFdescr4 {int d[4]; struct LibeFdescr *a; } ;
;
struct nctempLibeFdescr1 *LibeFarr;
;
nctempchar1 *LibeTmpstr;
int LibeIoinit ();
int LibeFlushbuff (int fp);
int LibeFillbuff (int fp);
int LibeFlush (int fp);
int LibeOpen (nctempchar1 *name,nctempchar1 *mode);
int LibeClose (int fp);
int LibeGetc (int fp);
int LibeUngetc (int fp);
int LibeGetw (int fp,nctempchar1 *text);
int LibePutc (int fp,int c);
int LibePuts (int fp,nctempchar1 *s);
int LibePuti (int fp,int ival);
int LibePutf (int fp,float fval,nctempchar1 *form);
int LibePs (nctempchar1 *s);
int LibePi (int n);
int LibePf (float r);
int LibeRead (int fp,int n,nctempchar1 *buffer);
int LibeWrite (int fp,int n,nctempchar1 *buffer);
int LibeSeek (int fp,int pos,int flag);
int LibeIodelete ();
int NBLOCKS;
int NTHREADS;
int LibeSetnb (int nb);
int LibeSetnt (int nt);
int LibeGetnb ();
int LibeGetnt ();
int LibeArrayex (int line,nctempchar1 *name,int ival,int index,int bound);
int LibeSystem (nctempchar1 *cmd);
int LibeInit ();
int LibeExit ();
struct diff {int l;
int lmax;
nctempfloat2 *coeffs;
nctempfloat1 *w;
};
typedef struct nctempdiff1 {int d[1]; struct diff *a; } nctempdiff1;
struct nctempdiff2 {int d[2]; struct diff *a; } ;
struct nctempdiff3 {int d[3]; struct diff *a; } ;
struct nctempdiff4 {int d[4]; struct diff *a; } ;
struct diff* DiffNew (int l);
int DiffDxminus (struct diff* Diff,nctempfloat2 *A,nctempfloat2 *dA,float dx);
int DiffDxplus (struct diff* Diff,nctempfloat2 *A,nctempfloat2 *dA,float dx);
int DiffDyminus (struct diff* Diff,nctempfloat2 *A,nctempfloat2 *dA,float dx);
int DiffDyplus (struct diff* Diff,nctempfloat2 *A,nctempfloat2 *dA,float dx);
struct rec {int nr;
nctempint1 *rx;
nctempint1 *ry;
int fd;
int nt;
nctempfloat2 *p;
nctempfloat2 *sxx;
nctempfloat2 *syy;
nctempfloat2 *vx;
nctempfloat2 *vy;
nctempfloat2 *wrk;
int resamp;
int pit;
};
typedef struct nctemprec1 {int d[1]; struct rec *a; } nctemprec1;
struct nctemprec2 {int d[2]; struct rec *a; } ;
struct nctemprec3 {int d[3]; struct rec *a; } ;
struct nctemprec4 {int d[4]; struct rec *a; } ;
struct rec* RecNew (nctempint1 *rx,nctempint1 *ry,int nt,int resamp);
int RecReceiver (struct rec* Rec,int it,nctempfloat2 *p,nctempfloat2 *vx,nctempfloat2 *vy);
nctempfloat2 * RecGetrec (struct rec* Rec,int data);
struct src {nctempint1 *Sx;
nctempint1 *Sy;
nctempfloat2 *Sqyy;
nctempfloat2 *Sqxx;
nctempfloat2 *Sfx;
nctempfloat2 *Sfy;
int Ns;
};
typedef struct nctempsrc1 {int d[1]; struct src *a; } nctempsrc1;
struct nctempsrc2 {int d[2]; struct src *a; } ;
struct nctempsrc3 {int d[3]; struct src *a; } ;
struct nctempsrc4 {int d[4]; struct src *a; } ;
struct src* SrcNew (nctempint1 *sx,nctempint1 *sy,nctempfloat2 *sqxx,nctempfloat2 *sqyy,nctempfloat2 *sfx,nctempfloat2 *sfy);
int SrcDel (struct src* Src);
int Srcricker (nctempfloat1 *source,float t0,float f0,int nt,float dt);
struct model {int Nx;
int Ny;
int Nb;
float W0;
nctempfloat2 *Qlx;
nctempfloat2 *Qly;
nctempfloat2 *Qmx;
nctempfloat2 *Qmy;
nctempfloat2 *Qpx;
nctempfloat2 *Qpy;
nctempfloat2 *Lambda;
nctempfloat2 *Mu;
nctempfloat2 *Muxy;
nctempfloat2 *Dmuxyx;
nctempfloat2 *Dmuxyy;
nctempfloat2 *Dlambdax;
nctempfloat2 *Dlambday;
nctempfloat2 *Dmux;
nctempfloat2 *Dmuy;
nctempfloat2 *Drhopx;
nctempfloat2 *Drhopy;
nctempfloat2 *Rho;
nctempfloat2 *Rhox;
nctempfloat2 *Rhoy;
nctempfloat2 *Alpha1x;
nctempfloat2 *Alpha1y;
nctempfloat2 *Alpha2x;
nctempfloat2 *Alpha2y;
nctempfloat2 *Beta1x;
nctempfloat2 *Beta2x;
nctempfloat2 *Beta1y;
nctempfloat2 *Beta2y;
nctempfloat2 *Eta1x;
nctempfloat2 *Eta1y;
nctempfloat2 *Eta2x;
nctempfloat2 *Eta2y;
nctempfloat1 *dx;
nctempfloat1 *dy;
nctempfloat1 *dx1;
nctempfloat1 *dy1;
nctempfloat1 *dx2;
nctempfloat1 *dy2;
float Dx;
float Dt;
int Freesurface;
};
typedef struct nctempmodel1 {int d[1]; struct model *a; } nctempmodel1;
struct nctempmodel2 {int d[2]; struct model *a; } ;
struct nctempmodel3 {int d[3]; struct model *a; } ;
struct nctempmodel4 {int d[4]; struct model *a; } ;
;
;
;
;
int Modeld (nctempfloat1 *d,float dx,int nb);
int Modele (nctempfloat1 *d,float dx,int nb);
nctempfloat2 * Modelcopy (nctempfloat2 *a);
int Modelstaggerx (nctempfloat2 *a,nctempfloat2 *astagg);
int Modelstaggery (nctempfloat2 *a,nctempfloat2 *astagg);
int Modelslscoeffs (nctempfloat2 *Qx,nctempfloat2 *Qy,nctempfloat2 *modx,nctempfloat2 *mody,nctempfloat2 *coeff1x,nctempfloat2 *coeff1y,nctempfloat2 *coeff2x,nctempfloat2 *coeff2y,struct model* Model);
struct model* Modelsls (nctempfloat2 *vp,nctempfloat2 *vs,nctempfloat2 *rho,nctempfloat2 *Qlx,nctempfloat2 *Qly,nctempfloat2 *Qmx,nctempfloat2 *Qmy,nctempfloat2 *Qpx,nctempfloat2 *Qpy,float Dx,float Dt,float W0,int Nb,int Freesurface);
struct model* ModelNew (nctempfloat2 *vp,nctempfloat2 *vs,nctempfloat2 *rho,nctempfloat2 *Qlx,nctempfloat2 *Qly,nctempfloat2 *Qmx,nctempfloat2 *Qmy,nctempfloat2 *Qpx,nctempfloat2 *Qpy,float Dx,float Dt,float W0,int Nb,int Rheol,int Freesurface);
float ModelStability (struct model* Model);
struct el2d {nctempfloat2 *p;
nctempfloat2 *sigmaxx;
nctempfloat2 *sigmayy;
nctempfloat2 *sigmaxy;
nctempfloat2 *sigmayx;
nctempfloat2 *vx;
nctempfloat2 *vy;
nctempfloat2 *exx;
nctempfloat2 *eyy;
nctempfloat2 *exy;
nctempfloat2 *eyx;
nctempfloat2 *e;
nctempfloat2 *gammaxx;
nctempfloat2 *gammayy;
nctempfloat2 *gammaxy;
nctempfloat2 *gammayx;
nctempfloat2 *thetaxxx;
nctempfloat2 *thetayyy;
nctempfloat2 *thetaxyx;
nctempfloat2 *thetayxy;
int ts;
int fdp;
int fdvx;
int fdvy;
int fde;
int fdexy;
int sresamp;
nctempint1 *snpflags;
};
typedef struct nctempel2d1 {int d[1]; struct el2d *a; } nctempel2d1;
struct nctempel2d2 {int d[2]; struct el2d *a; } ;
struct nctempel2d3 {int d[3]; struct el2d *a; } ;
struct nctempel2d4 {int d[4]; struct el2d *a; } ;
struct el2d* El2dNew (struct model* Model,int sresamp,nctempint1 *snpflags)
{
struct el2d* El2d;
int i;
int j;
struct el2d *nctemp5=(struct el2d*)RunMalloc(sizeof(struct el2d));
El2d =nctemp5;
El2d->sresamp =sresamp;
El2d->snpflags=snpflags;
int nctemp23=Model->Nx;
nctemp23=nctemp23*Model->Ny;
nctempfloat2 *nctemp22;
nctemp22=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp22->d[0]=Model->Nx;
nctemp22->d[1]=Model->Ny;
nctemp22->a=(float *)RunMalloc(sizeof(float)*nctemp23);
El2d->p=nctemp22;
int nctemp34=Model->Nx;
nctemp34=nctemp34*Model->Ny;
nctempfloat2 *nctemp33;
nctemp33=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp33->d[0]=Model->Nx;
nctemp33->d[1]=Model->Ny;
nctemp33->a=(float *)RunMalloc(sizeof(float)*nctemp34);
El2d->sigmaxx=nctemp33;
int nctemp45=Model->Nx;
nctemp45=nctemp45*Model->Ny;
nctempfloat2 *nctemp44;
nctemp44=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp44->d[0]=Model->Nx;
nctemp44->d[1]=Model->Ny;
nctemp44->a=(float *)RunMalloc(sizeof(float)*nctemp45);
El2d->sigmayy=nctemp44;
int nctemp56=Model->Nx;
nctemp56=nctemp56*Model->Ny;
nctempfloat2 *nctemp55;
nctemp55=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp55->d[0]=Model->Nx;
nctemp55->d[1]=Model->Ny;
nctemp55->a=(float *)RunMalloc(sizeof(float)*nctemp56);
El2d->p=nctemp55;
int nctemp67=Model->Nx;
nctemp67=nctemp67*Model->Ny;
nctempfloat2 *nctemp66;
nctemp66=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp66->d[0]=Model->Nx;
nctemp66->d[1]=Model->Ny;
nctemp66->a=(float *)RunMalloc(sizeof(float)*nctemp67);
El2d->sigmaxy=nctemp66;
int nctemp78=Model->Nx;
nctemp78=nctemp78*Model->Ny;
nctempfloat2 *nctemp77;
nctemp77=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp77->d[0]=Model->Nx;
nctemp77->d[1]=Model->Ny;
nctemp77->a=(float *)RunMalloc(sizeof(float)*nctemp78);
El2d->sigmayx=nctemp77;
int nctemp89=Model->Nx;
nctemp89=nctemp89*Model->Ny;
nctempfloat2 *nctemp88;
nctemp88=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp88->d[0]=Model->Nx;
nctemp88->d[1]=Model->Ny;
nctemp88->a=(float *)RunMalloc(sizeof(float)*nctemp89);
El2d->vx=nctemp88;
int nctemp100=Model->Nx;
nctemp100=nctemp100*Model->Ny;
nctempfloat2 *nctemp99;
nctemp99=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp99->d[0]=Model->Nx;
nctemp99->d[1]=Model->Ny;
nctemp99->a=(float *)RunMalloc(sizeof(float)*nctemp100);
El2d->vy=nctemp99;
int nctemp111=Model->Nx;
nctemp111=nctemp111*Model->Ny;
nctempfloat2 *nctemp110;
nctemp110=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp110->d[0]=Model->Nx;
nctemp110->d[1]=Model->Ny;
nctemp110->a=(float *)RunMalloc(sizeof(float)*nctemp111);
El2d->exx=nctemp110;
int nctemp122=Model->Nx;
nctemp122=nctemp122*Model->Ny;
nctempfloat2 *nctemp121;
nctemp121=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp121->d[0]=Model->Nx;
nctemp121->d[1]=Model->Ny;
nctemp121->a=(float *)RunMalloc(sizeof(float)*nctemp122);
El2d->eyy=nctemp121;
int nctemp133=Model->Nx;
nctemp133=nctemp133*Model->Ny;
nctempfloat2 *nctemp132;
nctemp132=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp132->d[0]=Model->Nx;
nctemp132->d[1]=Model->Ny;
nctemp132->a=(float *)RunMalloc(sizeof(float)*nctemp133);
El2d->exy=nctemp132;
int nctemp144=Model->Nx;
nctemp144=nctemp144*Model->Ny;
nctempfloat2 *nctemp143;
nctemp143=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp143->d[0]=Model->Nx;
nctemp143->d[1]=Model->Ny;
nctemp143->a=(float *)RunMalloc(sizeof(float)*nctemp144);
El2d->eyx=nctemp143;
int nctemp155=Model->Nx;
nctemp155=nctemp155*Model->Ny;
nctempfloat2 *nctemp154;
nctemp154=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp154->d[0]=Model->Nx;
nctemp154->d[1]=Model->Ny;
nctemp154->a=(float *)RunMalloc(sizeof(float)*nctemp155);
El2d->e=nctemp154;
int nctemp166=Model->Nx;
nctemp166=nctemp166*Model->Ny;
nctempfloat2 *nctemp165;
nctemp165=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp165->d[0]=Model->Nx;
nctemp165->d[1]=Model->Ny;
nctemp165->a=(float *)RunMalloc(sizeof(float)*nctemp166);
El2d->gammaxx=nctemp165;
int nctemp177=Model->Nx;
nctemp177=nctemp177*Model->Ny;
nctempfloat2 *nctemp176;
nctemp176=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp176->d[0]=Model->Nx;
nctemp176->d[1]=Model->Ny;
nctemp176->a=(float *)RunMalloc(sizeof(float)*nctemp177);
El2d->gammayy=nctemp176;
int nctemp188=Model->Nx;
nctemp188=nctemp188*Model->Ny;
nctempfloat2 *nctemp187;
nctemp187=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp187->d[0]=Model->Nx;
nctemp187->d[1]=Model->Ny;
nctemp187->a=(float *)RunMalloc(sizeof(float)*nctemp188);
El2d->gammaxy=nctemp187;
int nctemp199=Model->Nx;
nctemp199=nctemp199*Model->Ny;
nctempfloat2 *nctemp198;
nctemp198=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp198->d[0]=Model->Nx;
nctemp198->d[1]=Model->Ny;
nctemp198->a=(float *)RunMalloc(sizeof(float)*nctemp199);
El2d->gammayx=nctemp198;
int nctemp210=Model->Nx;
nctemp210=nctemp210*Model->Ny;
nctempfloat2 *nctemp209;
nctemp209=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp209->d[0]=Model->Nx;
nctemp209->d[1]=Model->Ny;
nctemp209->a=(float *)RunMalloc(sizeof(float)*nctemp210);
El2d->thetaxxx=nctemp209;
int nctemp221=Model->Nx;
nctemp221=nctemp221*Model->Ny;
nctempfloat2 *nctemp220;
nctemp220=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp220->d[0]=Model->Nx;
nctemp220->d[1]=Model->Ny;
nctemp220->a=(float *)RunMalloc(sizeof(float)*nctemp221);
El2d->thetayyy=nctemp220;
int nctemp232=Model->Nx;
nctemp232=nctemp232*Model->Ny;
nctempfloat2 *nctemp231;
nctemp231=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp231->d[0]=Model->Nx;
nctemp231->d[1]=Model->Ny;
nctemp231->a=(float *)RunMalloc(sizeof(float)*nctemp232);
El2d->thetayxy=nctemp231;
int nctemp243=Model->Nx;
nctemp243=nctemp243*Model->Ny;
nctempfloat2 *nctemp242;
nctemp242=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp242->d[0]=Model->Nx;
nctemp242->d[1]=Model->Ny;
nctemp242->a=(float *)RunMalloc(sizeof(float)*nctemp243);
El2d->thetaxyx=nctemp242;
i =0;
int nctemp252 = (i < Model->Nx);
while(nctemp252){
{
j =0;
int nctemp260 = (j < Model->Ny);
while(nctemp260){
{
int nctemp267=i;
nctemp267=j*El2d->p->d[0]+nctemp267;
El2d->p->a[nctemp267] =0.0;
int nctemp274=i;
nctemp274=j*El2d->sigmaxx->d[0]+nctemp274;
El2d->sigmaxx->a[nctemp274] =0.0;
int nctemp281=i;
nctemp281=j*El2d->sigmayy->d[0]+nctemp281;
El2d->sigmayy->a[nctemp281] =0.0;
int nctemp288=i;
nctemp288=j*El2d->sigmaxy->d[0]+nctemp288;
El2d->sigmaxy->a[nctemp288] =0.0;
int nctemp295=i;
nctemp295=j*El2d->sigmayx->d[0]+nctemp295;
El2d->sigmayx->a[nctemp295] =0.0;
int nctemp302=i;
nctemp302=j*El2d->vx->d[0]+nctemp302;
El2d->vx->a[nctemp302] =0.0;
int nctemp309=i;
nctemp309=j*El2d->vy->d[0]+nctemp309;
El2d->vy->a[nctemp309] =0.0;
int nctemp316=i;
nctemp316=j*El2d->exx->d[0]+nctemp316;
El2d->exx->a[nctemp316] =0.0;
int nctemp323=i;
nctemp323=j*El2d->eyy->d[0]+nctemp323;
El2d->eyy->a[nctemp323] =0.0;
int nctemp330=i;
nctemp330=j*El2d->exy->d[0]+nctemp330;
El2d->exy->a[nctemp330] =0.0;
int nctemp337=i;
nctemp337=j*El2d->eyx->d[0]+nctemp337;
El2d->eyx->a[nctemp337] =0.0;
int nctemp344=i;
nctemp344=j*El2d->e->d[0]+nctemp344;
El2d->e->a[nctemp344] =0.0;
int nctemp351=i;
nctemp351=j*El2d->gammaxx->d[0]+nctemp351;
El2d->gammaxx->a[nctemp351] =0.0;
int nctemp358=i;
nctemp358=j*El2d->gammayy->d[0]+nctemp358;
El2d->gammayy->a[nctemp358] =0.0;
int nctemp365=i;
nctemp365=j*El2d->gammaxy->d[0]+nctemp365;
El2d->gammaxy->a[nctemp365] =0.0;
int nctemp372=i;
nctemp372=j*El2d->gammayx->d[0]+nctemp372;
El2d->gammayx->a[nctemp372] =0.0;
int nctemp379=i;
nctemp379=j*El2d->thetaxxx->d[0]+nctemp379;
El2d->thetaxxx->a[nctemp379] =0.0;
int nctemp386=i;
nctemp386=j*El2d->thetayyy->d[0]+nctemp386;
El2d->thetayyy->a[nctemp386] =0.0;
int nctemp393=i;
nctemp393=j*El2d->thetayxy->d[0]+nctemp393;
El2d->thetayxy->a[nctemp393] =0.0;
int nctemp400=i;
nctemp400=j*El2d->thetaxyx->d[0]+nctemp400;
El2d->thetaxyx->a[nctemp400] =0.0;
El2d->ts =0;
}
int nctemp416 = j + 1;
j =nctemp416;
int nctemp417 = (j < Model->Ny);
nctemp260=nctemp417;
}
}
int nctemp429 = i + 1;
i =nctemp429;
int nctemp430 = (i < Model->Nx);
nctemp252=nctemp430;
}
int nctemp437=0;
int nctemp434 = (El2d->snpflags->a[nctemp437] ==1);
if(nctemp434)
{
struct nctempchar1 *nctemp446;
static struct nctempchar1 nctemp447 = {{ 10}, (char*)"snp-p.bin\0"};
nctemp446=&nctemp447;
nctempchar1* nctemp444= nctemp446;
struct nctempchar1 *nctemp450;
static struct nctempchar1 nctemp451 = {{ 2}, (char*)"w\0"};
nctemp450=&nctemp451;
nctempchar1* nctemp448= nctemp450;
int nctemp452=LibeOpen(nctemp444,nctemp448);
El2d->fdp =nctemp452;
}
int nctemp456=1;
int nctemp453 = (El2d->snpflags->a[nctemp456] ==1);
if(nctemp453)
{
struct nctempchar1 *nctemp465;
static struct nctempchar1 nctemp466 = {{ 11}, (char*)"snp-vx.bin\0"};
nctemp465=&nctemp466;
nctempchar1* nctemp463= nctemp465;
struct nctempchar1 *nctemp469;
static struct nctempchar1 nctemp470 = {{ 2}, (char*)"w\0"};
nctemp469=&nctemp470;
nctempchar1* nctemp467= nctemp469;
int nctemp471=LibeOpen(nctemp463,nctemp467);
El2d->fdvx =nctemp471;
}
int nctemp475=2;
int nctemp472 = (El2d->snpflags->a[nctemp475] ==1);
if(nctemp472)
{
struct nctempchar1 *nctemp484;
static struct nctempchar1 nctemp485 = {{ 11}, (char*)"snp-vy.bin\0"};
nctemp484=&nctemp485;
nctempchar1* nctemp482= nctemp484;
struct nctempchar1 *nctemp488;
static struct nctempchar1 nctemp489 = {{ 2}, (char*)"w\0"};
nctemp488=&nctemp489;
nctempchar1* nctemp486= nctemp488;
int nctemp490=LibeOpen(nctemp482,nctemp486);
El2d->fdvy =nctemp490;
}
int nctemp494=3;
int nctemp491 = (El2d->snpflags->a[nctemp494] ==1);
if(nctemp491)
{
struct nctempchar1 *nctemp503;
static struct nctempchar1 nctemp504 = {{ 10}, (char*)"snp-e.bin\0"};
nctemp503=&nctemp504;
nctempchar1* nctemp501= nctemp503;
struct nctempchar1 *nctemp507;
static struct nctempchar1 nctemp508 = {{ 2}, (char*)"w\0"};
nctemp507=&nctemp508;
nctempchar1* nctemp505= nctemp507;
int nctemp509=LibeOpen(nctemp501,nctemp505);
El2d->fde =nctemp509;
}
int nctemp513=4;
int nctemp510 = (El2d->snpflags->a[nctemp513] ==1);
if(nctemp510)
{
struct nctempchar1 *nctemp522;
static struct nctempchar1 nctemp523 = {{ 12}, (char*)"snp-exy.bin\0"};
nctemp522=&nctemp523;
nctempchar1* nctemp520= nctemp522;
struct nctempchar1 *nctemp526;
static struct nctempchar1 nctemp527 = {{ 2}, (char*)"w\0"};
nctemp526=&nctemp527;
nctempchar1* nctemp524= nctemp526;
int nctemp528=LibeOpen(nctemp520,nctemp524);
El2d->fdexy =nctemp528;
}
return El2d;
}
int El2dvx (struct el2d* El2d,struct model* Model)
{
int nx;
int ny;
int i;
int j;
nx =Model->Nx;
ny =Model->Ny;

 #pragma omp parallel for
for(j=0;j<ny;j=j+1){for(i=0;i<nx;i=i+1){{
int nctemp545=i;
nctemp545=j*El2d->vx->d[0]+nctemp545;
int nctemp565=i;
nctemp565=j*Model->Rhox->d[0]+nctemp565;
float nctemp568 = Model->Dt * Model->Rhox->a[nctemp565];
int nctemp573=i;
nctemp573=j*El2d->exx->d[0]+nctemp573;
int nctemp577=i;
nctemp577=j*El2d->exy->d[0]+nctemp577;
float nctemp580 = El2d->exx->a[nctemp573] + El2d->exy->a[nctemp577];
float nctemp581 = nctemp568 * nctemp580;
int nctemp590=i;
nctemp590=j*El2d->thetaxxx->d[0]+nctemp590;
float nctemp593 = Model->Dt * El2d->thetaxxx->a[nctemp590];
int nctemp595=i;
nctemp595=j*Model->Drhopx->d[0]+nctemp595;
float nctemp598 = nctemp593 * Model->Drhopx->a[nctemp595];
float nctemp599 = nctemp581 + nctemp598;
int nctemp608=i;
nctemp608=j*El2d->thetayxy->d[0]+nctemp608;
float nctemp611 = Model->Dt * El2d->thetayxy->a[nctemp608];
int nctemp613=i;
nctemp613=j*Model->Drhopy->d[0]+nctemp613;
float nctemp616 = nctemp611 * Model->Drhopy->a[nctemp613];
float nctemp617 = nctemp599 + nctemp616;
int nctemp619=i;
nctemp619=j*El2d->vx->d[0]+nctemp619;
float nctemp622 = nctemp617 + El2d->vx->a[nctemp619];
El2d->vx->a[nctemp545] =nctemp622;
int nctemp626=i;
nctemp626=j*El2d->thetaxxx->d[0]+nctemp626;
int nctemp636=i;
nctemp636=j*Model->Eta1x->d[0]+nctemp636;
int nctemp640=i;
nctemp640=j*El2d->thetaxxx->d[0]+nctemp640;
float nctemp643 = Model->Eta1x->a[nctemp636] * El2d->thetaxxx->a[nctemp640];
int nctemp648=i;
nctemp648=j*Model->Eta2x->d[0]+nctemp648;
int nctemp652=i;
nctemp652=j*El2d->exx->d[0]+nctemp652;
float nctemp655 = Model->Eta2x->a[nctemp648] * El2d->exx->a[nctemp652];
float nctemp656 = nctemp643 + nctemp655;
El2d->thetaxxx->a[nctemp626] =nctemp656;
int nctemp660=i;
nctemp660=j*El2d->thetayxy->d[0]+nctemp660;
int nctemp670=i;
nctemp670=j*Model->Eta1y->d[0]+nctemp670;
int nctemp674=i;
nctemp674=j*El2d->thetayxy->d[0]+nctemp674;
float nctemp677 = Model->Eta1y->a[nctemp670] * El2d->thetayxy->a[nctemp674];
int nctemp682=i;
nctemp682=j*Model->Eta2y->d[0]+nctemp682;
int nctemp686=i;
nctemp686=j*El2d->exy->d[0]+nctemp686;
float nctemp689 = Model->Eta2y->a[nctemp682] * El2d->exy->a[nctemp686];
float nctemp690 = nctemp677 + nctemp689;
El2d->thetayxy->a[nctemp660] =nctemp690;
}
}}}
int El2dvy (struct el2d* El2d,struct model* Model)
{
int nx;
int ny;
int i;
int j;
nx =Model->Nx;
ny =Model->Ny;

 #pragma omp parallel for
for(j=0;j<ny;j=j+1){for(i=0;i<nx;i=i+1){{
int nctemp706=i;
nctemp706=j*El2d->vy->d[0]+nctemp706;
int nctemp726=i;
nctemp726=j*Model->Rhoy->d[0]+nctemp726;
float nctemp729 = Model->Dt * Model->Rhoy->a[nctemp726];
int nctemp734=i;
nctemp734=j*El2d->eyy->d[0]+nctemp734;
int nctemp738=i;
nctemp738=j*El2d->eyx->d[0]+nctemp738;
float nctemp741 = El2d->eyy->a[nctemp734] + El2d->eyx->a[nctemp738];
float nctemp742 = nctemp729 * nctemp741;
int nctemp751=i;
nctemp751=j*El2d->thetayyy->d[0]+nctemp751;
float nctemp754 = Model->Dt * El2d->thetayyy->a[nctemp751];
int nctemp756=i;
nctemp756=j*Model->Drhopy->d[0]+nctemp756;
float nctemp759 = nctemp754 * Model->Drhopy->a[nctemp756];
float nctemp760 = nctemp742 + nctemp759;
int nctemp769=i;
nctemp769=j*El2d->thetaxyx->d[0]+nctemp769;
float nctemp772 = Model->Dt * El2d->thetaxyx->a[nctemp769];
int nctemp774=i;
nctemp774=j*Model->Drhopx->d[0]+nctemp774;
float nctemp777 = nctemp772 * Model->Drhopx->a[nctemp774];
float nctemp778 = nctemp760 + nctemp777;
int nctemp780=i;
nctemp780=j*El2d->vy->d[0]+nctemp780;
float nctemp783 = nctemp778 + El2d->vy->a[nctemp780];
El2d->vy->a[nctemp706] =nctemp783;
int nctemp787=i;
nctemp787=j*El2d->thetayyy->d[0]+nctemp787;
int nctemp797=i;
nctemp797=j*Model->Eta1y->d[0]+nctemp797;
int nctemp801=i;
nctemp801=j*El2d->thetayyy->d[0]+nctemp801;
float nctemp804 = Model->Eta1y->a[nctemp797] * El2d->thetayyy->a[nctemp801];
int nctemp809=i;
nctemp809=j*Model->Eta2y->d[0]+nctemp809;
int nctemp813=i;
nctemp813=j*El2d->eyy->d[0]+nctemp813;
float nctemp816 = Model->Eta2y->a[nctemp809] * El2d->eyy->a[nctemp813];
float nctemp817 = nctemp804 + nctemp816;
El2d->thetayyy->a[nctemp787] =nctemp817;
int nctemp821=i;
nctemp821=j*El2d->thetaxyx->d[0]+nctemp821;
int nctemp831=i;
nctemp831=j*Model->Eta1x->d[0]+nctemp831;
int nctemp835=i;
nctemp835=j*El2d->thetaxyx->d[0]+nctemp835;
float nctemp838 = Model->Eta1x->a[nctemp831] * El2d->thetaxyx->a[nctemp835];
int nctemp843=i;
nctemp843=j*Model->Eta2x->d[0]+nctemp843;
int nctemp847=i;
nctemp847=j*El2d->eyx->d[0]+nctemp847;
float nctemp850 = Model->Eta2x->a[nctemp843] * El2d->eyx->a[nctemp847];
float nctemp851 = nctemp838 + nctemp850;
El2d->thetaxyx->a[nctemp821] =nctemp851;
}
}}}
int El2de (struct el2d* El2d,struct model* Model)
{
int nx;
int ny;
int i;
int j;
nx =Model->Nx;
ny =Model->Ny;

 #pragma omp parallel for
for(j=0;j<ny;j=j+1){for(i=0;i<nx;i=i+1){{
int nctemp867=i;
nctemp867=j*El2d->e->d[0]+nctemp867;
int nctemp874=i;
nctemp874=j*El2d->exx->d[0]+nctemp874;
int nctemp878=i;
nctemp878=j*El2d->eyy->d[0]+nctemp878;
float nctemp881 = El2d->exx->a[nctemp874] + El2d->eyy->a[nctemp878];
El2d->e->a[nctemp867] =nctemp881;
}
}}}
int El2dexy (struct el2d* El2d,struct model* Model,nctempfloat2 *tmp1,nctempfloat2 *tmp2)
{
int nx;
int ny;
int i;
int j;
nx =Model->Nx;
ny =Model->Ny;

 #pragma omp parallel for
for(j=0;j<ny;j=j+1){for(i=0;i<nx;i=i+1){{
int nctemp897=i;
nctemp897=j*El2d->exy->d[0]+nctemp897;
int nctemp908=i;
nctemp908=j*tmp1->d[0]+nctemp908;
int nctemp912=i;
nctemp912=j*tmp2->d[0]+nctemp912;
float nctemp915 = tmp1->a[nctemp908] + tmp2->a[nctemp912];
float nctemp916 = 0.5 * nctemp915;
El2d->exy->a[nctemp897] =nctemp916;
}
}}}
int El2deyx (struct el2d* El2d,struct model* Model,nctempfloat2 *tmp1,nctempfloat2 *tmp2)
{
int nx;
int ny;
int i;
int j;
nx =Model->Nx;
ny =Model->Ny;

 #pragma omp parallel for
for(j=0;j<ny;j=j+1){for(i=0;i<nx;i=i+1){{
int nctemp932=i;
nctemp932=j*El2d->eyx->d[0]+nctemp932;
int nctemp943=i;
nctemp943=j*tmp1->d[0]+nctemp943;
int nctemp947=i;
nctemp947=j*tmp2->d[0]+nctemp947;
float nctemp950 = tmp1->a[nctemp943] + tmp2->a[nctemp947];
float nctemp951 = 0.5 * nctemp950;
El2d->eyx->a[nctemp932] =nctemp951;
}
}}}
int El2dstress (struct el2d* El2d,struct model* Model)
{
int nx;
int ny;
int i;
int j;
nx =Model->Nx;
ny =Model->Ny;

 #pragma omp parallel for
for(j=0;j<ny;j=j+1){for(i=0;i<nx;i=i+1){{
int nctemp967=i;
nctemp967=j*El2d->sigmaxx->d[0]+nctemp967;
int nctemp990=i;
nctemp990=j*Model->Lambda->d[0]+nctemp990;
float nctemp993 = Model->Dt * Model->Lambda->a[nctemp990];
int nctemp998=i;
nctemp998=j*El2d->exx->d[0]+nctemp998;
int nctemp1002=i;
nctemp1002=j*El2d->eyy->d[0]+nctemp1002;
float nctemp1005 = El2d->exx->a[nctemp998] + El2d->eyy->a[nctemp1002];
float nctemp1006 = nctemp993 * nctemp1005;
float nctemp1018 = 2.0 * Model->Dt;
int nctemp1020=i;
nctemp1020=j*Model->Mu->d[0]+nctemp1020;
float nctemp1023 = nctemp1018 * Model->Mu->a[nctemp1020];
int nctemp1025=i;
nctemp1025=j*El2d->exx->d[0]+nctemp1025;
float nctemp1028 = nctemp1023 * El2d->exx->a[nctemp1025];
float nctemp1029 = nctemp1006 + nctemp1028;
int nctemp1041=i;
nctemp1041=j*El2d->gammaxx->d[0]+nctemp1041;
int nctemp1045=i;
nctemp1045=j*Model->Dlambdax->d[0]+nctemp1045;
float nctemp1048 = El2d->gammaxx->a[nctemp1041] * Model->Dlambdax->a[nctemp1045];
int nctemp1053=i;
nctemp1053=j*El2d->gammayy->d[0]+nctemp1053;
int nctemp1057=i;
nctemp1057=j*Model->Dlambday->d[0]+nctemp1057;
float nctemp1060 = El2d->gammayy->a[nctemp1053] * Model->Dlambday->a[nctemp1057];
float nctemp1061 = nctemp1048 + nctemp1060;
float nctemp1062 = Model->Dt * nctemp1061;
float nctemp1063 = nctemp1029 + nctemp1062;
float nctemp1075 = 2.0 * Model->Dt;
int nctemp1077=i;
nctemp1077=j*El2d->gammaxx->d[0]+nctemp1077;
float nctemp1080 = nctemp1075 * El2d->gammaxx->a[nctemp1077];
int nctemp1082=i;
nctemp1082=j*Model->Dmux->d[0]+nctemp1082;
float nctemp1085 = nctemp1080 * Model->Dmux->a[nctemp1082];
float nctemp1086 = nctemp1063 + nctemp1085;
int nctemp1088=i;
nctemp1088=j*El2d->sigmaxx->d[0]+nctemp1088;
float nctemp1091 = nctemp1086 + El2d->sigmaxx->a[nctemp1088];
El2d->sigmaxx->a[nctemp967] =nctemp1091;
int nctemp1095=i;
nctemp1095=j*El2d->sigmayy->d[0]+nctemp1095;
int nctemp1118=i;
nctemp1118=j*Model->Lambda->d[0]+nctemp1118;
float nctemp1121 = Model->Dt * Model->Lambda->a[nctemp1118];
int nctemp1126=i;
nctemp1126=j*El2d->exx->d[0]+nctemp1126;
int nctemp1130=i;
nctemp1130=j*El2d->eyy->d[0]+nctemp1130;
float nctemp1133 = El2d->exx->a[nctemp1126] + El2d->eyy->a[nctemp1130];
float nctemp1134 = nctemp1121 * nctemp1133;
float nctemp1146 = 2.0 * Model->Dt;
int nctemp1148=i;
nctemp1148=j*Model->Mu->d[0]+nctemp1148;
float nctemp1151 = nctemp1146 * Model->Mu->a[nctemp1148];
int nctemp1153=i;
nctemp1153=j*El2d->eyy->d[0]+nctemp1153;
float nctemp1156 = nctemp1151 * El2d->eyy->a[nctemp1153];
float nctemp1157 = nctemp1134 + nctemp1156;
int nctemp1169=i;
nctemp1169=j*El2d->gammaxx->d[0]+nctemp1169;
int nctemp1173=i;
nctemp1173=j*Model->Dlambdax->d[0]+nctemp1173;
float nctemp1176 = El2d->gammaxx->a[nctemp1169] * Model->Dlambdax->a[nctemp1173];
int nctemp1181=i;
nctemp1181=j*El2d->gammayy->d[0]+nctemp1181;
int nctemp1185=i;
nctemp1185=j*Model->Dlambday->d[0]+nctemp1185;
float nctemp1188 = El2d->gammayy->a[nctemp1181] * Model->Dlambday->a[nctemp1185];
float nctemp1189 = nctemp1176 + nctemp1188;
float nctemp1190 = Model->Dt * nctemp1189;
float nctemp1191 = nctemp1157 + nctemp1190;
float nctemp1203 = 2.0 * Model->Dt;
int nctemp1205=i;
nctemp1205=j*El2d->gammayy->d[0]+nctemp1205;
float nctemp1208 = nctemp1203 * El2d->gammayy->a[nctemp1205];
int nctemp1210=i;
nctemp1210=j*Model->Dmuy->d[0]+nctemp1210;
float nctemp1213 = nctemp1208 * Model->Dmuy->a[nctemp1210];
float nctemp1214 = nctemp1191 + nctemp1213;
int nctemp1216=i;
nctemp1216=j*El2d->sigmayy->d[0]+nctemp1216;
float nctemp1219 = nctemp1214 + El2d->sigmayy->a[nctemp1216];
El2d->sigmayy->a[nctemp1095] =nctemp1219;
int nctemp1223=i;
nctemp1223=j*El2d->p->d[0]+nctemp1223;
int nctemp1234=i;
nctemp1234=j*El2d->sigmaxx->d[0]+nctemp1234;
int nctemp1238=i;
nctemp1238=j*El2d->sigmayy->d[0]+nctemp1238;
float nctemp1241 = El2d->sigmaxx->a[nctemp1234] + El2d->sigmayy->a[nctemp1238];
float nctemp1242 = 0.5 * nctemp1241;
El2d->p->a[nctemp1223] =nctemp1242;
int nctemp1246=i;
nctemp1246=j*El2d->sigmaxy->d[0]+nctemp1246;
float nctemp1266 = 2.0 * Model->Dt;
int nctemp1268=i;
nctemp1268=j*Model->Muxy->d[0]+nctemp1268;
float nctemp1271 = nctemp1266 * Model->Muxy->a[nctemp1268];
int nctemp1273=i;
nctemp1273=j*El2d->exy->d[0]+nctemp1273;
float nctemp1276 = nctemp1271 * El2d->exy->a[nctemp1273];
float nctemp1288 = 2.0 * Model->Dt;
int nctemp1290=i;
nctemp1290=j*El2d->gammaxy->d[0]+nctemp1290;
float nctemp1293 = nctemp1288 * El2d->gammaxy->a[nctemp1290];
int nctemp1295=i;
nctemp1295=j*Model->Dmuxyy->d[0]+nctemp1295;
float nctemp1298 = nctemp1293 * Model->Dmuxyy->a[nctemp1295];
float nctemp1299 = nctemp1276 + nctemp1298;
int nctemp1301=i;
nctemp1301=j*El2d->sigmaxy->d[0]+nctemp1301;
float nctemp1304 = nctemp1299 + El2d->sigmaxy->a[nctemp1301];
El2d->sigmaxy->a[nctemp1246] =nctemp1304;
int nctemp1308=i;
nctemp1308=j*El2d->sigmayx->d[0]+nctemp1308;
float nctemp1328 = 2.0 * Model->Dt;
int nctemp1330=i;
nctemp1330=j*Model->Muxy->d[0]+nctemp1330;
float nctemp1333 = nctemp1328 * Model->Muxy->a[nctemp1330];
int nctemp1335=i;
nctemp1335=j*El2d->exy->d[0]+nctemp1335;
float nctemp1338 = nctemp1333 * El2d->exy->a[nctemp1335];
float nctemp1350 = 2.0 * Model->Dt;
int nctemp1352=i;
nctemp1352=j*El2d->gammayx->d[0]+nctemp1352;
float nctemp1355 = nctemp1350 * El2d->gammayx->a[nctemp1352];
int nctemp1357=i;
nctemp1357=j*Model->Dmuxyx->d[0]+nctemp1357;
float nctemp1360 = nctemp1355 * Model->Dmuxyx->a[nctemp1357];
float nctemp1361 = nctemp1338 + nctemp1360;
int nctemp1363=i;
nctemp1363=j*El2d->sigmayx->d[0]+nctemp1363;
float nctemp1366 = nctemp1361 + El2d->sigmayx->a[nctemp1363];
El2d->sigmayx->a[nctemp1308] =nctemp1366;
int nctemp1370=i;
nctemp1370=j*El2d->gammaxx->d[0]+nctemp1370;
int nctemp1380=i;
nctemp1380=j*Model->Alpha1x->d[0]+nctemp1380;
int nctemp1384=i;
nctemp1384=j*El2d->gammaxx->d[0]+nctemp1384;
float nctemp1387 = Model->Alpha1x->a[nctemp1380] * El2d->gammaxx->a[nctemp1384];
int nctemp1392=i;
nctemp1392=j*Model->Alpha2x->d[0]+nctemp1392;
int nctemp1396=i;
nctemp1396=j*El2d->exx->d[0]+nctemp1396;
float nctemp1399 = Model->Alpha2x->a[nctemp1392] * El2d->exx->a[nctemp1396];
float nctemp1400 = nctemp1387 + nctemp1399;
El2d->gammaxx->a[nctemp1370] =nctemp1400;
int nctemp1404=i;
nctemp1404=j*El2d->gammayy->d[0]+nctemp1404;
int nctemp1414=i;
nctemp1414=j*Model->Alpha1y->d[0]+nctemp1414;
int nctemp1418=i;
nctemp1418=j*El2d->gammayy->d[0]+nctemp1418;
float nctemp1421 = Model->Alpha1y->a[nctemp1414] * El2d->gammayy->a[nctemp1418];
int nctemp1426=i;
nctemp1426=j*Model->Alpha2y->d[0]+nctemp1426;
int nctemp1430=i;
nctemp1430=j*El2d->eyy->d[0]+nctemp1430;
float nctemp1433 = Model->Alpha2y->a[nctemp1426] * El2d->eyy->a[nctemp1430];
float nctemp1434 = nctemp1421 + nctemp1433;
El2d->gammayy->a[nctemp1404] =nctemp1434;
int nctemp1438=i;
nctemp1438=j*El2d->gammaxy->d[0]+nctemp1438;
int nctemp1448=i;
nctemp1448=j*Model->Beta1y->d[0]+nctemp1448;
int nctemp1452=i;
nctemp1452=j*El2d->gammaxy->d[0]+nctemp1452;
float nctemp1455 = Model->Beta1y->a[nctemp1448] * El2d->gammaxy->a[nctemp1452];
int nctemp1460=i;
nctemp1460=j*Model->Beta2y->d[0]+nctemp1460;
int nctemp1464=i;
nctemp1464=j*El2d->exy->d[0]+nctemp1464;
float nctemp1467 = Model->Beta2y->a[nctemp1460] * El2d->exy->a[nctemp1464];
float nctemp1468 = nctemp1455 + nctemp1467;
El2d->gammaxy->a[nctemp1438] =nctemp1468;
int nctemp1472=i;
nctemp1472=j*El2d->gammayx->d[0]+nctemp1472;
int nctemp1482=i;
nctemp1482=j*Model->Beta1x->d[0]+nctemp1482;
int nctemp1486=i;
nctemp1486=j*El2d->gammayx->d[0]+nctemp1486;
float nctemp1489 = Model->Beta1x->a[nctemp1482] * El2d->gammayx->a[nctemp1486];
int nctemp1494=i;
nctemp1494=j*Model->Beta2x->d[0]+nctemp1494;
int nctemp1498=i;
nctemp1498=j*El2d->eyx->d[0]+nctemp1498;
float nctemp1501 = Model->Beta2x->a[nctemp1494] * El2d->eyx->a[nctemp1498];
float nctemp1502 = nctemp1489 + nctemp1501;
El2d->gammayx->a[nctemp1472] =nctemp1502;
}
}}}
int El2dSnap (struct el2d* El2d,int it)
{
int n;
int Nx;
int Ny;
nctempchar1 *tmp;
int nctemp1503 = (El2d->sresamp <= 0);
if(nctemp1503)
{
return 1;
}
int nctemp1512=El2d->sigmaxx->d[0];Nx =nctemp1512;
int nctemp1520=El2d->sigmaxx->d[1];Ny =nctemp1520;
int nctemp1532 = Nx * Ny;
n =nctemp1532;
int nctemp1536= it;
int nctemp1538= El2d->sresamp;
int nctemp1540=LibeMod(nctemp1536,nctemp1538);
int nctemp1533 = (nctemp1540 ==0);
if(nctemp1533)
{
int nctemp1545=0;
int nctemp1542 = (El2d->snpflags->a[nctemp1545] ==1);
if(nctemp1542)
{
nctempchar1 nctemp1554;
nctempchar1 *nctemp1553;
nctemp1554=*(nctempchar1*)(El2d->p);
int nctemp1561 = 4 * n;
nctemp1554.d[0]=nctemp1561;
nctemp1553=&nctemp1554;
tmp=nctemp1553;
int nctemp1563= El2d->fdp;
int nctemp1570 = 4 * n;
int nctemp1565= nctemp1570;
nctempchar1* nctemp1571= tmp;
int nctemp1574=LibeWrite(nctemp1563,nctemp1565,nctemp1571);
}
int nctemp1578=1;
int nctemp1575 = (El2d->snpflags->a[nctemp1578] ==1);
if(nctemp1575)
{
nctempchar1 nctemp1587;
nctempchar1 *nctemp1586;
nctemp1587=*(nctempchar1*)(El2d->vx);
int nctemp1594 = 4 * n;
nctemp1587.d[0]=nctemp1594;
nctemp1586=&nctemp1587;
tmp=nctemp1586;
int nctemp1596= El2d->fdvx;
int nctemp1603 = 4 * n;
int nctemp1598= nctemp1603;
nctempchar1* nctemp1604= tmp;
int nctemp1607=LibeWrite(nctemp1596,nctemp1598,nctemp1604);
}
int nctemp1611=2;
int nctemp1608 = (El2d->snpflags->a[nctemp1611] ==1);
if(nctemp1608)
{
nctempchar1 nctemp1620;
nctempchar1 *nctemp1619;
nctemp1620=*(nctempchar1*)(El2d->vy);
int nctemp1627 = 4 * n;
nctemp1620.d[0]=nctemp1627;
nctemp1619=&nctemp1620;
tmp=nctemp1619;
int nctemp1629= El2d->fdvy;
int nctemp1636 = 4 * n;
int nctemp1631= nctemp1636;
nctempchar1* nctemp1637= tmp;
int nctemp1640=LibeWrite(nctemp1629,nctemp1631,nctemp1637);
}
int nctemp1644=3;
int nctemp1641 = (El2d->snpflags->a[nctemp1644] ==1);
if(nctemp1641)
{
nctempchar1 nctemp1653;
nctempchar1 *nctemp1652;
nctemp1653=*(nctempchar1*)(El2d->e);
int nctemp1660 = 4 * n;
nctemp1653.d[0]=nctemp1660;
nctemp1652=&nctemp1653;
tmp=nctemp1652;
int nctemp1662= El2d->fde;
int nctemp1669 = 4 * n;
int nctemp1664= nctemp1669;
nctempchar1* nctemp1670= tmp;
int nctemp1673=LibeWrite(nctemp1662,nctemp1664,nctemp1670);
}
int nctemp1677=4;
int nctemp1674 = (El2d->snpflags->a[nctemp1677] ==1);
if(nctemp1674)
{
nctempchar1 nctemp1686;
nctempchar1 *nctemp1685;
nctemp1686=*(nctempchar1*)(El2d->exy);
int nctemp1693 = 4 * n;
nctemp1686.d[0]=nctemp1693;
nctemp1685=&nctemp1686;
tmp=nctemp1685;
int nctemp1695= El2d->fdexy;
int nctemp1702 = 4 * n;
int nctemp1697= nctemp1702;
nctempchar1* nctemp1703= tmp;
int nctemp1706=LibeWrite(nctemp1695,nctemp1697,nctemp1703);
}
}
return 1;
}
int El2dSolve (struct el2d* El2d,struct model* Model,struct src* Src,struct rec* Rec,int nt,int l)
{
int sx;
int sy;
struct diff* Diff;
int ns;
int ne;
nctempfloat2 *tmp1;
nctempfloat2 *tmp2;
int i;
int k;
float perc;
float oldperc;
int iperc;
int nctemp1712= l;
struct diff* nctemp1714=DiffNew(nctemp1712);
Diff =nctemp1714;
int nctemp1721=Model->Nx;
nctemp1721=nctemp1721*Model->Ny;
nctempfloat2 *nctemp1720;
nctemp1720=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp1720->d[0]=Model->Nx;
nctemp1720->d[1]=Model->Ny;
nctemp1720->a=(float *)RunMalloc(sizeof(float)*nctemp1721);
tmp1=nctemp1720;
int nctemp1732=Model->Nx;
nctemp1732=nctemp1732*Model->Ny;
nctempfloat2 *nctemp1731;
nctemp1731=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp1731->d[0]=Model->Nx;
nctemp1731->d[1]=Model->Ny;
nctemp1731->a=(float *)RunMalloc(sizeof(float)*nctemp1732);
tmp2=nctemp1731;
oldperc =0.0;
ns =El2d->ts;
int nctemp1753 = ns + nt;
ne =nctemp1753;
i =ns;
int nctemp1758 = (i < ne);
while(nctemp1758){
{
struct diff* nctemp1763= Diff;
nctempfloat2* nctemp1765= El2d->sigmaxx;
nctempfloat2* nctemp1768= El2d->exx;
float nctemp1771= Model->Dx;
int nctemp1773=DiffDxplus(nctemp1763,nctemp1765,nctemp1768,nctemp1771);
struct diff* nctemp1775= Diff;
nctempfloat2* nctemp1777= El2d->sigmaxy;
nctempfloat2* nctemp1780= El2d->exy;
float nctemp1783= Model->Dx;
int nctemp1785=DiffDyminus(nctemp1775,nctemp1777,nctemp1780,nctemp1783);
struct el2d* nctemp1787= El2d;
struct model* nctemp1789= Model;
int nctemp1791=El2dvx(nctemp1787,nctemp1789);
struct diff* nctemp1793= Diff;
nctempfloat2* nctemp1795= El2d->sigmayy;
nctempfloat2* nctemp1798= El2d->eyy;
float nctemp1801= Model->Dx;
int nctemp1803=DiffDyplus(nctemp1793,nctemp1795,nctemp1798,nctemp1801);
struct diff* nctemp1805= Diff;
nctempfloat2* nctemp1807= El2d->sigmaxy;
nctempfloat2* nctemp1810= El2d->eyx;
float nctemp1813= Model->Dx;
int nctemp1815=DiffDxminus(nctemp1805,nctemp1807,nctemp1810,nctemp1813);
struct el2d* nctemp1817= El2d;
struct model* nctemp1819= Model;
int nctemp1821=El2dvy(nctemp1817,nctemp1819);
struct diff* nctemp1823= Diff;
nctempfloat2* nctemp1825= El2d->vx;
nctempfloat2* nctemp1828= El2d->exx;
float nctemp1831= Model->Dx;
int nctemp1833=DiffDxminus(nctemp1823,nctemp1825,nctemp1828,nctemp1831);
struct diff* nctemp1835= Diff;
nctempfloat2* nctemp1837= El2d->vy;
nctempfloat2* nctemp1840= El2d->eyy;
float nctemp1843= Model->Dx;
int nctemp1845=DiffDyminus(nctemp1835,nctemp1837,nctemp1840,nctemp1843);
struct diff* nctemp1847= Diff;
nctempfloat2* nctemp1849= El2d->vy;
nctempfloat2* nctemp1852= tmp1;
float nctemp1855= Model->Dx;
int nctemp1857=DiffDxplus(nctemp1847,nctemp1849,nctemp1852,nctemp1855);
struct diff* nctemp1859= Diff;
nctempfloat2* nctemp1861= El2d->vx;
nctempfloat2* nctemp1864= tmp2;
float nctemp1867= Model->Dx;
int nctemp1869=DiffDyplus(nctemp1859,nctemp1861,nctemp1864,nctemp1867);
struct el2d* nctemp1871= El2d;
struct model* nctemp1873= Model;
nctempfloat2* nctemp1875= tmp1;
nctempfloat2* nctemp1878= tmp2;
int nctemp1881=El2dexy(nctemp1871,nctemp1873,nctemp1875,nctemp1878);
struct el2d* nctemp1883= El2d;
struct model* nctemp1885= Model;
nctempfloat2* nctemp1887= tmp1;
nctempfloat2* nctemp1890= tmp2;
int nctemp1893=El2deyx(nctemp1883,nctemp1885,nctemp1887,nctemp1890);
struct el2d* nctemp1895= El2d;
struct model* nctemp1897= Model;
int nctemp1899=El2de(nctemp1895,nctemp1897);
struct el2d* nctemp1901= El2d;
struct model* nctemp1903= Model;
int nctemp1905=El2dstress(nctemp1901,nctemp1903);
k =0;
int nctemp1910 = (k < Src->Ns);
while(nctemp1910){
{
int nctemp1918=k;
sx =Src->Sx->a[nctemp1918];
int nctemp1924=k;
sy =Src->Sy->a[nctemp1924];
int nctemp1929=sx;
nctemp1929=sy*El2d->sigmaxx->d[0]+nctemp1929;
int nctemp1936=sx;
nctemp1936=sy*El2d->sigmaxx->d[0]+nctemp1936;
int nctemp1947=i;
nctemp1947=k*Src->Sqxx->d[0]+nctemp1947;
float nctemp1955 = Model->Dx * Model->Dx;
float nctemp1956 = Src->Sqxx->a[nctemp1947] / nctemp1955;
float nctemp1957 = Model->Dt * nctemp1956;
float nctemp1958 = El2d->sigmaxx->a[nctemp1936] + nctemp1957;
El2d->sigmaxx->a[nctemp1929] =nctemp1958;
int nctemp1962=sx;
nctemp1962=sy*El2d->sigmayy->d[0]+nctemp1962;
int nctemp1969=sx;
nctemp1969=sy*El2d->sigmayy->d[0]+nctemp1969;
int nctemp1980=i;
nctemp1980=k*Src->Sqyy->d[0]+nctemp1980;
float nctemp1988 = Model->Dx * Model->Dx;
float nctemp1989 = Src->Sqyy->a[nctemp1980] / nctemp1988;
float nctemp1990 = Model->Dt * nctemp1989;
float nctemp1991 = El2d->sigmayy->a[nctemp1969] + nctemp1990;
El2d->sigmayy->a[nctemp1962] =nctemp1991;
int nctemp1995=sx;
nctemp1995=sy*El2d->vx->d[0]+nctemp1995;
int nctemp2002=sx;
nctemp2002=sy*El2d->vx->d[0]+nctemp2002;
int nctemp2013=i;
nctemp2013=k*Src->Sfx->d[0]+nctemp2013;
float nctemp2021 = Model->Dx * Model->Dx;
float nctemp2022 = Src->Sfx->a[nctemp2013] / nctemp2021;
float nctemp2023 = Model->Dt * nctemp2022;
float nctemp2024 = El2d->vx->a[nctemp2002] + nctemp2023;
El2d->vx->a[nctemp1995] =nctemp2024;
int nctemp2028=sx;
nctemp2028=sy*El2d->vy->d[0]+nctemp2028;
int nctemp2035=sx;
nctemp2035=sy*El2d->vy->d[0]+nctemp2035;
int nctemp2046=i;
nctemp2046=k*Src->Sfy->d[0]+nctemp2046;
float nctemp2054 = Model->Dx * Model->Dx;
float nctemp2055 = Src->Sfy->a[nctemp2046] / nctemp2054;
float nctemp2056 = Model->Dt * nctemp2055;
float nctemp2057 = El2d->vy->a[nctemp2035] + nctemp2056;
El2d->vy->a[nctemp2028] =nctemp2057;
}
int nctemp2066 = k + 1;
k =nctemp2066;
int nctemp2067 = (k < Src->Ns);
nctemp1910=nctemp2067;
}
float nctemp2082=(float)(i);
int nctemp2095 = ne - ns;
int nctemp2097 = nctemp2095 - 1;
float nctemp2086=(float)(nctemp2097);
float nctemp2098 = nctemp2082 / nctemp2086;
float nctemp2099 = 1000.0 * nctemp2098;
perc =nctemp2099;
float nctemp2107 = perc - oldperc;
int nctemp2100 = (nctemp2107 >= 10.0);
if(nctemp2100)
{
int nctemp2116=(int)(perc);
int nctemp2120 = nctemp2116 / 10;
iperc =nctemp2120;
int nctemp2124= iperc;
int nctemp2126= 10;
int nctemp2128=LibeMod(nctemp2124,nctemp2126);
int nctemp2121 = (nctemp2128 ==0);
if(nctemp2121)
{
int nctemp2131= 4;
int nctemp2133= iperc;
int nctemp2135=LibePuti(nctemp2131,nctemp2133);
int nctemp2137= 4;
struct nctempchar1 *nctemp2141;
static struct nctempchar1 nctemp2142 = {{ 3}, (char*)"\n\0"};
nctemp2141=&nctemp2142;
nctempchar1* nctemp2139= nctemp2141;
int nctemp2143=LibePuts(nctemp2137,nctemp2139);
int nctemp2145= 4;
int nctemp2147=LibeFlush(nctemp2145);
}
oldperc =perc;
}
struct rec* nctemp2153= Rec;
int nctemp2155= i;
nctempfloat2* nctemp2157= El2d->p;
nctempfloat2* nctemp2160= El2d->vx;
nctempfloat2* nctemp2163= El2d->vy;
int nctemp2166=RecReceiver(nctemp2153,nctemp2155,nctemp2157,nctemp2160,nctemp2163);
struct el2d* nctemp2168= El2d;
int nctemp2170= i;
int nctemp2172=El2dSnap(nctemp2168,nctemp2170);
}
int nctemp2181 = i + 1;
i =nctemp2181;
int nctemp2182 = (i < ne);
nctemp1758=nctemp2182;
}
int nctemp2194 = El2d->ts + ne;
El2d->ts =nctemp2194;
return 1;
}
