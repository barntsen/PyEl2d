//  Translated by epsc  version today  
#include <stddef.h>
typedef struct { float r; float i;} complex; 
typedef struct nctempfloat1 { int d[1]; float *a;} nctempfloat1; 
typedef struct nctempint1 { int d[1]; int *a;} nctempint1; 
typedef struct nctempchar1 { int d[1]; char *a;} nctempchar1; 
typedef struct nctempcomplex1 { int d[1]; complex *a;} nctempcomplex1; 
typedef struct nctempfloat2 { int d[2]; float *a;} nctempfloat2; 
typedef struct nctempint2 { int d[2]; int *a;} nctempint2; 
typedef struct nctempchar2 { int d[2]; char *a;} nctempchar2; 
typedef struct nctempcomplex2 { int d[2]; complex *a;} nctempcomplex2; 
typedef struct nctempfloat3 { int d[3]; float *a;} nctempfloat3; 
typedef struct nctempint3 { int d[3]; int *a;} nctempint3; 
typedef struct nctempchar3 { int d[3]; char *a;} nctempchar3; 
typedef struct nctempcomplex3 { int d[3]; complex *a;} nctempcomplex3; 
typedef struct nctempfloat4 { int d[4]; float *a;} nctempfloat4; 
typedef struct nctempint4 { int d[4]; int *a;} nctempint4; 
typedef struct nctempchar4 { int d[4]; char *a;} nctempchar4; 
typedef struct nctempcomplex4 { int d[4]; complex *a;} nctempcomplex4; 
#include <stdlib.h>
#include <string.h>
void *RunMalloc(int n); 
int RunFree(void *n); 
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
struct MainArg {nctempchar1 *arg;
};
typedef struct nctempMainArg1 {int d[1]; struct MainArg *a; } nctempMainArg1;
struct nctempMainArg2 {int d[2]; struct MainArg *a; } ;
struct nctempMainArg3 {int d[3]; struct MainArg *a; } ;
struct nctempMainArg4 {int d[4]; struct MainArg *a; } ;
int LibeErrno;
nctempchar1 *LibeErrstr;
int LibeErrinit ();
int LibeGeterrno ();
int LibeClearerr ();
nctempchar1 * LibeGeterrstr ();
nctempchar1 * LibeGetenv (nctempchar1 *name);
;
;
;
;
;
float LibeMach (int flag);
float LibeFabs (float x);
float LibeFscale2 (float x,int n);
float LibeGetfman2 (float x);
int LibeGetfexp2 (float x);
float LibeFscale (float x,int n);
int LibeGetfman (float f,int maxdig);
float LibeGetffman (float f);
int LibeGetmaxdig (float f);
int LibeGetfexp (float f);
float LibeClock ();
;
;
;
;
;
;
;
float LibeSincosmax;
float LibeSincoslim;
float LibeLnmax;
float LibeLnmin;
int LibeMod (int n,int r);
float LibeSqrt (float x);
float LibeLn (float x);
float LibeExp (float x);
float LibeSincos (float x,float y,float sign);
float LibeSin (float x);
float LibeCos (float x);
float LibeTan (float x);
float LibeArcsin (float x);
float LibeArccos (float x);
float LibeAtan (float f);
float LibeArctan (float x);
float LibePow (float base,float exponent);
int LibeMathinit ();
int LibeStrlen (nctempchar1 *s);
int LibeStrcmp (nctempchar1 *s,nctempchar1 *t);
int LibeStrev (nctempchar1 *s);
int LibeStrcpy (nctempchar1 *s,nctempchar1 *t);
int LibeStrcat (nctempchar1 *s,nctempchar1 *t);
nctempchar1 * LibeStradd (nctempchar1 *t,nctempchar1 *s);
nctempchar1 * LibeStrsave (nctempchar1 *s);
int LibeIsalhpa (int c);
int LibeIsdigit (int c);
int LibeIsalnum (int c);
int LibeAtoi (nctempchar1 *s);
int LibeItoa (int n,nctempchar1 *s);
int LibeItoh (int n,nctempchar1 *s);
float LibeAtof (nctempchar1 *s);
int LibeFtoaf (int mant,int nexp,int nfield,int nfrac,nctempchar1 *s);
int LibeFtoae (int mant,int nexp,int nfield,int nfrac,nctempchar1 *s);
int LibeFtoa (float f,nctempchar1 *fmt,nctempchar1 *s);
struct LibeFdescr {int cnt;
int ptr;
int bufsize;
nctempchar1 *base;
int readflg;
int writflg;
int unbflg;
int errflg;
int eoflg;
int fd;
};
typedef struct nctempLibeFdescr1 {int d[1]; struct LibeFdescr *a; } nctempLibeFdescr1;
struct nctempLibeFdescr2 {int d[2]; struct LibeFdescr *a; } ;
struct nctempLibeFdescr3 {int d[3]; struct LibeFdescr *a; } ;
struct nctempLibeFdescr4 {int d[4]; struct LibeFdescr *a; } ;
;
struct nctempLibeFdescr1 *LibeFarr;
;
nctempchar1 *LibeTmpstr;
int LibeIoinit ();
int LibeFlushbuff (int fp);
int LibeFillbuff (int fp);
int LibeFlush (int fp);
int LibeOpen (nctempchar1 *name,nctempchar1 *mode);
int LibeClose (int fp);
int LibeGetc (int fp);
int LibeUngetc (int fp);
int LibeGetw (int fp,nctempchar1 *text);
int LibePutc (int fp,int c);
int LibePuts (int fp,nctempchar1 *s);
int LibePuti (int fp,int ival);
int LibePutf (int fp,float fval,nctempchar1 *form);
int LibePs (nctempchar1 *s);
int LibePi (int n);
int LibePf (float r);
int LibeRead (int fp,int n,nctempchar1 *buffer);
int LibeWrite (int fp,int n,nctempchar1 *buffer);
int LibeSeek (int fp,int pos,int flag);
int LibeIodelete ();
int NBLOCKS;
int NTHREADS;
int LibeSetnb (int nb);
int LibeSetnt (int nt);
int LibeGetnb ();
int LibeGetnt ();
int LibeArrayex (int line,nctempchar1 *name,int ival,int index,int bound);
int LibeSystem (nctempchar1 *cmd);
int LibeInit ();
int LibeExit ();
struct diff {int l;
int lmax;
nctempfloat2 *coeffs;
nctempfloat1 *w;
};
typedef struct nctempdiff1 {int d[1]; struct diff *a; } nctempdiff1;
struct nctempdiff2 {int d[2]; struct diff *a; } ;
struct nctempdiff3 {int d[3]; struct diff *a; } ;
struct nctempdiff4 {int d[4]; struct diff *a; } ;
struct diff* DiffNew (int l);
int DiffDxminus (struct diff* Diff,nctempfloat2 *A,nctempfloat2 *dA,float dx);
int DiffDxplus (struct diff* Diff,nctempfloat2 *A,nctempfloat2 *dA,float dx);
int DiffDyminus (struct diff* Diff,nctempfloat2 *A,nctempfloat2 *dA,float dx);
int DiffDyplus (struct diff* Diff,nctempfloat2 *A,nctempfloat2 *dA,float dx);
struct rec {int nr;
nctempint1 *rx;
nctempint1 *ry;
int fd;
int nt;
nctempfloat2 *p;
nctempfloat2 *sxx;
nctempfloat2 *syy;
nctempfloat2 *vx;
nctempfloat2 *vy;
nctempfloat2 *wrk;
int resamp;
int pit;
};
typedef struct nctemprec1 {int d[1]; struct rec *a; } nctemprec1;
struct nctemprec2 {int d[2]; struct rec *a; } ;
struct nctemprec3 {int d[3]; struct rec *a; } ;
struct nctemprec4 {int d[4]; struct rec *a; } ;
struct rec* RecNew (nctempint1 *rx,nctempint1 *ry,int nt,int resamp);
int RecReceiver (struct rec* Rec,int it,nctempfloat2 *sxx,nctempfloat2 *syy,nctempfloat2 *vx,nctempfloat2 *vy);
nctempfloat2 * RecGetrec (struct rec* Rec,int data);
struct src {nctempint1 *Sx;
nctempint1 *Sy;
nctempfloat2 *Sqyy;
nctempfloat2 *Sqxx;
nctempfloat2 *Sfx;
nctempfloat2 *Sfy;
int Ns;
};
typedef struct nctempsrc1 {int d[1]; struct src *a; } nctempsrc1;
struct nctempsrc2 {int d[2]; struct src *a; } ;
struct nctempsrc3 {int d[3]; struct src *a; } ;
struct nctempsrc4 {int d[4]; struct src *a; } ;
struct src* SrcNew (nctempint1 *sx,nctempint1 *sy,nctempfloat2 *sqxx,nctempfloat2 *sqyy,nctempfloat2 *sfx,nctempfloat2 *sfy);
int SrcDel (struct src* Src);
int Srcricker (nctempfloat1 *source,float t0,float f0,int nt,float dt);
struct model {int Nx;
int Ny;
int Nb;
float W0;
nctempfloat2 *Qlx;
nctempfloat2 *Qly;
nctempfloat2 *Qmx;
nctempfloat2 *Qmy;
nctempfloat2 *Qpx;
nctempfloat2 *Qpy;
nctempfloat2 *Lambda;
nctempfloat2 *Mu;
nctempfloat2 *Muxy;
nctempfloat2 *Dmuxyx;
nctempfloat2 *Dmuxyy;
nctempfloat2 *Dlambdax;
nctempfloat2 *Dlambday;
nctempfloat2 *Dmux;
nctempfloat2 *Dmuy;
nctempfloat2 *Drhopx;
nctempfloat2 *Drhopy;
nctempfloat2 *Rho;
nctempfloat2 *Rhox;
nctempfloat2 *Rhoy;
nctempfloat2 *Alpha1x;
nctempfloat2 *Alpha1y;
nctempfloat2 *Alpha2x;
nctempfloat2 *Alpha2y;
nctempfloat2 *Beta1x;
nctempfloat2 *Beta2x;
nctempfloat2 *Beta1y;
nctempfloat2 *Beta2y;
nctempfloat2 *Eta1x;
nctempfloat2 *Eta1y;
nctempfloat2 *Eta2x;
nctempfloat2 *Eta2y;
nctempfloat1 *dx;
nctempfloat1 *dy;
nctempfloat1 *dx1;
nctempfloat1 *dy1;
nctempfloat1 *dx2;
nctempfloat1 *dy2;
float Dx;
float Dt;
int Freesurface;
};
typedef struct nctempmodel1 {int d[1]; struct model *a; } nctempmodel1;
struct nctempmodel2 {int d[2]; struct model *a; } ;
struct nctempmodel3 {int d[3]; struct model *a; } ;
struct nctempmodel4 {int d[4]; struct model *a; } ;
;
;
;
;
int Modeld (nctempfloat1 *d,float dx,int nb);
int Modele (nctempfloat1 *d,float dx,int nb);
nctempfloat2 * Modelcopy (nctempfloat2 *a);
int Modelstaggerx (nctempfloat2 *a,nctempfloat2 *astagg);
int Modelstaggery (nctempfloat2 *a,nctempfloat2 *astagg);
int Modelslscoeffs (nctempfloat2 *Qx,nctempfloat2 *Qy,nctempfloat2 *modx,nctempfloat2 *mody,nctempfloat2 *coeff1x,nctempfloat2 *coeff1y,nctempfloat2 *coeff2x,nctempfloat2 *coeff2y,struct model* Model);
struct model* Modelsls (nctempfloat2 *vp,nctempfloat2 *vs,nctempfloat2 *rho,nctempfloat2 *Qlx,nctempfloat2 *Qly,nctempfloat2 *Qmx,nctempfloat2 *Qmy,nctempfloat2 *Qpx,nctempfloat2 *Qpy,float Dx,float Dt,float W0,int Nb,int Freesurface);
struct model* ModelNew (nctempfloat2 *vp,nctempfloat2 *vs,nctempfloat2 *rho,nctempfloat2 *Qlx,nctempfloat2 *Qly,nctempfloat2 *Qmx,nctempfloat2 *Qmy,nctempfloat2 *Qpx,nctempfloat2 *Qpy,float Dx,float Dt,float W0,int Nb,int Rheol,int Freesurface);
float ModelStability (struct model* Model);
struct el2d {nctempfloat2 *p;
nctempfloat2 *sigmaxx;
nctempfloat2 *sigmayy;
nctempfloat2 *sigmaxy;
nctempfloat2 *sigmayx;
nctempfloat2 *vx;
nctempfloat2 *vy;
nctempfloat2 *exx;
nctempfloat2 *eyy;
nctempfloat2 *exy;
nctempfloat2 *eyx;
nctempfloat2 *gammaxx;
nctempfloat2 *gammayy;
nctempfloat2 *gammaxy;
nctempfloat2 *gammayx;
nctempfloat2 *thetaxxx;
nctempfloat2 *thetayyy;
nctempfloat2 *thetaxyx;
nctempfloat2 *thetayxy;
int ts;
int fdsxx;
int fdsyy;
int fdvx;
int fdvy;
int sresamp;
nctempint1 *snpflags;
};
typedef struct nctempel2d1 {int d[1]; struct el2d *a; } nctempel2d1;
struct nctempel2d2 {int d[2]; struct el2d *a; } ;
struct nctempel2d3 {int d[3]; struct el2d *a; } ;
struct nctempel2d4 {int d[4]; struct el2d *a; } ;
struct el2d* El2dNew (struct model* Model,int sresamp,nctempint1 *snpflags)
{
struct el2d* El2d;
int i;
int j;
struct el2d *nctemp5=(struct el2d*)RunMalloc(sizeof(struct el2d));
El2d =nctemp5;
El2d->sresamp =sresamp;
El2d->snpflags=snpflags;
int nctemp23=Model->Nx;
nctemp23=nctemp23*Model->Ny;
nctempfloat2 *nctemp22;
nctemp22=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp22->d[0]=Model->Nx;
nctemp22->d[1]=Model->Ny;
nctemp22->a=(float *)RunMalloc(sizeof(float)*nctemp23);
El2d->p=nctemp22;
int nctemp34=Model->Nx;
nctemp34=nctemp34*Model->Ny;
nctempfloat2 *nctemp33;
nctemp33=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp33->d[0]=Model->Nx;
nctemp33->d[1]=Model->Ny;
nctemp33->a=(float *)RunMalloc(sizeof(float)*nctemp34);
El2d->sigmaxx=nctemp33;
int nctemp45=Model->Nx;
nctemp45=nctemp45*Model->Ny;
nctempfloat2 *nctemp44;
nctemp44=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp44->d[0]=Model->Nx;
nctemp44->d[1]=Model->Ny;
nctemp44->a=(float *)RunMalloc(sizeof(float)*nctemp45);
El2d->sigmayy=nctemp44;
int nctemp56=Model->Nx;
nctemp56=nctemp56*Model->Ny;
nctempfloat2 *nctemp55;
nctemp55=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp55->d[0]=Model->Nx;
nctemp55->d[1]=Model->Ny;
nctemp55->a=(float *)RunMalloc(sizeof(float)*nctemp56);
El2d->sigmaxy=nctemp55;
int nctemp67=Model->Nx;
nctemp67=nctemp67*Model->Ny;
nctempfloat2 *nctemp66;
nctemp66=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp66->d[0]=Model->Nx;
nctemp66->d[1]=Model->Ny;
nctemp66->a=(float *)RunMalloc(sizeof(float)*nctemp67);
El2d->sigmayx=nctemp66;
int nctemp78=Model->Nx;
nctemp78=nctemp78*Model->Ny;
nctempfloat2 *nctemp77;
nctemp77=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp77->d[0]=Model->Nx;
nctemp77->d[1]=Model->Ny;
nctemp77->a=(float *)RunMalloc(sizeof(float)*nctemp78);
El2d->vx=nctemp77;
int nctemp89=Model->Nx;
nctemp89=nctemp89*Model->Ny;
nctempfloat2 *nctemp88;
nctemp88=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp88->d[0]=Model->Nx;
nctemp88->d[1]=Model->Ny;
nctemp88->a=(float *)RunMalloc(sizeof(float)*nctemp89);
El2d->vy=nctemp88;
int nctemp100=Model->Nx;
nctemp100=nctemp100*Model->Ny;
nctempfloat2 *nctemp99;
nctemp99=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp99->d[0]=Model->Nx;
nctemp99->d[1]=Model->Ny;
nctemp99->a=(float *)RunMalloc(sizeof(float)*nctemp100);
El2d->exx=nctemp99;
int nctemp111=Model->Nx;
nctemp111=nctemp111*Model->Ny;
nctempfloat2 *nctemp110;
nctemp110=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp110->d[0]=Model->Nx;
nctemp110->d[1]=Model->Ny;
nctemp110->a=(float *)RunMalloc(sizeof(float)*nctemp111);
El2d->eyy=nctemp110;
int nctemp122=Model->Nx;
nctemp122=nctemp122*Model->Ny;
nctempfloat2 *nctemp121;
nctemp121=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp121->d[0]=Model->Nx;
nctemp121->d[1]=Model->Ny;
nctemp121->a=(float *)RunMalloc(sizeof(float)*nctemp122);
El2d->exy=nctemp121;
int nctemp133=Model->Nx;
nctemp133=nctemp133*Model->Ny;
nctempfloat2 *nctemp132;
nctemp132=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp132->d[0]=Model->Nx;
nctemp132->d[1]=Model->Ny;
nctemp132->a=(float *)RunMalloc(sizeof(float)*nctemp133);
El2d->eyx=nctemp132;
int nctemp144=Model->Nx;
nctemp144=nctemp144*Model->Ny;
nctempfloat2 *nctemp143;
nctemp143=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp143->d[0]=Model->Nx;
nctemp143->d[1]=Model->Ny;
nctemp143->a=(float *)RunMalloc(sizeof(float)*nctemp144);
El2d->gammaxx=nctemp143;
int nctemp155=Model->Nx;
nctemp155=nctemp155*Model->Ny;
nctempfloat2 *nctemp154;
nctemp154=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp154->d[0]=Model->Nx;
nctemp154->d[1]=Model->Ny;
nctemp154->a=(float *)RunMalloc(sizeof(float)*nctemp155);
El2d->gammayy=nctemp154;
int nctemp166=Model->Nx;
nctemp166=nctemp166*Model->Ny;
nctempfloat2 *nctemp165;
nctemp165=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp165->d[0]=Model->Nx;
nctemp165->d[1]=Model->Ny;
nctemp165->a=(float *)RunMalloc(sizeof(float)*nctemp166);
El2d->gammaxy=nctemp165;
int nctemp177=Model->Nx;
nctemp177=nctemp177*Model->Ny;
nctempfloat2 *nctemp176;
nctemp176=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp176->d[0]=Model->Nx;
nctemp176->d[1]=Model->Ny;
nctemp176->a=(float *)RunMalloc(sizeof(float)*nctemp177);
El2d->gammayx=nctemp176;
int nctemp188=Model->Nx;
nctemp188=nctemp188*Model->Ny;
nctempfloat2 *nctemp187;
nctemp187=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp187->d[0]=Model->Nx;
nctemp187->d[1]=Model->Ny;
nctemp187->a=(float *)RunMalloc(sizeof(float)*nctemp188);
El2d->thetaxxx=nctemp187;
int nctemp199=Model->Nx;
nctemp199=nctemp199*Model->Ny;
nctempfloat2 *nctemp198;
nctemp198=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp198->d[0]=Model->Nx;
nctemp198->d[1]=Model->Ny;
nctemp198->a=(float *)RunMalloc(sizeof(float)*nctemp199);
El2d->thetayyy=nctemp198;
int nctemp210=Model->Nx;
nctemp210=nctemp210*Model->Ny;
nctempfloat2 *nctemp209;
nctemp209=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp209->d[0]=Model->Nx;
nctemp209->d[1]=Model->Ny;
nctemp209->a=(float *)RunMalloc(sizeof(float)*nctemp210);
El2d->thetayxy=nctemp209;
int nctemp221=Model->Nx;
nctemp221=nctemp221*Model->Ny;
nctempfloat2 *nctemp220;
nctemp220=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp220->d[0]=Model->Nx;
nctemp220->d[1]=Model->Ny;
nctemp220->a=(float *)RunMalloc(sizeof(float)*nctemp221);
El2d->thetaxyx=nctemp220;
i =0;
int nctemp230 = (i < Model->Nx);
while(nctemp230){
{
j =0;
int nctemp238 = (j < Model->Ny);
while(nctemp238){
{
int nctemp245=i;
nctemp245=j*El2d->p->d[0]+nctemp245;
El2d->p->a[nctemp245] =0.0;
int nctemp252=i;
nctemp252=j*El2d->sigmaxx->d[0]+nctemp252;
El2d->sigmaxx->a[nctemp252] =0.0;
int nctemp259=i;
nctemp259=j*El2d->sigmayy->d[0]+nctemp259;
El2d->sigmayy->a[nctemp259] =0.0;
int nctemp266=i;
nctemp266=j*El2d->sigmaxy->d[0]+nctemp266;
El2d->sigmaxy->a[nctemp266] =0.0;
int nctemp273=i;
nctemp273=j*El2d->sigmayx->d[0]+nctemp273;
El2d->sigmayx->a[nctemp273] =0.0;
int nctemp280=i;
nctemp280=j*El2d->vx->d[0]+nctemp280;
El2d->vx->a[nctemp280] =0.0;
int nctemp287=i;
nctemp287=j*El2d->vy->d[0]+nctemp287;
El2d->vy->a[nctemp287] =0.0;
int nctemp294=i;
nctemp294=j*El2d->exx->d[0]+nctemp294;
El2d->exx->a[nctemp294] =0.0;
int nctemp301=i;
nctemp301=j*El2d->eyy->d[0]+nctemp301;
El2d->eyy->a[nctemp301] =0.0;
int nctemp308=i;
nctemp308=j*El2d->exy->d[0]+nctemp308;
El2d->exy->a[nctemp308] =0.0;
int nctemp315=i;
nctemp315=j*El2d->eyx->d[0]+nctemp315;
El2d->eyx->a[nctemp315] =0.0;
int nctemp322=i;
nctemp322=j*El2d->gammaxx->d[0]+nctemp322;
El2d->gammaxx->a[nctemp322] =0.0;
int nctemp329=i;
nctemp329=j*El2d->gammayy->d[0]+nctemp329;
El2d->gammayy->a[nctemp329] =0.0;
int nctemp336=i;
nctemp336=j*El2d->gammaxy->d[0]+nctemp336;
El2d->gammaxy->a[nctemp336] =0.0;
int nctemp343=i;
nctemp343=j*El2d->gammayx->d[0]+nctemp343;
El2d->gammayx->a[nctemp343] =0.0;
int nctemp350=i;
nctemp350=j*El2d->thetaxxx->d[0]+nctemp350;
El2d->thetaxxx->a[nctemp350] =0.0;
int nctemp357=i;
nctemp357=j*El2d->thetayyy->d[0]+nctemp357;
El2d->thetayyy->a[nctemp357] =0.0;
int nctemp364=i;
nctemp364=j*El2d->thetayxy->d[0]+nctemp364;
El2d->thetayxy->a[nctemp364] =0.0;
int nctemp371=i;
nctemp371=j*El2d->thetaxyx->d[0]+nctemp371;
El2d->thetaxyx->a[nctemp371] =0.0;
El2d->ts =0;
}
int nctemp387 = j + 1;
j =nctemp387;
int nctemp388 = (j < Model->Ny);
nctemp238=nctemp388;
}
}
int nctemp400 = i + 1;
i =nctemp400;
int nctemp401 = (i < Model->Nx);
nctemp230=nctemp401;
}
int nctemp408=0;
int nctemp405 = (El2d->snpflags->a[nctemp408] ==1);
if(nctemp405)
{
struct nctempchar1 *nctemp417;
static struct nctempchar1 nctemp418 = {{ 12}, (char*)"snp-sxx.bin\0"};
nctemp417=&nctemp418;
nctempchar1* nctemp415= nctemp417;
struct nctempchar1 *nctemp421;
static struct nctempchar1 nctemp422 = {{ 2}, (char*)"w\0"};
nctemp421=&nctemp422;
nctempchar1* nctemp419= nctemp421;
int nctemp423=LibeOpen(nctemp415,nctemp419);
El2d->fdsxx =nctemp423;
}
int nctemp427=1;
int nctemp424 = (El2d->snpflags->a[nctemp427] ==1);
if(nctemp424)
{
struct nctempchar1 *nctemp436;
static struct nctempchar1 nctemp437 = {{ 12}, (char*)"snp-syy.bin\0"};
nctemp436=&nctemp437;
nctempchar1* nctemp434= nctemp436;
struct nctempchar1 *nctemp440;
static struct nctempchar1 nctemp441 = {{ 2}, (char*)"w\0"};
nctemp440=&nctemp441;
nctempchar1* nctemp438= nctemp440;
int nctemp442=LibeOpen(nctemp434,nctemp438);
El2d->fdsyy =nctemp442;
}
int nctemp446=2;
int nctemp443 = (El2d->snpflags->a[nctemp446] ==1);
if(nctemp443)
{
struct nctempchar1 *nctemp455;
static struct nctempchar1 nctemp456 = {{ 11}, (char*)"snp-vx.bin\0"};
nctemp455=&nctemp456;
nctempchar1* nctemp453= nctemp455;
struct nctempchar1 *nctemp459;
static struct nctempchar1 nctemp460 = {{ 2}, (char*)"w\0"};
nctemp459=&nctemp460;
nctempchar1* nctemp457= nctemp459;
int nctemp461=LibeOpen(nctemp453,nctemp457);
El2d->fdvx =nctemp461;
}
int nctemp465=3;
int nctemp462 = (El2d->snpflags->a[nctemp465] ==1);
if(nctemp462)
{
struct nctempchar1 *nctemp474;
static struct nctempchar1 nctemp475 = {{ 11}, (char*)"snp-vy.bin\0"};
nctemp474=&nctemp475;
nctempchar1* nctemp472= nctemp474;
struct nctempchar1 *nctemp478;
static struct nctempchar1 nctemp479 = {{ 2}, (char*)"w\0"};
nctemp478=&nctemp479;
nctempchar1* nctemp476= nctemp478;
int nctemp480=LibeOpen(nctemp472,nctemp476);
El2d->fdvy =nctemp480;
}
return El2d;
}
int El2dvx (struct el2d* El2d,struct model* Model)
{
int nx;
int ny;
int i;
int j;
nx =Model->Nx;
ny =Model->Ny;

 #pragma omp parallel for
for(j=0;j<ny;j=j+1){for(i=0;i<nx;i=i+1){{
int nctemp497=i;
nctemp497=j*El2d->vx->d[0]+nctemp497;
int nctemp517=i;
nctemp517=j*Model->Rhox->d[0]+nctemp517;
float nctemp520 = Model->Dt * Model->Rhox->a[nctemp517];
int nctemp525=i;
nctemp525=j*El2d->exx->d[0]+nctemp525;
int nctemp529=i;
nctemp529=j*El2d->exy->d[0]+nctemp529;
float nctemp532 = El2d->exx->a[nctemp525] + El2d->exy->a[nctemp529];
float nctemp533 = nctemp520 * nctemp532;
int nctemp542=i;
nctemp542=j*El2d->thetaxxx->d[0]+nctemp542;
float nctemp545 = Model->Dt * El2d->thetaxxx->a[nctemp542];
int nctemp547=i;
nctemp547=j*Model->Drhopx->d[0]+nctemp547;
float nctemp550 = nctemp545 * Model->Drhopx->a[nctemp547];
float nctemp551 = nctemp533 + nctemp550;
int nctemp560=i;
nctemp560=j*El2d->thetayxy->d[0]+nctemp560;
float nctemp563 = Model->Dt * El2d->thetayxy->a[nctemp560];
int nctemp565=i;
nctemp565=j*Model->Drhopy->d[0]+nctemp565;
float nctemp568 = nctemp563 * Model->Drhopy->a[nctemp565];
float nctemp569 = nctemp551 + nctemp568;
int nctemp571=i;
nctemp571=j*El2d->vx->d[0]+nctemp571;
float nctemp574 = nctemp569 + El2d->vx->a[nctemp571];
El2d->vx->a[nctemp497] =nctemp574;
int nctemp578=i;
nctemp578=j*El2d->thetaxxx->d[0]+nctemp578;
int nctemp588=i;
nctemp588=j*Model->Eta1x->d[0]+nctemp588;
int nctemp592=i;
nctemp592=j*El2d->thetaxxx->d[0]+nctemp592;
float nctemp595 = Model->Eta1x->a[nctemp588] * El2d->thetaxxx->a[nctemp592];
int nctemp600=i;
nctemp600=j*Model->Eta2x->d[0]+nctemp600;
int nctemp604=i;
nctemp604=j*El2d->exx->d[0]+nctemp604;
float nctemp607 = Model->Eta2x->a[nctemp600] * El2d->exx->a[nctemp604];
float nctemp608 = nctemp595 + nctemp607;
El2d->thetaxxx->a[nctemp578] =nctemp608;
int nctemp612=i;
nctemp612=j*El2d->thetayxy->d[0]+nctemp612;
int nctemp622=i;
nctemp622=j*Model->Eta1y->d[0]+nctemp622;
int nctemp626=i;
nctemp626=j*El2d->thetayxy->d[0]+nctemp626;
float nctemp629 = Model->Eta1y->a[nctemp622] * El2d->thetayxy->a[nctemp626];
int nctemp634=i;
nctemp634=j*Model->Eta2y->d[0]+nctemp634;
int nctemp638=i;
nctemp638=j*El2d->exy->d[0]+nctemp638;
float nctemp641 = Model->Eta2y->a[nctemp634] * El2d->exy->a[nctemp638];
float nctemp642 = nctemp629 + nctemp641;
El2d->thetayxy->a[nctemp612] =nctemp642;
}
}}}
int El2dvy (struct el2d* El2d,struct model* Model)
{
int nx;
int ny;
int i;
int j;
nx =Model->Nx;
ny =Model->Ny;

 #pragma omp parallel for
for(j=0;j<ny;j=j+1){for(i=0;i<nx;i=i+1){{
int nctemp658=i;
nctemp658=j*El2d->vy->d[0]+nctemp658;
int nctemp678=i;
nctemp678=j*Model->Rhoy->d[0]+nctemp678;
float nctemp681 = Model->Dt * Model->Rhoy->a[nctemp678];
int nctemp686=i;
nctemp686=j*El2d->eyy->d[0]+nctemp686;
int nctemp690=i;
nctemp690=j*El2d->eyx->d[0]+nctemp690;
float nctemp693 = El2d->eyy->a[nctemp686] + El2d->eyx->a[nctemp690];
float nctemp694 = nctemp681 * nctemp693;
int nctemp703=i;
nctemp703=j*El2d->thetayyy->d[0]+nctemp703;
float nctemp706 = Model->Dt * El2d->thetayyy->a[nctemp703];
int nctemp708=i;
nctemp708=j*Model->Drhopy->d[0]+nctemp708;
float nctemp711 = nctemp706 * Model->Drhopy->a[nctemp708];
float nctemp712 = nctemp694 + nctemp711;
int nctemp721=i;
nctemp721=j*El2d->thetaxyx->d[0]+nctemp721;
float nctemp724 = Model->Dt * El2d->thetaxyx->a[nctemp721];
int nctemp726=i;
nctemp726=j*Model->Drhopx->d[0]+nctemp726;
float nctemp729 = nctemp724 * Model->Drhopx->a[nctemp726];
float nctemp730 = nctemp712 + nctemp729;
int nctemp732=i;
nctemp732=j*El2d->vy->d[0]+nctemp732;
float nctemp735 = nctemp730 + El2d->vy->a[nctemp732];
El2d->vy->a[nctemp658] =nctemp735;
int nctemp739=i;
nctemp739=j*El2d->thetayyy->d[0]+nctemp739;
int nctemp749=i;
nctemp749=j*Model->Eta1y->d[0]+nctemp749;
int nctemp753=i;
nctemp753=j*El2d->thetayyy->d[0]+nctemp753;
float nctemp756 = Model->Eta1y->a[nctemp749] * El2d->thetayyy->a[nctemp753];
int nctemp761=i;
nctemp761=j*Model->Eta2y->d[0]+nctemp761;
int nctemp765=i;
nctemp765=j*El2d->eyy->d[0]+nctemp765;
float nctemp768 = Model->Eta2y->a[nctemp761] * El2d->eyy->a[nctemp765];
float nctemp769 = nctemp756 + nctemp768;
El2d->thetayyy->a[nctemp739] =nctemp769;
int nctemp773=i;
nctemp773=j*El2d->thetaxyx->d[0]+nctemp773;
int nctemp783=i;
nctemp783=j*Model->Eta1x->d[0]+nctemp783;
int nctemp787=i;
nctemp787=j*El2d->thetaxyx->d[0]+nctemp787;
float nctemp790 = Model->Eta1x->a[nctemp783] * El2d->thetaxyx->a[nctemp787];
int nctemp795=i;
nctemp795=j*Model->Eta2x->d[0]+nctemp795;
int nctemp799=i;
nctemp799=j*El2d->eyx->d[0]+nctemp799;
float nctemp802 = Model->Eta2x->a[nctemp795] * El2d->eyx->a[nctemp799];
float nctemp803 = nctemp790 + nctemp802;
El2d->thetaxyx->a[nctemp773] =nctemp803;
}
}}}
int El2dexy (struct el2d* El2d,struct model* Model,nctempfloat2 *tmp1,nctempfloat2 *tmp2)
{
int nx;
int ny;
int i;
int j;
nx =Model->Nx;
ny =Model->Ny;

 #pragma omp parallel for
for(j=0;j<ny;j=j+1){for(i=0;i<nx;i=i+1){{
int nctemp819=i;
nctemp819=j*El2d->exy->d[0]+nctemp819;
int nctemp830=i;
nctemp830=j*tmp1->d[0]+nctemp830;
int nctemp834=i;
nctemp834=j*tmp2->d[0]+nctemp834;
float nctemp837 = tmp1->a[nctemp830] + tmp2->a[nctemp834];
float nctemp838 = 0.5 * nctemp837;
El2d->exy->a[nctemp819] =nctemp838;
}
}}}
int El2deyx (struct el2d* El2d,struct model* Model,nctempfloat2 *tmp1,nctempfloat2 *tmp2)
{
int nx;
int ny;
int i;
int j;
nx =Model->Nx;
ny =Model->Ny;

 #pragma omp parallel for
for(j=0;j<ny;j=j+1){for(i=0;i<nx;i=i+1){{
int nctemp854=i;
nctemp854=j*El2d->eyx->d[0]+nctemp854;
int nctemp865=i;
nctemp865=j*tmp1->d[0]+nctemp865;
int nctemp869=i;
nctemp869=j*tmp2->d[0]+nctemp869;
float nctemp872 = tmp1->a[nctemp865] + tmp2->a[nctemp869];
float nctemp873 = 0.5 * nctemp872;
El2d->eyx->a[nctemp854] =nctemp873;
}
}}}
int El2dstress (struct el2d* El2d,struct model* Model)
{
int nx;
int ny;
int i;
int j;
nx =Model->Nx;
ny =Model->Ny;

 #pragma omp parallel for
for(j=0;j<ny;j=j+1){for(i=0;i<nx;i=i+1){{
int nctemp889=i;
nctemp889=j*El2d->sigmaxx->d[0]+nctemp889;
int nctemp912=i;
nctemp912=j*Model->Lambda->d[0]+nctemp912;
float nctemp915 = Model->Dt * Model->Lambda->a[nctemp912];
int nctemp920=i;
nctemp920=j*El2d->exx->d[0]+nctemp920;
int nctemp924=i;
nctemp924=j*El2d->eyy->d[0]+nctemp924;
float nctemp927 = El2d->exx->a[nctemp920] + El2d->eyy->a[nctemp924];
float nctemp928 = nctemp915 * nctemp927;
float nctemp940 = 2.0 * Model->Dt;
int nctemp942=i;
nctemp942=j*Model->Mu->d[0]+nctemp942;
float nctemp945 = nctemp940 * Model->Mu->a[nctemp942];
int nctemp947=i;
nctemp947=j*El2d->exx->d[0]+nctemp947;
float nctemp950 = nctemp945 * El2d->exx->a[nctemp947];
float nctemp951 = nctemp928 + nctemp950;
int nctemp963=i;
nctemp963=j*El2d->gammaxx->d[0]+nctemp963;
int nctemp967=i;
nctemp967=j*Model->Dlambdax->d[0]+nctemp967;
float nctemp970 = El2d->gammaxx->a[nctemp963] * Model->Dlambdax->a[nctemp967];
int nctemp975=i;
nctemp975=j*El2d->gammayy->d[0]+nctemp975;
int nctemp979=i;
nctemp979=j*Model->Dlambday->d[0]+nctemp979;
float nctemp982 = El2d->gammayy->a[nctemp975] * Model->Dlambday->a[nctemp979];
float nctemp983 = nctemp970 + nctemp982;
float nctemp984 = Model->Dt * nctemp983;
float nctemp985 = nctemp951 + nctemp984;
float nctemp997 = 2.0 * Model->Dt;
int nctemp999=i;
nctemp999=j*El2d->gammaxx->d[0]+nctemp999;
float nctemp1002 = nctemp997 * El2d->gammaxx->a[nctemp999];
int nctemp1004=i;
nctemp1004=j*Model->Dmux->d[0]+nctemp1004;
float nctemp1007 = nctemp1002 * Model->Dmux->a[nctemp1004];
float nctemp1008 = nctemp985 + nctemp1007;
int nctemp1010=i;
nctemp1010=j*El2d->sigmaxx->d[0]+nctemp1010;
float nctemp1013 = nctemp1008 + El2d->sigmaxx->a[nctemp1010];
El2d->sigmaxx->a[nctemp889] =nctemp1013;
int nctemp1017=i;
nctemp1017=j*El2d->sigmayy->d[0]+nctemp1017;
int nctemp1040=i;
nctemp1040=j*Model->Lambda->d[0]+nctemp1040;
float nctemp1043 = Model->Dt * Model->Lambda->a[nctemp1040];
int nctemp1048=i;
nctemp1048=j*El2d->exx->d[0]+nctemp1048;
int nctemp1052=i;
nctemp1052=j*El2d->eyy->d[0]+nctemp1052;
float nctemp1055 = El2d->exx->a[nctemp1048] + El2d->eyy->a[nctemp1052];
float nctemp1056 = nctemp1043 * nctemp1055;
float nctemp1068 = 2.0 * Model->Dt;
int nctemp1070=i;
nctemp1070=j*Model->Mu->d[0]+nctemp1070;
float nctemp1073 = nctemp1068 * Model->Mu->a[nctemp1070];
int nctemp1075=i;
nctemp1075=j*El2d->eyy->d[0]+nctemp1075;
float nctemp1078 = nctemp1073 * El2d->eyy->a[nctemp1075];
float nctemp1079 = nctemp1056 + nctemp1078;
int nctemp1091=i;
nctemp1091=j*El2d->gammaxx->d[0]+nctemp1091;
int nctemp1095=i;
nctemp1095=j*Model->Dlambdax->d[0]+nctemp1095;
float nctemp1098 = El2d->gammaxx->a[nctemp1091] * Model->Dlambdax->a[nctemp1095];
int nctemp1103=i;
nctemp1103=j*El2d->gammayy->d[0]+nctemp1103;
int nctemp1107=i;
nctemp1107=j*Model->Dlambday->d[0]+nctemp1107;
float nctemp1110 = El2d->gammayy->a[nctemp1103] * Model->Dlambday->a[nctemp1107];
float nctemp1111 = nctemp1098 + nctemp1110;
float nctemp1112 = Model->Dt * nctemp1111;
float nctemp1113 = nctemp1079 + nctemp1112;
float nctemp1125 = 2.0 * Model->Dt;
int nctemp1127=i;
nctemp1127=j*El2d->gammayy->d[0]+nctemp1127;
float nctemp1130 = nctemp1125 * El2d->gammayy->a[nctemp1127];
int nctemp1132=i;
nctemp1132=j*Model->Dmuy->d[0]+nctemp1132;
float nctemp1135 = nctemp1130 * Model->Dmuy->a[nctemp1132];
float nctemp1136 = nctemp1113 + nctemp1135;
int nctemp1138=i;
nctemp1138=j*El2d->sigmayy->d[0]+nctemp1138;
float nctemp1141 = nctemp1136 + El2d->sigmayy->a[nctemp1138];
El2d->sigmayy->a[nctemp1017] =nctemp1141;
int nctemp1145=i;
nctemp1145=j*El2d->sigmaxy->d[0]+nctemp1145;
float nctemp1165 = 2.0 * Model->Dt;
int nctemp1167=i;
nctemp1167=j*Model->Muxy->d[0]+nctemp1167;
float nctemp1170 = nctemp1165 * Model->Muxy->a[nctemp1167];
int nctemp1172=i;
nctemp1172=j*El2d->exy->d[0]+nctemp1172;
float nctemp1175 = nctemp1170 * El2d->exy->a[nctemp1172];
float nctemp1187 = 2.0 * Model->Dt;
int nctemp1189=i;
nctemp1189=j*El2d->gammaxy->d[0]+nctemp1189;
float nctemp1192 = nctemp1187 * El2d->gammaxy->a[nctemp1189];
int nctemp1194=i;
nctemp1194=j*Model->Dmuxyy->d[0]+nctemp1194;
float nctemp1197 = nctemp1192 * Model->Dmuxyy->a[nctemp1194];
float nctemp1198 = nctemp1175 + nctemp1197;
int nctemp1200=i;
nctemp1200=j*El2d->sigmaxy->d[0]+nctemp1200;
float nctemp1203 = nctemp1198 + El2d->sigmaxy->a[nctemp1200];
El2d->sigmaxy->a[nctemp1145] =nctemp1203;
int nctemp1207=i;
nctemp1207=j*El2d->sigmayx->d[0]+nctemp1207;
float nctemp1227 = 2.0 * Model->Dt;
int nctemp1229=i;
nctemp1229=j*Model->Muxy->d[0]+nctemp1229;
float nctemp1232 = nctemp1227 * Model->Muxy->a[nctemp1229];
int nctemp1234=i;
nctemp1234=j*El2d->exy->d[0]+nctemp1234;
float nctemp1237 = nctemp1232 * El2d->exy->a[nctemp1234];
float nctemp1249 = 2.0 * Model->Dt;
int nctemp1251=i;
nctemp1251=j*El2d->gammayx->d[0]+nctemp1251;
float nctemp1254 = nctemp1249 * El2d->gammayx->a[nctemp1251];
int nctemp1256=i;
nctemp1256=j*Model->Dmuxyx->d[0]+nctemp1256;
float nctemp1259 = nctemp1254 * Model->Dmuxyx->a[nctemp1256];
float nctemp1260 = nctemp1237 + nctemp1259;
int nctemp1262=i;
nctemp1262=j*El2d->sigmayx->d[0]+nctemp1262;
float nctemp1265 = nctemp1260 + El2d->sigmayx->a[nctemp1262];
El2d->sigmayx->a[nctemp1207] =nctemp1265;
int nctemp1269=i;
nctemp1269=j*El2d->gammaxx->d[0]+nctemp1269;
int nctemp1279=i;
nctemp1279=j*Model->Alpha1x->d[0]+nctemp1279;
int nctemp1283=i;
nctemp1283=j*El2d->gammaxx->d[0]+nctemp1283;
float nctemp1286 = Model->Alpha1x->a[nctemp1279] * El2d->gammaxx->a[nctemp1283];
int nctemp1291=i;
nctemp1291=j*Model->Alpha2x->d[0]+nctemp1291;
int nctemp1295=i;
nctemp1295=j*El2d->exx->d[0]+nctemp1295;
float nctemp1298 = Model->Alpha2x->a[nctemp1291] * El2d->exx->a[nctemp1295];
float nctemp1299 = nctemp1286 + nctemp1298;
El2d->gammaxx->a[nctemp1269] =nctemp1299;
int nctemp1303=i;
nctemp1303=j*El2d->gammayy->d[0]+nctemp1303;
int nctemp1313=i;
nctemp1313=j*Model->Alpha1y->d[0]+nctemp1313;
int nctemp1317=i;
nctemp1317=j*El2d->gammayy->d[0]+nctemp1317;
float nctemp1320 = Model->Alpha1y->a[nctemp1313] * El2d->gammayy->a[nctemp1317];
int nctemp1325=i;
nctemp1325=j*Model->Alpha2y->d[0]+nctemp1325;
int nctemp1329=i;
nctemp1329=j*El2d->eyy->d[0]+nctemp1329;
float nctemp1332 = Model->Alpha2y->a[nctemp1325] * El2d->eyy->a[nctemp1329];
float nctemp1333 = nctemp1320 + nctemp1332;
El2d->gammayy->a[nctemp1303] =nctemp1333;
int nctemp1337=i;
nctemp1337=j*El2d->gammaxy->d[0]+nctemp1337;
int nctemp1347=i;
nctemp1347=j*Model->Beta1y->d[0]+nctemp1347;
int nctemp1351=i;
nctemp1351=j*El2d->gammaxy->d[0]+nctemp1351;
float nctemp1354 = Model->Beta1y->a[nctemp1347] * El2d->gammaxy->a[nctemp1351];
int nctemp1359=i;
nctemp1359=j*Model->Beta2y->d[0]+nctemp1359;
int nctemp1363=i;
nctemp1363=j*El2d->exy->d[0]+nctemp1363;
float nctemp1366 = Model->Beta2y->a[nctemp1359] * El2d->exy->a[nctemp1363];
float nctemp1367 = nctemp1354 + nctemp1366;
El2d->gammaxy->a[nctemp1337] =nctemp1367;
int nctemp1371=i;
nctemp1371=j*El2d->gammayx->d[0]+nctemp1371;
int nctemp1381=i;
nctemp1381=j*Model->Beta1x->d[0]+nctemp1381;
int nctemp1385=i;
nctemp1385=j*El2d->gammayx->d[0]+nctemp1385;
float nctemp1388 = Model->Beta1x->a[nctemp1381] * El2d->gammayx->a[nctemp1385];
int nctemp1393=i;
nctemp1393=j*Model->Beta2x->d[0]+nctemp1393;
int nctemp1397=i;
nctemp1397=j*El2d->eyx->d[0]+nctemp1397;
float nctemp1400 = Model->Beta2x->a[nctemp1393] * El2d->eyx->a[nctemp1397];
float nctemp1401 = nctemp1388 + nctemp1400;
El2d->gammayx->a[nctemp1371] =nctemp1401;
}
}}}
int El2dSnap (struct el2d* El2d,int it)
{
int n;
int Nx;
int Ny;
nctempchar1 *tmp;
int nctemp1402 = (El2d->sresamp <= 0);
if(nctemp1402)
{
return 1;
}
int nctemp1411=El2d->sigmaxx->d[0];Nx =nctemp1411;
int nctemp1419=El2d->sigmaxx->d[1];Ny =nctemp1419;
int nctemp1431 = Nx * Ny;
n =nctemp1431;
int nctemp1435= it;
int nctemp1437= El2d->sresamp;
int nctemp1439=LibeMod(nctemp1435,nctemp1437);
int nctemp1432 = (nctemp1439 ==0);
if(nctemp1432)
{
int nctemp1444=0;
int nctemp1441 = (El2d->snpflags->a[nctemp1444] ==1);
if(nctemp1441)
{
nctempchar1 nctemp1453;
nctempchar1 *nctemp1452;
nctemp1453=*(nctempchar1*)(El2d->sigmaxx);
int nctemp1460 = 4 * n;
nctemp1453.d[0]=nctemp1460;
nctemp1452=&nctemp1453;
tmp=nctemp1452;
int nctemp1462= El2d->fdsxx;
int nctemp1469 = 4 * n;
int nctemp1464= nctemp1469;
nctempchar1* nctemp1470= tmp;
int nctemp1473=LibeWrite(nctemp1462,nctemp1464,nctemp1470);
}
int nctemp1477=1;
int nctemp1474 = (El2d->snpflags->a[nctemp1477] ==1);
if(nctemp1474)
{
nctempchar1 nctemp1486;
nctempchar1 *nctemp1485;
nctemp1486=*(nctempchar1*)(El2d->sigmayy);
int nctemp1493 = 4 * n;
nctemp1486.d[0]=nctemp1493;
nctemp1485=&nctemp1486;
tmp=nctemp1485;
int nctemp1495= El2d->fdsyy;
int nctemp1502 = 4 * n;
int nctemp1497= nctemp1502;
nctempchar1* nctemp1503= tmp;
int nctemp1506=LibeWrite(nctemp1495,nctemp1497,nctemp1503);
}
int nctemp1510=2;
int nctemp1507 = (El2d->snpflags->a[nctemp1510] ==1);
if(nctemp1507)
{
nctempchar1 nctemp1519;
nctempchar1 *nctemp1518;
nctemp1519=*(nctempchar1*)(El2d->vx);
int nctemp1526 = 4 * n;
nctemp1519.d[0]=nctemp1526;
nctemp1518=&nctemp1519;
tmp=nctemp1518;
int nctemp1528= El2d->fdvx;
int nctemp1535 = 4 * n;
int nctemp1530= nctemp1535;
nctempchar1* nctemp1536= tmp;
int nctemp1539=LibeWrite(nctemp1528,nctemp1530,nctemp1536);
}
int nctemp1543=3;
int nctemp1540 = (El2d->snpflags->a[nctemp1543] ==1);
if(nctemp1540)
{
nctempchar1 nctemp1552;
nctempchar1 *nctemp1551;
nctemp1552=*(nctempchar1*)(El2d->vy);
int nctemp1559 = 4 * n;
nctemp1552.d[0]=nctemp1559;
nctemp1551=&nctemp1552;
tmp=nctemp1551;
int nctemp1561= El2d->fdvy;
int nctemp1568 = 4 * n;
int nctemp1563= nctemp1568;
nctempchar1* nctemp1569= tmp;
int nctemp1572=LibeWrite(nctemp1561,nctemp1563,nctemp1569);
}
}
return 1;
}
int El2dSolve (struct el2d* El2d,struct model* Model,struct src* Src,struct rec* Rec,int nt,int l)
{
int sx;
int sy;
struct diff* Diff;
int ns;
int ne;
nctempfloat2 *tmp1;
nctempfloat2 *tmp2;
int i;
int k;
float perc;
float oldperc;
int iperc;
int nctemp1578= l;
struct diff* nctemp1580=DiffNew(nctemp1578);
Diff =nctemp1580;
int nctemp1587=Model->Nx;
nctemp1587=nctemp1587*Model->Ny;
nctempfloat2 *nctemp1586;
nctemp1586=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp1586->d[0]=Model->Nx;
nctemp1586->d[1]=Model->Ny;
nctemp1586->a=(float *)RunMalloc(sizeof(float)*nctemp1587);
tmp1=nctemp1586;
int nctemp1598=Model->Nx;
nctemp1598=nctemp1598*Model->Ny;
nctempfloat2 *nctemp1597;
nctemp1597=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp1597->d[0]=Model->Nx;
nctemp1597->d[1]=Model->Ny;
nctemp1597->a=(float *)RunMalloc(sizeof(float)*nctemp1598);
tmp2=nctemp1597;
oldperc =0.0;
ns =El2d->ts;
int nctemp1619 = ns + nt;
ne =nctemp1619;
i =ns;
int nctemp1624 = (i < ne);
while(nctemp1624){
{
struct diff* nctemp1629= Diff;
nctempfloat2* nctemp1631= El2d->sigmaxx;
nctempfloat2* nctemp1634= El2d->exx;
float nctemp1637= Model->Dx;
int nctemp1639=DiffDxplus(nctemp1629,nctemp1631,nctemp1634,nctemp1637);
struct diff* nctemp1641= Diff;
nctempfloat2* nctemp1643= El2d->sigmaxy;
nctempfloat2* nctemp1646= El2d->exy;
float nctemp1649= Model->Dx;
int nctemp1651=DiffDyminus(nctemp1641,nctemp1643,nctemp1646,nctemp1649);
struct el2d* nctemp1653= El2d;
struct model* nctemp1655= Model;
int nctemp1657=El2dvx(nctemp1653,nctemp1655);
struct diff* nctemp1659= Diff;
nctempfloat2* nctemp1661= El2d->sigmayy;
nctempfloat2* nctemp1664= El2d->eyy;
float nctemp1667= Model->Dx;
int nctemp1669=DiffDyplus(nctemp1659,nctemp1661,nctemp1664,nctemp1667);
struct diff* nctemp1671= Diff;
nctempfloat2* nctemp1673= El2d->sigmaxy;
nctempfloat2* nctemp1676= El2d->eyx;
float nctemp1679= Model->Dx;
int nctemp1681=DiffDxminus(nctemp1671,nctemp1673,nctemp1676,nctemp1679);
struct el2d* nctemp1683= El2d;
struct model* nctemp1685= Model;
int nctemp1687=El2dvy(nctemp1683,nctemp1685);
struct diff* nctemp1689= Diff;
nctempfloat2* nctemp1691= El2d->vx;
nctempfloat2* nctemp1694= El2d->exx;
float nctemp1697= Model->Dx;
int nctemp1699=DiffDxminus(nctemp1689,nctemp1691,nctemp1694,nctemp1697);
struct diff* nctemp1701= Diff;
nctempfloat2* nctemp1703= El2d->vy;
nctempfloat2* nctemp1706= El2d->eyy;
float nctemp1709= Model->Dx;
int nctemp1711=DiffDyminus(nctemp1701,nctemp1703,nctemp1706,nctemp1709);
struct diff* nctemp1713= Diff;
nctempfloat2* nctemp1715= El2d->vy;
nctempfloat2* nctemp1718= tmp1;
float nctemp1721= Model->Dx;
int nctemp1723=DiffDxplus(nctemp1713,nctemp1715,nctemp1718,nctemp1721);
struct diff* nctemp1725= Diff;
nctempfloat2* nctemp1727= El2d->vx;
nctempfloat2* nctemp1730= tmp2;
float nctemp1733= Model->Dx;
int nctemp1735=DiffDyplus(nctemp1725,nctemp1727,nctemp1730,nctemp1733);
struct el2d* nctemp1737= El2d;
struct model* nctemp1739= Model;
nctempfloat2* nctemp1741= tmp1;
nctempfloat2* nctemp1744= tmp2;
int nctemp1747=El2dexy(nctemp1737,nctemp1739,nctemp1741,nctemp1744);
struct el2d* nctemp1749= El2d;
struct model* nctemp1751= Model;
nctempfloat2* nctemp1753= tmp1;
nctempfloat2* nctemp1756= tmp2;
int nctemp1759=El2deyx(nctemp1749,nctemp1751,nctemp1753,nctemp1756);
struct el2d* nctemp1761= El2d;
struct model* nctemp1763= Model;
int nctemp1765=El2dstress(nctemp1761,nctemp1763);
k =0;
int nctemp1770 = (k < Src->Ns);
while(nctemp1770){
{
int nctemp1778=k;
sx =Src->Sx->a[nctemp1778];
int nctemp1784=k;
sy =Src->Sy->a[nctemp1784];
int nctemp1789=sx;
nctemp1789=sy*El2d->sigmaxx->d[0]+nctemp1789;
int nctemp1796=sx;
nctemp1796=sy*El2d->sigmaxx->d[0]+nctemp1796;
int nctemp1807=i;
nctemp1807=k*Src->Sqxx->d[0]+nctemp1807;
float nctemp1815 = Model->Dx * Model->Dx;
float nctemp1816 = Src->Sqxx->a[nctemp1807] / nctemp1815;
float nctemp1817 = Model->Dt * nctemp1816;
float nctemp1818 = El2d->sigmaxx->a[nctemp1796] + nctemp1817;
El2d->sigmaxx->a[nctemp1789] =nctemp1818;
int nctemp1822=sx;
nctemp1822=sy*El2d->sigmayy->d[0]+nctemp1822;
int nctemp1829=sx;
nctemp1829=sy*El2d->sigmayy->d[0]+nctemp1829;
int nctemp1840=i;
nctemp1840=k*Src->Sqyy->d[0]+nctemp1840;
float nctemp1848 = Model->Dx * Model->Dx;
float nctemp1849 = Src->Sqyy->a[nctemp1840] / nctemp1848;
float nctemp1850 = Model->Dt * nctemp1849;
float nctemp1851 = El2d->sigmayy->a[nctemp1829] + nctemp1850;
El2d->sigmayy->a[nctemp1822] =nctemp1851;
int nctemp1855=sx;
nctemp1855=sy*El2d->vx->d[0]+nctemp1855;
int nctemp1862=sx;
nctemp1862=sy*El2d->vx->d[0]+nctemp1862;
int nctemp1873=i;
nctemp1873=k*Src->Sfx->d[0]+nctemp1873;
float nctemp1881 = Model->Dx * Model->Dx;
float nctemp1882 = Src->Sfx->a[nctemp1873] / nctemp1881;
float nctemp1883 = Model->Dt * nctemp1882;
float nctemp1884 = El2d->vx->a[nctemp1862] + nctemp1883;
El2d->vx->a[nctemp1855] =nctemp1884;
int nctemp1888=sx;
nctemp1888=sy*El2d->vy->d[0]+nctemp1888;
int nctemp1895=sx;
nctemp1895=sy*El2d->vy->d[0]+nctemp1895;
int nctemp1906=i;
nctemp1906=k*Src->Sfy->d[0]+nctemp1906;
float nctemp1914 = Model->Dx * Model->Dx;
float nctemp1915 = Src->Sfy->a[nctemp1906] / nctemp1914;
float nctemp1916 = Model->Dt * nctemp1915;
float nctemp1917 = El2d->vy->a[nctemp1895] + nctemp1916;
El2d->vy->a[nctemp1888] =nctemp1917;
}
int nctemp1926 = k + 1;
k =nctemp1926;
int nctemp1927 = (k < Src->Ns);
nctemp1770=nctemp1927;
}
float nctemp1942=(float)(i);
int nctemp1955 = ne - ns;
int nctemp1957 = nctemp1955 - 1;
float nctemp1946=(float)(nctemp1957);
float nctemp1958 = nctemp1942 / nctemp1946;
float nctemp1959 = 1000.0 * nctemp1958;
perc =nctemp1959;
float nctemp1967 = perc - oldperc;
int nctemp1960 = (nctemp1967 >= 10.0);
if(nctemp1960)
{
int nctemp1976=(int)(perc);
int nctemp1980 = nctemp1976 / 10;
iperc =nctemp1980;
int nctemp1984= iperc;
int nctemp1986= 10;
int nctemp1988=LibeMod(nctemp1984,nctemp1986);
int nctemp1981 = (nctemp1988 ==0);
if(nctemp1981)
{
int nctemp1991= 4;
int nctemp1993= iperc;
int nctemp1995=LibePuti(nctemp1991,nctemp1993);
int nctemp1997= 4;
struct nctempchar1 *nctemp2001;
static struct nctempchar1 nctemp2002 = {{ 3}, (char*)"\n\0"};
nctemp2001=&nctemp2002;
nctempchar1* nctemp1999= nctemp2001;
int nctemp2003=LibePuts(nctemp1997,nctemp1999);
int nctemp2005= 4;
int nctemp2007=LibeFlush(nctemp2005);
}
oldperc =perc;
}
struct rec* nctemp2013= Rec;
int nctemp2015= i;
nctempfloat2* nctemp2017= El2d->sigmaxx;
nctempfloat2* nctemp2020= El2d->sigmayy;
nctempfloat2* nctemp2023= El2d->vx;
nctempfloat2* nctemp2026= El2d->vy;
int nctemp2029=RecReceiver(nctemp2013,nctemp2015,nctemp2017,nctemp2020,nctemp2023,nctemp2026);
struct el2d* nctemp2031= El2d;
int nctemp2033= i;
int nctemp2035=El2dSnap(nctemp2031,nctemp2033);
}
int nctemp2044 = i + 1;
i =nctemp2044;
int nctemp2045 = (i < ne);
nctemp1624=nctemp2045;
}
return 1;
}
