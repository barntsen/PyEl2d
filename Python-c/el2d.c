//  Translated by epsc  version today  
#include <stddef.h>
typedef struct { float r; float i;} complex; 
typedef struct nctempfloat1 { int d[1]; float *a;} nctempfloat1; 
typedef struct nctempint1 { int d[1]; int *a;} nctempint1; 
typedef struct nctempchar1 { int d[1]; char *a;} nctempchar1; 
typedef struct nctempcomplex1 { int d[1]; complex *a;} nctempcomplex1; 
typedef struct nctempfloat2 { int d[2]; float *a;} nctempfloat2; 
typedef struct nctempint2 { int d[2]; int *a;} nctempint2; 
typedef struct nctempchar2 { int d[2]; char *a;} nctempchar2; 
typedef struct nctempcomplex2 { int d[2]; complex *a;} nctempcomplex2; 
typedef struct nctempfloat3 { int d[3]; float *a;} nctempfloat3; 
typedef struct nctempint3 { int d[3]; int *a;} nctempint3; 
typedef struct nctempchar3 { int d[3]; char *a;} nctempchar3; 
typedef struct nctempcomplex3 { int d[3]; complex *a;} nctempcomplex3; 
typedef struct nctempfloat4 { int d[4]; float *a;} nctempfloat4; 
typedef struct nctempint4 { int d[4]; int *a;} nctempint4; 
typedef struct nctempchar4 { int d[4]; char *a;} nctempchar4; 
typedef struct nctempcomplex4 { int d[4]; complex *a;} nctempcomplex4; 
#include <stdlib.h>
#include <string.h>
void *RunMalloc(int n); 
int RunFree(void *n); 
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
struct MainArg {nctempchar1 *arg;
};
typedef struct nctempMainArg1 {int d[1]; struct MainArg *a; } nctempMainArg1;
struct nctempMainArg2 {int d[2]; struct MainArg *a; } ;
struct nctempMainArg3 {int d[3]; struct MainArg *a; } ;
struct nctempMainArg4 {int d[4]; struct MainArg *a; } ;
int LibeErrno;
nctempchar1 *LibeErrstr;
int LibeErrinit ();
int LibeGeterrno ();
int LibeClearerr ();
nctempchar1 * LibeGeterrstr ();
nctempchar1 * LibeGetenv (nctempchar1 *name);
;
;
;
;
;
float LibeMach (int flag);
float LibeFabs (float x);
float LibeFscale2 (float x,int n);
float LibeGetfman2 (float x);
int LibeGetfexp2 (float x);
float LibeFscale (float x,int n);
int LibeGetfman (float f,int maxdig);
float LibeGetffman (float f);
int LibeGetmaxdig (float f);
int LibeGetfexp (float f);
float LibeClock ();
;
;
;
;
;
;
;
float LibeSincosmax;
float LibeSincoslim;
float LibeLnmax;
float LibeLnmin;
int LibeMod (int n,int r);
float LibeSqrt (float x);
float LibeLn (float x);
float LibeExp (float x);
float LibeSincos (float x,float y,float sign);
float LibeSin (float x);
float LibeCos (float x);
float LibeTan (float x);
float LibeArcsin (float x);
float LibeArccos (float x);
float LibeAtan (float f);
float LibeArctan (float x);
float LibePow (float base,float exponent);
int LibeMathinit ();
int LibeStrlen (nctempchar1 *s);
int LibeStrcmp (nctempchar1 *s,nctempchar1 *t);
int LibeStrev (nctempchar1 *s);
int LibeStrcpy (nctempchar1 *s,nctempchar1 *t);
int LibeStrcat (nctempchar1 *s,nctempchar1 *t);
nctempchar1 * LibeStradd (nctempchar1 *t,nctempchar1 *s);
nctempchar1 * LibeStrsave (nctempchar1 *s);
int LibeIsalhpa (int c);
int LibeIsdigit (int c);
int LibeIsalnum (int c);
int LibeAtoi (nctempchar1 *s);
int LibeItoa (int n,nctempchar1 *s);
int LibeItoh (int n,nctempchar1 *s);
float LibeAtof (nctempchar1 *s);
int LibeFtoaf (int mant,int nexp,int nfield,int nfrac,nctempchar1 *s);
int LibeFtoae (int mant,int nexp,int nfield,int nfrac,nctempchar1 *s);
int LibeFtoa (float f,nctempchar1 *fmt,nctempchar1 *s);
struct LibeFdescr {int cnt;
int ptr;
int bufsize;
nctempchar1 *base;
int readflg;
int writflg;
int unbflg;
int errflg;
int eoflg;
int fd;
};
typedef struct nctempLibeFdescr1 {int d[1]; struct LibeFdescr *a; } nctempLibeFdescr1;
struct nctempLibeFdescr2 {int d[2]; struct LibeFdescr *a; } ;
struct nctempLibeFdescr3 {int d[3]; struct LibeFdescr *a; } ;
struct nctempLibeFdescr4 {int d[4]; struct LibeFdescr *a; } ;
;
struct nctempLibeFdescr1 *LibeFarr;
;
nctempchar1 *LibeTmpstr;
int LibeIoinit ();
int LibeFlushbuff (int fp);
int LibeFillbuff (int fp);
int LibeFlush (int fp);
int LibeOpen (nctempchar1 *name,nctempchar1 *mode);
int LibeClose (int fp);
int LibeGetc (int fp);
int LibeUngetc (int fp);
int LibeGetw (int fp,nctempchar1 *text);
int LibePutc (int fp,int c);
int LibePuts (int fp,nctempchar1 *s);
int LibePuti (int fp,int ival);
int LibePutf (int fp,float fval,nctempchar1 *form);
int LibePs (nctempchar1 *s);
int LibePi (int n);
int LibePf (float r);
int LibeRead (int fp,int n,nctempchar1 *buffer);
int LibeWrite (int fp,int n,nctempchar1 *buffer);
int LibeSeek (int fp,int pos,int flag);
int LibeIodelete ();
int NBLOCKS;
int NTHREADS;
int LibeSetnb (int nb);
int LibeSetnt (int nt);
int LibeGetnb ();
int LibeGetnt ();
int LibeArrayex (int line,nctempchar1 *name,int ival,int index,int bound);
int LibeSystem (nctempchar1 *cmd);
int LibeInit ();
int LibeExit ();
struct diff {int l;
int lmax;
nctempfloat2 *coeffs;
nctempfloat1 *w;
};
typedef struct nctempdiff1 {int d[1]; struct diff *a; } nctempdiff1;
struct nctempdiff2 {int d[2]; struct diff *a; } ;
struct nctempdiff3 {int d[3]; struct diff *a; } ;
struct nctempdiff4 {int d[4]; struct diff *a; } ;
struct diff* DiffNew (int l);
int DiffDxminus (struct diff* Diff,nctempfloat2 *A,nctempfloat2 *dA,float dx);
int DiffDxplus (struct diff* Diff,nctempfloat2 *A,nctempfloat2 *dA,float dx);
int DiffDyminus (struct diff* Diff,nctempfloat2 *A,nctempfloat2 *dA,float dx);
int DiffDyplus (struct diff* Diff,nctempfloat2 *A,nctempfloat2 *dA,float dx);
struct rec {int nr;
nctempint1 *rx;
nctempint1 *ry;
int fd;
int nt;
nctempfloat2 *p;
nctempfloat2 *sxx;
nctempfloat2 *syy;
nctempfloat2 *vx;
nctempfloat2 *vy;
nctempfloat2 *wrk;
int resamp;
int pit;
};
typedef struct nctemprec1 {int d[1]; struct rec *a; } nctemprec1;
struct nctemprec2 {int d[2]; struct rec *a; } ;
struct nctemprec3 {int d[3]; struct rec *a; } ;
struct nctemprec4 {int d[4]; struct rec *a; } ;
struct rec* RecNew (nctempint1 *rx,nctempint1 *ry,int nt,int resamp);
int RecReceiver (struct rec* Rec,int it,nctempfloat2 *p,nctempfloat2 *vx,nctempfloat2 *vy);
nctempfloat2 * RecGetrec (struct rec* Rec,int data);
struct src {nctempint1 *Sx;
nctempint1 *Sy;
nctempfloat2 *Sqyy;
nctempfloat2 *Sqxx;
nctempfloat2 *Sfx;
nctempfloat2 *Sfy;
int Ns;
};
typedef struct nctempsrc1 {int d[1]; struct src *a; } nctempsrc1;
struct nctempsrc2 {int d[2]; struct src *a; } ;
struct nctempsrc3 {int d[3]; struct src *a; } ;
struct nctempsrc4 {int d[4]; struct src *a; } ;
struct src* SrcNew (nctempint1 *sx,nctempint1 *sy,nctempfloat2 *sqxx,nctempfloat2 *sqyy,nctempfloat2 *sfx,nctempfloat2 *sfy);
int SrcDel (struct src* Src);
int Srcricker (nctempfloat1 *source,float t0,float f0,int nt,float dt);
struct model {int Nx;
int Ny;
int Nb;
float W0;
nctempfloat2 *Qlx;
nctempfloat2 *Qly;
nctempfloat2 *Qmx;
nctempfloat2 *Qmy;
nctempfloat2 *Qpx;
nctempfloat2 *Qpy;
nctempfloat2 *Lambda;
nctempfloat2 *Mu;
nctempfloat2 *Muxy;
nctempfloat2 *Dmuxyx;
nctempfloat2 *Dmuxyy;
nctempfloat2 *Dlambdax;
nctempfloat2 *Dlambday;
nctempfloat2 *Dmux;
nctempfloat2 *Dmuy;
nctempfloat2 *Drhopx;
nctempfloat2 *Drhopy;
nctempfloat2 *Rho;
nctempfloat2 *Rhox;
nctempfloat2 *Rhoy;
nctempfloat2 *Alpha1x;
nctempfloat2 *Alpha1y;
nctempfloat2 *Alpha2x;
nctempfloat2 *Alpha2y;
nctempfloat2 *Beta1x;
nctempfloat2 *Beta2x;
nctempfloat2 *Beta1y;
nctempfloat2 *Beta2y;
nctempfloat2 *Eta1x;
nctempfloat2 *Eta1y;
nctempfloat2 *Eta2x;
nctempfloat2 *Eta2y;
nctempfloat1 *dx;
nctempfloat1 *dy;
nctempfloat1 *dx1;
nctempfloat1 *dy1;
nctempfloat1 *dx2;
nctempfloat1 *dy2;
float Dx;
float Dt;
int Freesurface;
};
typedef struct nctempmodel1 {int d[1]; struct model *a; } nctempmodel1;
struct nctempmodel2 {int d[2]; struct model *a; } ;
struct nctempmodel3 {int d[3]; struct model *a; } ;
struct nctempmodel4 {int d[4]; struct model *a; } ;
;
;
;
;
int Modeld (nctempfloat1 *d,float dx,int nb);
int Modele (nctempfloat1 *d,float dx,int nb);
nctempfloat2 * Modelcopy (nctempfloat2 *a);
int Modelstaggerx (nctempfloat2 *a,nctempfloat2 *astagg);
int Modelstaggery (nctempfloat2 *a,nctempfloat2 *astagg);
int Modelslscoeffs (nctempfloat2 *Qx,nctempfloat2 *Qy,nctempfloat2 *modx,nctempfloat2 *mody,nctempfloat2 *coeff1x,nctempfloat2 *coeff1y,nctempfloat2 *coeff2x,nctempfloat2 *coeff2y,struct model* Model);
struct model* Modelsls (nctempfloat2 *vp,nctempfloat2 *vs,nctempfloat2 *rho,nctempfloat2 *Qlx,nctempfloat2 *Qly,nctempfloat2 *Qmx,nctempfloat2 *Qmy,nctempfloat2 *Qpx,nctempfloat2 *Qpy,float Dx,float Dt,float W0,int Nb,int Freesurface);
struct model* ModelNew (nctempfloat2 *vp,nctempfloat2 *vs,nctempfloat2 *rho,nctempfloat2 *Qlx,nctempfloat2 *Qly,nctempfloat2 *Qmx,nctempfloat2 *Qmy,nctempfloat2 *Qpx,nctempfloat2 *Qpy,float Dx,float Dt,float W0,int Nb,int Rheol,int Freesurface);
float ModelStability (struct model* Model);
struct el2d {nctempfloat2 *p;
nctempfloat2 *sigmaxx;
nctempfloat2 *sigmayy;
nctempfloat2 *sigmaxy;
nctempfloat2 *sigmayx;
nctempfloat2 *vx;
nctempfloat2 *vy;
nctempfloat2 *exx;
nctempfloat2 *eyy;
nctempfloat2 *exy;
nctempfloat2 *eyx;
nctempfloat2 *e;
nctempfloat2 *gammaxx;
nctempfloat2 *gammayy;
nctempfloat2 *gammaxy;
nctempfloat2 *gammayx;
nctempfloat2 *thetaxxx;
nctempfloat2 *thetayyy;
nctempfloat2 *thetaxyx;
nctempfloat2 *thetayxy;
int ts;
int fdp;
int fdvx;
int fdvy;
int fde;
int fdexy;
int sresamp;
nctempint1 *snpflags;
};
typedef struct nctempel2d1 {int d[1]; struct el2d *a; } nctempel2d1;
struct nctempel2d2 {int d[2]; struct el2d *a; } ;
struct nctempel2d3 {int d[3]; struct el2d *a; } ;
struct nctempel2d4 {int d[4]; struct el2d *a; } ;
struct el2d* El2dNew (struct model* Model,int sresamp,nctempint1 *snpflags)
{
struct el2d* El2d;
int i;
int j;
struct el2d *nctemp5=(struct el2d*)RunMalloc(sizeof(struct el2d));
El2d =nctemp5;
El2d->sresamp =sresamp;
El2d->snpflags=snpflags;
int nctemp23=Model->Nx;
nctemp23=nctemp23*Model->Ny;
nctempfloat2 *nctemp22;
nctemp22=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp22->d[0]=Model->Nx;
nctemp22->d[1]=Model->Ny;
nctemp22->a=(float *)RunMalloc(sizeof(float)*nctemp23);
El2d->p=nctemp22;
int nctemp34=Model->Nx;
nctemp34=nctemp34*Model->Ny;
nctempfloat2 *nctemp33;
nctemp33=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp33->d[0]=Model->Nx;
nctemp33->d[1]=Model->Ny;
nctemp33->a=(float *)RunMalloc(sizeof(float)*nctemp34);
El2d->sigmaxx=nctemp33;
int nctemp45=Model->Nx;
nctemp45=nctemp45*Model->Ny;
nctempfloat2 *nctemp44;
nctemp44=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp44->d[0]=Model->Nx;
nctemp44->d[1]=Model->Ny;
nctemp44->a=(float *)RunMalloc(sizeof(float)*nctemp45);
El2d->sigmayy=nctemp44;
int nctemp56=Model->Nx;
nctemp56=nctemp56*Model->Ny;
nctempfloat2 *nctemp55;
nctemp55=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp55->d[0]=Model->Nx;
nctemp55->d[1]=Model->Ny;
nctemp55->a=(float *)RunMalloc(sizeof(float)*nctemp56);
El2d->p=nctemp55;
int nctemp67=Model->Nx;
nctemp67=nctemp67*Model->Ny;
nctempfloat2 *nctemp66;
nctemp66=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp66->d[0]=Model->Nx;
nctemp66->d[1]=Model->Ny;
nctemp66->a=(float *)RunMalloc(sizeof(float)*nctemp67);
El2d->sigmaxy=nctemp66;
int nctemp78=Model->Nx;
nctemp78=nctemp78*Model->Ny;
nctempfloat2 *nctemp77;
nctemp77=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp77->d[0]=Model->Nx;
nctemp77->d[1]=Model->Ny;
nctemp77->a=(float *)RunMalloc(sizeof(float)*nctemp78);
El2d->sigmayx=nctemp77;
int nctemp89=Model->Nx;
nctemp89=nctemp89*Model->Ny;
nctempfloat2 *nctemp88;
nctemp88=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp88->d[0]=Model->Nx;
nctemp88->d[1]=Model->Ny;
nctemp88->a=(float *)RunMalloc(sizeof(float)*nctemp89);
El2d->vx=nctemp88;
int nctemp100=Model->Nx;
nctemp100=nctemp100*Model->Ny;
nctempfloat2 *nctemp99;
nctemp99=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp99->d[0]=Model->Nx;
nctemp99->d[1]=Model->Ny;
nctemp99->a=(float *)RunMalloc(sizeof(float)*nctemp100);
El2d->vy=nctemp99;
int nctemp111=Model->Nx;
nctemp111=nctemp111*Model->Ny;
nctempfloat2 *nctemp110;
nctemp110=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp110->d[0]=Model->Nx;
nctemp110->d[1]=Model->Ny;
nctemp110->a=(float *)RunMalloc(sizeof(float)*nctemp111);
El2d->exx=nctemp110;
int nctemp122=Model->Nx;
nctemp122=nctemp122*Model->Ny;
nctempfloat2 *nctemp121;
nctemp121=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp121->d[0]=Model->Nx;
nctemp121->d[1]=Model->Ny;
nctemp121->a=(float *)RunMalloc(sizeof(float)*nctemp122);
El2d->eyy=nctemp121;
int nctemp133=Model->Nx;
nctemp133=nctemp133*Model->Ny;
nctempfloat2 *nctemp132;
nctemp132=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp132->d[0]=Model->Nx;
nctemp132->d[1]=Model->Ny;
nctemp132->a=(float *)RunMalloc(sizeof(float)*nctemp133);
El2d->exy=nctemp132;
int nctemp144=Model->Nx;
nctemp144=nctemp144*Model->Ny;
nctempfloat2 *nctemp143;
nctemp143=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp143->d[0]=Model->Nx;
nctemp143->d[1]=Model->Ny;
nctemp143->a=(float *)RunMalloc(sizeof(float)*nctemp144);
El2d->eyx=nctemp143;
int nctemp155=Model->Nx;
nctemp155=nctemp155*Model->Ny;
nctempfloat2 *nctemp154;
nctemp154=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp154->d[0]=Model->Nx;
nctemp154->d[1]=Model->Ny;
nctemp154->a=(float *)RunMalloc(sizeof(float)*nctemp155);
El2d->e=nctemp154;
int nctemp166=Model->Nx;
nctemp166=nctemp166*Model->Ny;
nctempfloat2 *nctemp165;
nctemp165=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp165->d[0]=Model->Nx;
nctemp165->d[1]=Model->Ny;
nctemp165->a=(float *)RunMalloc(sizeof(float)*nctemp166);
El2d->gammaxx=nctemp165;
int nctemp177=Model->Nx;
nctemp177=nctemp177*Model->Ny;
nctempfloat2 *nctemp176;
nctemp176=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp176->d[0]=Model->Nx;
nctemp176->d[1]=Model->Ny;
nctemp176->a=(float *)RunMalloc(sizeof(float)*nctemp177);
El2d->gammayy=nctemp176;
int nctemp188=Model->Nx;
nctemp188=nctemp188*Model->Ny;
nctempfloat2 *nctemp187;
nctemp187=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp187->d[0]=Model->Nx;
nctemp187->d[1]=Model->Ny;
nctemp187->a=(float *)RunMalloc(sizeof(float)*nctemp188);
El2d->gammaxy=nctemp187;
int nctemp199=Model->Nx;
nctemp199=nctemp199*Model->Ny;
nctempfloat2 *nctemp198;
nctemp198=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp198->d[0]=Model->Nx;
nctemp198->d[1]=Model->Ny;
nctemp198->a=(float *)RunMalloc(sizeof(float)*nctemp199);
El2d->gammayx=nctemp198;
int nctemp210=Model->Nx;
nctemp210=nctemp210*Model->Ny;
nctempfloat2 *nctemp209;
nctemp209=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp209->d[0]=Model->Nx;
nctemp209->d[1]=Model->Ny;
nctemp209->a=(float *)RunMalloc(sizeof(float)*nctemp210);
El2d->thetaxxx=nctemp209;
int nctemp221=Model->Nx;
nctemp221=nctemp221*Model->Ny;
nctempfloat2 *nctemp220;
nctemp220=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp220->d[0]=Model->Nx;
nctemp220->d[1]=Model->Ny;
nctemp220->a=(float *)RunMalloc(sizeof(float)*nctemp221);
El2d->thetayyy=nctemp220;
int nctemp232=Model->Nx;
nctemp232=nctemp232*Model->Ny;
nctempfloat2 *nctemp231;
nctemp231=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp231->d[0]=Model->Nx;
nctemp231->d[1]=Model->Ny;
nctemp231->a=(float *)RunMalloc(sizeof(float)*nctemp232);
El2d->thetayxy=nctemp231;
int nctemp243=Model->Nx;
nctemp243=nctemp243*Model->Ny;
nctempfloat2 *nctemp242;
nctemp242=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp242->d[0]=Model->Nx;
nctemp242->d[1]=Model->Ny;
nctemp242->a=(float *)RunMalloc(sizeof(float)*nctemp243);
El2d->thetaxyx=nctemp242;
i =0;
int nctemp252 = (i < Model->Nx);
while(nctemp252){
{
j =0;
int nctemp260 = (j < Model->Ny);
while(nctemp260){
{
int nctemp267=i;
nctemp267=j*El2d->p->d[0]+nctemp267;
El2d->p->a[nctemp267] =0.0;
int nctemp274=i;
nctemp274=j*El2d->sigmaxx->d[0]+nctemp274;
El2d->sigmaxx->a[nctemp274] =0.0;
int nctemp281=i;
nctemp281=j*El2d->sigmayy->d[0]+nctemp281;
El2d->sigmayy->a[nctemp281] =0.0;
int nctemp288=i;
nctemp288=j*El2d->sigmaxy->d[0]+nctemp288;
El2d->sigmaxy->a[nctemp288] =0.0;
int nctemp295=i;
nctemp295=j*El2d->sigmayx->d[0]+nctemp295;
El2d->sigmayx->a[nctemp295] =0.0;
int nctemp302=i;
nctemp302=j*El2d->vx->d[0]+nctemp302;
El2d->vx->a[nctemp302] =0.0;
int nctemp309=i;
nctemp309=j*El2d->vy->d[0]+nctemp309;
El2d->vy->a[nctemp309] =0.0;
int nctemp316=i;
nctemp316=j*El2d->exx->d[0]+nctemp316;
El2d->exx->a[nctemp316] =0.0;
int nctemp323=i;
nctemp323=j*El2d->eyy->d[0]+nctemp323;
El2d->eyy->a[nctemp323] =0.0;
int nctemp330=i;
nctemp330=j*El2d->exy->d[0]+nctemp330;
El2d->exy->a[nctemp330] =0.0;
int nctemp337=i;
nctemp337=j*El2d->eyx->d[0]+nctemp337;
El2d->eyx->a[nctemp337] =0.0;
int nctemp344=i;
nctemp344=j*El2d->e->d[0]+nctemp344;
El2d->e->a[nctemp344] =0.0;
int nctemp351=i;
nctemp351=j*El2d->gammaxx->d[0]+nctemp351;
El2d->gammaxx->a[nctemp351] =0.0;
int nctemp358=i;
nctemp358=j*El2d->gammayy->d[0]+nctemp358;
El2d->gammayy->a[nctemp358] =0.0;
int nctemp365=i;
nctemp365=j*El2d->gammaxy->d[0]+nctemp365;
El2d->gammaxy->a[nctemp365] =0.0;
int nctemp372=i;
nctemp372=j*El2d->gammayx->d[0]+nctemp372;
El2d->gammayx->a[nctemp372] =0.0;
int nctemp379=i;
nctemp379=j*El2d->thetaxxx->d[0]+nctemp379;
El2d->thetaxxx->a[nctemp379] =0.0;
int nctemp386=i;
nctemp386=j*El2d->thetayyy->d[0]+nctemp386;
El2d->thetayyy->a[nctemp386] =0.0;
int nctemp393=i;
nctemp393=j*El2d->thetayxy->d[0]+nctemp393;
El2d->thetayxy->a[nctemp393] =0.0;
int nctemp400=i;
nctemp400=j*El2d->thetaxyx->d[0]+nctemp400;
El2d->thetaxyx->a[nctemp400] =0.0;
El2d->ts =0;
}
int nctemp416 = j + 1;
j =nctemp416;
int nctemp417 = (j < Model->Ny);
nctemp260=nctemp417;
}
}
int nctemp429 = i + 1;
i =nctemp429;
int nctemp430 = (i < Model->Nx);
nctemp252=nctemp430;
}
struct nctempchar1 *nctemp437;
static struct nctempchar1 nctemp438 = {{ 9}, (char*)"snap 0: \0"};
nctemp437=&nctemp438;
nctempchar1* nctemp435= nctemp437;
int nctemp439=LibePs(nctemp435);
int nctemp443=0;
int nctemp441= El2d->snpflags->a[nctemp443];
int nctemp445=LibePi(nctemp441);
struct nctempchar1 *nctemp449;
static struct nctempchar1 nctemp450 = {{ 3}, (char*)"\n\0"};
nctemp449=&nctemp450;
nctempchar1* nctemp447= nctemp449;
int nctemp451=LibePs(nctemp447);
int nctemp455=0;
int nctemp452 = (El2d->snpflags->a[nctemp455] ==1);
if(nctemp452)
{
struct nctempchar1 *nctemp464;
static struct nctempchar1 nctemp465 = {{ 10}, (char*)"snp-p.bin\0"};
nctemp464=&nctemp465;
nctempchar1* nctemp462= nctemp464;
struct nctempchar1 *nctemp468;
static struct nctempchar1 nctemp469 = {{ 2}, (char*)"w\0"};
nctemp468=&nctemp469;
nctempchar1* nctemp466= nctemp468;
int nctemp470=LibeOpen(nctemp462,nctemp466);
El2d->fdp =nctemp470;
}
struct nctempchar1 *nctemp474;
static struct nctempchar1 nctemp475 = {{ 9}, (char*)"snap 1: \0"};
nctemp474=&nctemp475;
nctempchar1* nctemp472= nctemp474;
int nctemp476=LibePs(nctemp472);
int nctemp480=1;
int nctemp478= El2d->snpflags->a[nctemp480];
int nctemp482=LibePi(nctemp478);
struct nctempchar1 *nctemp486;
static struct nctempchar1 nctemp487 = {{ 3}, (char*)"\n\0"};
nctemp486=&nctemp487;
nctempchar1* nctemp484= nctemp486;
int nctemp488=LibePs(nctemp484);
int nctemp492=1;
int nctemp489 = (El2d->snpflags->a[nctemp492] ==1);
if(nctemp489)
{
struct nctempchar1 *nctemp501;
static struct nctempchar1 nctemp502 = {{ 11}, (char*)"snp-vx.bin\0"};
nctemp501=&nctemp502;
nctempchar1* nctemp499= nctemp501;
struct nctempchar1 *nctemp505;
static struct nctempchar1 nctemp506 = {{ 2}, (char*)"w\0"};
nctemp505=&nctemp506;
nctempchar1* nctemp503= nctemp505;
int nctemp507=LibeOpen(nctemp499,nctemp503);
El2d->fdvx =nctemp507;
}
struct nctempchar1 *nctemp511;
static struct nctempchar1 nctemp512 = {{ 9}, (char*)"snap 2: \0"};
nctemp511=&nctemp512;
nctempchar1* nctemp509= nctemp511;
int nctemp513=LibePs(nctemp509);
int nctemp517=2;
int nctemp515= El2d->snpflags->a[nctemp517];
int nctemp519=LibePi(nctemp515);
struct nctempchar1 *nctemp523;
static struct nctempchar1 nctemp524 = {{ 3}, (char*)"\n\0"};
nctemp523=&nctemp524;
nctempchar1* nctemp521= nctemp523;
int nctemp525=LibePs(nctemp521);
int nctemp529=2;
int nctemp526 = (El2d->snpflags->a[nctemp529] ==1);
if(nctemp526)
{
struct nctempchar1 *nctemp538;
static struct nctempchar1 nctemp539 = {{ 11}, (char*)"snp-vy.bin\0"};
nctemp538=&nctemp539;
nctempchar1* nctemp536= nctemp538;
struct nctempchar1 *nctemp542;
static struct nctempchar1 nctemp543 = {{ 2}, (char*)"w\0"};
nctemp542=&nctemp543;
nctempchar1* nctemp540= nctemp542;
int nctemp544=LibeOpen(nctemp536,nctemp540);
El2d->fdvy =nctemp544;
}
struct nctempchar1 *nctemp548;
static struct nctempchar1 nctemp549 = {{ 9}, (char*)"snap 3: \0"};
nctemp548=&nctemp549;
nctempchar1* nctemp546= nctemp548;
int nctemp550=LibePs(nctemp546);
int nctemp554=3;
int nctemp552= El2d->snpflags->a[nctemp554];
int nctemp556=LibePi(nctemp552);
struct nctempchar1 *nctemp560;
static struct nctempchar1 nctemp561 = {{ 3}, (char*)"\n\0"};
nctemp560=&nctemp561;
nctempchar1* nctemp558= nctemp560;
int nctemp562=LibePs(nctemp558);
int nctemp566=3;
int nctemp563 = (El2d->snpflags->a[nctemp566] ==1);
if(nctemp563)
{
struct nctempchar1 *nctemp575;
static struct nctempchar1 nctemp576 = {{ 10}, (char*)"snp-e.bin\0"};
nctemp575=&nctemp576;
nctempchar1* nctemp573= nctemp575;
struct nctempchar1 *nctemp579;
static struct nctempchar1 nctemp580 = {{ 2}, (char*)"w\0"};
nctemp579=&nctemp580;
nctempchar1* nctemp577= nctemp579;
int nctemp581=LibeOpen(nctemp573,nctemp577);
El2d->fde =nctemp581;
}
struct nctempchar1 *nctemp585;
static struct nctempchar1 nctemp586 = {{ 9}, (char*)"snap 4: \0"};
nctemp585=&nctemp586;
nctempchar1* nctemp583= nctemp585;
int nctemp587=LibePs(nctemp583);
int nctemp591=4;
int nctemp589= El2d->snpflags->a[nctemp591];
int nctemp593=LibePi(nctemp589);
struct nctempchar1 *nctemp597;
static struct nctempchar1 nctemp598 = {{ 3}, (char*)"\n\0"};
nctemp597=&nctemp598;
nctempchar1* nctemp595= nctemp597;
int nctemp599=LibePs(nctemp595);
int nctemp603=4;
int nctemp600 = (El2d->snpflags->a[nctemp603] ==1);
if(nctemp600)
{
struct nctempchar1 *nctemp612;
static struct nctempchar1 nctemp613 = {{ 12}, (char*)"snp-exy.bin\0"};
nctemp612=&nctemp613;
nctempchar1* nctemp610= nctemp612;
struct nctempchar1 *nctemp616;
static struct nctempchar1 nctemp617 = {{ 2}, (char*)"w\0"};
nctemp616=&nctemp617;
nctempchar1* nctemp614= nctemp616;
int nctemp618=LibeOpen(nctemp610,nctemp614);
El2d->fdexy =nctemp618;
}
return El2d;
}
int El2dvx (struct el2d* El2d,struct model* Model)
{
int nx;
int ny;
int i;
int j;
nx =Model->Nx;
ny =Model->Ny;

 #pragma omp parallel for
for(j=0;j<ny;j=j+1){for(i=0;i<nx;i=i+1){{
int nctemp635=i;
nctemp635=j*El2d->vx->d[0]+nctemp635;
int nctemp655=i;
nctemp655=j*Model->Rhox->d[0]+nctemp655;
float nctemp658 = Model->Dt * Model->Rhox->a[nctemp655];
int nctemp663=i;
nctemp663=j*El2d->exx->d[0]+nctemp663;
int nctemp667=i;
nctemp667=j*El2d->exy->d[0]+nctemp667;
float nctemp670 = El2d->exx->a[nctemp663] + El2d->exy->a[nctemp667];
float nctemp671 = nctemp658 * nctemp670;
int nctemp680=i;
nctemp680=j*El2d->thetaxxx->d[0]+nctemp680;
float nctemp683 = Model->Dt * El2d->thetaxxx->a[nctemp680];
int nctemp685=i;
nctemp685=j*Model->Drhopx->d[0]+nctemp685;
float nctemp688 = nctemp683 * Model->Drhopx->a[nctemp685];
float nctemp689 = nctemp671 + nctemp688;
int nctemp698=i;
nctemp698=j*El2d->thetayxy->d[0]+nctemp698;
float nctemp701 = Model->Dt * El2d->thetayxy->a[nctemp698];
int nctemp703=i;
nctemp703=j*Model->Drhopy->d[0]+nctemp703;
float nctemp706 = nctemp701 * Model->Drhopy->a[nctemp703];
float nctemp707 = nctemp689 + nctemp706;
int nctemp709=i;
nctemp709=j*El2d->vx->d[0]+nctemp709;
float nctemp712 = nctemp707 + El2d->vx->a[nctemp709];
El2d->vx->a[nctemp635] =nctemp712;
int nctemp716=i;
nctemp716=j*El2d->thetaxxx->d[0]+nctemp716;
int nctemp726=i;
nctemp726=j*Model->Eta1x->d[0]+nctemp726;
int nctemp730=i;
nctemp730=j*El2d->thetaxxx->d[0]+nctemp730;
float nctemp733 = Model->Eta1x->a[nctemp726] * El2d->thetaxxx->a[nctemp730];
int nctemp738=i;
nctemp738=j*Model->Eta2x->d[0]+nctemp738;
int nctemp742=i;
nctemp742=j*El2d->exx->d[0]+nctemp742;
float nctemp745 = Model->Eta2x->a[nctemp738] * El2d->exx->a[nctemp742];
float nctemp746 = nctemp733 + nctemp745;
El2d->thetaxxx->a[nctemp716] =nctemp746;
int nctemp750=i;
nctemp750=j*El2d->thetayxy->d[0]+nctemp750;
int nctemp760=i;
nctemp760=j*Model->Eta1y->d[0]+nctemp760;
int nctemp764=i;
nctemp764=j*El2d->thetayxy->d[0]+nctemp764;
float nctemp767 = Model->Eta1y->a[nctemp760] * El2d->thetayxy->a[nctemp764];
int nctemp772=i;
nctemp772=j*Model->Eta2y->d[0]+nctemp772;
int nctemp776=i;
nctemp776=j*El2d->exy->d[0]+nctemp776;
float nctemp779 = Model->Eta2y->a[nctemp772] * El2d->exy->a[nctemp776];
float nctemp780 = nctemp767 + nctemp779;
El2d->thetayxy->a[nctemp750] =nctemp780;
}
}}}
int El2dvy (struct el2d* El2d,struct model* Model)
{
int nx;
int ny;
int i;
int j;
nx =Model->Nx;
ny =Model->Ny;

 #pragma omp parallel for
for(j=0;j<ny;j=j+1){for(i=0;i<nx;i=i+1){{
int nctemp796=i;
nctemp796=j*El2d->vy->d[0]+nctemp796;
int nctemp816=i;
nctemp816=j*Model->Rhoy->d[0]+nctemp816;
float nctemp819 = Model->Dt * Model->Rhoy->a[nctemp816];
int nctemp824=i;
nctemp824=j*El2d->eyy->d[0]+nctemp824;
int nctemp828=i;
nctemp828=j*El2d->eyx->d[0]+nctemp828;
float nctemp831 = El2d->eyy->a[nctemp824] + El2d->eyx->a[nctemp828];
float nctemp832 = nctemp819 * nctemp831;
int nctemp841=i;
nctemp841=j*El2d->thetayyy->d[0]+nctemp841;
float nctemp844 = Model->Dt * El2d->thetayyy->a[nctemp841];
int nctemp846=i;
nctemp846=j*Model->Drhopy->d[0]+nctemp846;
float nctemp849 = nctemp844 * Model->Drhopy->a[nctemp846];
float nctemp850 = nctemp832 + nctemp849;
int nctemp859=i;
nctemp859=j*El2d->thetaxyx->d[0]+nctemp859;
float nctemp862 = Model->Dt * El2d->thetaxyx->a[nctemp859];
int nctemp864=i;
nctemp864=j*Model->Drhopx->d[0]+nctemp864;
float nctemp867 = nctemp862 * Model->Drhopx->a[nctemp864];
float nctemp868 = nctemp850 + nctemp867;
int nctemp870=i;
nctemp870=j*El2d->vy->d[0]+nctemp870;
float nctemp873 = nctemp868 + El2d->vy->a[nctemp870];
El2d->vy->a[nctemp796] =nctemp873;
int nctemp877=i;
nctemp877=j*El2d->thetayyy->d[0]+nctemp877;
int nctemp887=i;
nctemp887=j*Model->Eta1y->d[0]+nctemp887;
int nctemp891=i;
nctemp891=j*El2d->thetayyy->d[0]+nctemp891;
float nctemp894 = Model->Eta1y->a[nctemp887] * El2d->thetayyy->a[nctemp891];
int nctemp899=i;
nctemp899=j*Model->Eta2y->d[0]+nctemp899;
int nctemp903=i;
nctemp903=j*El2d->eyy->d[0]+nctemp903;
float nctemp906 = Model->Eta2y->a[nctemp899] * El2d->eyy->a[nctemp903];
float nctemp907 = nctemp894 + nctemp906;
El2d->thetayyy->a[nctemp877] =nctemp907;
int nctemp911=i;
nctemp911=j*El2d->thetaxyx->d[0]+nctemp911;
int nctemp921=i;
nctemp921=j*Model->Eta1x->d[0]+nctemp921;
int nctemp925=i;
nctemp925=j*El2d->thetaxyx->d[0]+nctemp925;
float nctemp928 = Model->Eta1x->a[nctemp921] * El2d->thetaxyx->a[nctemp925];
int nctemp933=i;
nctemp933=j*Model->Eta2x->d[0]+nctemp933;
int nctemp937=i;
nctemp937=j*El2d->eyx->d[0]+nctemp937;
float nctemp940 = Model->Eta2x->a[nctemp933] * El2d->eyx->a[nctemp937];
float nctemp941 = nctemp928 + nctemp940;
El2d->thetaxyx->a[nctemp911] =nctemp941;
}
}}}
int El2de (struct el2d* El2d,struct model* Model)
{
int nx;
int ny;
int i;
int j;
nx =Model->Nx;
ny =Model->Ny;

 #pragma omp parallel for
for(j=0;j<ny;j=j+1){for(i=0;i<nx;i=i+1){{
int nctemp957=i;
nctemp957=j*El2d->e->d[0]+nctemp957;
int nctemp964=i;
nctemp964=j*El2d->exx->d[0]+nctemp964;
int nctemp968=i;
nctemp968=j*El2d->eyy->d[0]+nctemp968;
float nctemp971 = El2d->exx->a[nctemp964] + El2d->eyy->a[nctemp968];
El2d->e->a[nctemp957] =nctemp971;
}
}}}
int El2dexy (struct el2d* El2d,struct model* Model,nctempfloat2 *tmp1,nctempfloat2 *tmp2)
{
int nx;
int ny;
int i;
int j;
nx =Model->Nx;
ny =Model->Ny;

 #pragma omp parallel for
for(j=0;j<ny;j=j+1){for(i=0;i<nx;i=i+1){{
int nctemp987=i;
nctemp987=j*El2d->exy->d[0]+nctemp987;
int nctemp998=i;
nctemp998=j*tmp1->d[0]+nctemp998;
int nctemp1002=i;
nctemp1002=j*tmp2->d[0]+nctemp1002;
float nctemp1005 = tmp1->a[nctemp998] + tmp2->a[nctemp1002];
float nctemp1006 = 0.5 * nctemp1005;
El2d->exy->a[nctemp987] =nctemp1006;
}
}}}
int El2deyx (struct el2d* El2d,struct model* Model,nctempfloat2 *tmp1,nctempfloat2 *tmp2)
{
int nx;
int ny;
int i;
int j;
nx =Model->Nx;
ny =Model->Ny;

 #pragma omp parallel for
for(j=0;j<ny;j=j+1){for(i=0;i<nx;i=i+1){{
int nctemp1022=i;
nctemp1022=j*El2d->eyx->d[0]+nctemp1022;
int nctemp1033=i;
nctemp1033=j*tmp1->d[0]+nctemp1033;
int nctemp1037=i;
nctemp1037=j*tmp2->d[0]+nctemp1037;
float nctemp1040 = tmp1->a[nctemp1033] + tmp2->a[nctemp1037];
float nctemp1041 = 0.5 * nctemp1040;
El2d->eyx->a[nctemp1022] =nctemp1041;
}
}}}
int El2dstress (struct el2d* El2d,struct model* Model)
{
int nx;
int ny;
int i;
int j;
nx =Model->Nx;
ny =Model->Ny;

 #pragma omp parallel for
for(j=0;j<ny;j=j+1){for(i=0;i<nx;i=i+1){{
int nctemp1057=i;
nctemp1057=j*El2d->sigmaxx->d[0]+nctemp1057;
int nctemp1080=i;
nctemp1080=j*Model->Lambda->d[0]+nctemp1080;
float nctemp1083 = Model->Dt * Model->Lambda->a[nctemp1080];
int nctemp1088=i;
nctemp1088=j*El2d->exx->d[0]+nctemp1088;
int nctemp1092=i;
nctemp1092=j*El2d->eyy->d[0]+nctemp1092;
float nctemp1095 = El2d->exx->a[nctemp1088] + El2d->eyy->a[nctemp1092];
float nctemp1096 = nctemp1083 * nctemp1095;
float nctemp1108 = 2.0 * Model->Dt;
int nctemp1110=i;
nctemp1110=j*Model->Mu->d[0]+nctemp1110;
float nctemp1113 = nctemp1108 * Model->Mu->a[nctemp1110];
int nctemp1115=i;
nctemp1115=j*El2d->exx->d[0]+nctemp1115;
float nctemp1118 = nctemp1113 * El2d->exx->a[nctemp1115];
float nctemp1119 = nctemp1096 + nctemp1118;
int nctemp1131=i;
nctemp1131=j*El2d->gammaxx->d[0]+nctemp1131;
int nctemp1135=i;
nctemp1135=j*Model->Dlambdax->d[0]+nctemp1135;
float nctemp1138 = El2d->gammaxx->a[nctemp1131] * Model->Dlambdax->a[nctemp1135];
int nctemp1143=i;
nctemp1143=j*El2d->gammayy->d[0]+nctemp1143;
int nctemp1147=i;
nctemp1147=j*Model->Dlambday->d[0]+nctemp1147;
float nctemp1150 = El2d->gammayy->a[nctemp1143] * Model->Dlambday->a[nctemp1147];
float nctemp1151 = nctemp1138 + nctemp1150;
float nctemp1152 = Model->Dt * nctemp1151;
float nctemp1153 = nctemp1119 + nctemp1152;
float nctemp1165 = 2.0 * Model->Dt;
int nctemp1167=i;
nctemp1167=j*El2d->gammaxx->d[0]+nctemp1167;
float nctemp1170 = nctemp1165 * El2d->gammaxx->a[nctemp1167];
int nctemp1172=i;
nctemp1172=j*Model->Dmux->d[0]+nctemp1172;
float nctemp1175 = nctemp1170 * Model->Dmux->a[nctemp1172];
float nctemp1176 = nctemp1153 + nctemp1175;
int nctemp1178=i;
nctemp1178=j*El2d->sigmaxx->d[0]+nctemp1178;
float nctemp1181 = nctemp1176 + El2d->sigmaxx->a[nctemp1178];
El2d->sigmaxx->a[nctemp1057] =nctemp1181;
int nctemp1185=i;
nctemp1185=j*El2d->sigmayy->d[0]+nctemp1185;
int nctemp1208=i;
nctemp1208=j*Model->Lambda->d[0]+nctemp1208;
float nctemp1211 = Model->Dt * Model->Lambda->a[nctemp1208];
int nctemp1216=i;
nctemp1216=j*El2d->exx->d[0]+nctemp1216;
int nctemp1220=i;
nctemp1220=j*El2d->eyy->d[0]+nctemp1220;
float nctemp1223 = El2d->exx->a[nctemp1216] + El2d->eyy->a[nctemp1220];
float nctemp1224 = nctemp1211 * nctemp1223;
float nctemp1236 = 2.0 * Model->Dt;
int nctemp1238=i;
nctemp1238=j*Model->Mu->d[0]+nctemp1238;
float nctemp1241 = nctemp1236 * Model->Mu->a[nctemp1238];
int nctemp1243=i;
nctemp1243=j*El2d->eyy->d[0]+nctemp1243;
float nctemp1246 = nctemp1241 * El2d->eyy->a[nctemp1243];
float nctemp1247 = nctemp1224 + nctemp1246;
int nctemp1259=i;
nctemp1259=j*El2d->gammaxx->d[0]+nctemp1259;
int nctemp1263=i;
nctemp1263=j*Model->Dlambdax->d[0]+nctemp1263;
float nctemp1266 = El2d->gammaxx->a[nctemp1259] * Model->Dlambdax->a[nctemp1263];
int nctemp1271=i;
nctemp1271=j*El2d->gammayy->d[0]+nctemp1271;
int nctemp1275=i;
nctemp1275=j*Model->Dlambday->d[0]+nctemp1275;
float nctemp1278 = El2d->gammayy->a[nctemp1271] * Model->Dlambday->a[nctemp1275];
float nctemp1279 = nctemp1266 + nctemp1278;
float nctemp1280 = Model->Dt * nctemp1279;
float nctemp1281 = nctemp1247 + nctemp1280;
float nctemp1293 = 2.0 * Model->Dt;
int nctemp1295=i;
nctemp1295=j*El2d->gammayy->d[0]+nctemp1295;
float nctemp1298 = nctemp1293 * El2d->gammayy->a[nctemp1295];
int nctemp1300=i;
nctemp1300=j*Model->Dmuy->d[0]+nctemp1300;
float nctemp1303 = nctemp1298 * Model->Dmuy->a[nctemp1300];
float nctemp1304 = nctemp1281 + nctemp1303;
int nctemp1306=i;
nctemp1306=j*El2d->sigmayy->d[0]+nctemp1306;
float nctemp1309 = nctemp1304 + El2d->sigmayy->a[nctemp1306];
El2d->sigmayy->a[nctemp1185] =nctemp1309;
int nctemp1313=i;
nctemp1313=j*El2d->p->d[0]+nctemp1313;
int nctemp1324=i;
nctemp1324=j*El2d->sigmaxx->d[0]+nctemp1324;
int nctemp1328=i;
nctemp1328=j*El2d->sigmayy->d[0]+nctemp1328;
float nctemp1331 = El2d->sigmaxx->a[nctemp1324] + El2d->sigmayy->a[nctemp1328];
float nctemp1332 = 0.5 * nctemp1331;
El2d->p->a[nctemp1313] =nctemp1332;
int nctemp1336=i;
nctemp1336=j*El2d->sigmaxy->d[0]+nctemp1336;
float nctemp1356 = 2.0 * Model->Dt;
int nctemp1358=i;
nctemp1358=j*Model->Muxy->d[0]+nctemp1358;
float nctemp1361 = nctemp1356 * Model->Muxy->a[nctemp1358];
int nctemp1363=i;
nctemp1363=j*El2d->exy->d[0]+nctemp1363;
float nctemp1366 = nctemp1361 * El2d->exy->a[nctemp1363];
float nctemp1378 = 2.0 * Model->Dt;
int nctemp1380=i;
nctemp1380=j*El2d->gammaxy->d[0]+nctemp1380;
float nctemp1383 = nctemp1378 * El2d->gammaxy->a[nctemp1380];
int nctemp1385=i;
nctemp1385=j*Model->Dmuxyy->d[0]+nctemp1385;
float nctemp1388 = nctemp1383 * Model->Dmuxyy->a[nctemp1385];
float nctemp1389 = nctemp1366 + nctemp1388;
int nctemp1391=i;
nctemp1391=j*El2d->sigmaxy->d[0]+nctemp1391;
float nctemp1394 = nctemp1389 + El2d->sigmaxy->a[nctemp1391];
El2d->sigmaxy->a[nctemp1336] =nctemp1394;
int nctemp1398=i;
nctemp1398=j*El2d->sigmayx->d[0]+nctemp1398;
float nctemp1418 = 2.0 * Model->Dt;
int nctemp1420=i;
nctemp1420=j*Model->Muxy->d[0]+nctemp1420;
float nctemp1423 = nctemp1418 * Model->Muxy->a[nctemp1420];
int nctemp1425=i;
nctemp1425=j*El2d->exy->d[0]+nctemp1425;
float nctemp1428 = nctemp1423 * El2d->exy->a[nctemp1425];
float nctemp1440 = 2.0 * Model->Dt;
int nctemp1442=i;
nctemp1442=j*El2d->gammayx->d[0]+nctemp1442;
float nctemp1445 = nctemp1440 * El2d->gammayx->a[nctemp1442];
int nctemp1447=i;
nctemp1447=j*Model->Dmuxyx->d[0]+nctemp1447;
float nctemp1450 = nctemp1445 * Model->Dmuxyx->a[nctemp1447];
float nctemp1451 = nctemp1428 + nctemp1450;
int nctemp1453=i;
nctemp1453=j*El2d->sigmayx->d[0]+nctemp1453;
float nctemp1456 = nctemp1451 + El2d->sigmayx->a[nctemp1453];
El2d->sigmayx->a[nctemp1398] =nctemp1456;
int nctemp1460=i;
nctemp1460=j*El2d->gammaxx->d[0]+nctemp1460;
int nctemp1470=i;
nctemp1470=j*Model->Alpha1x->d[0]+nctemp1470;
int nctemp1474=i;
nctemp1474=j*El2d->gammaxx->d[0]+nctemp1474;
float nctemp1477 = Model->Alpha1x->a[nctemp1470] * El2d->gammaxx->a[nctemp1474];
int nctemp1482=i;
nctemp1482=j*Model->Alpha2x->d[0]+nctemp1482;
int nctemp1486=i;
nctemp1486=j*El2d->exx->d[0]+nctemp1486;
float nctemp1489 = Model->Alpha2x->a[nctemp1482] * El2d->exx->a[nctemp1486];
float nctemp1490 = nctemp1477 + nctemp1489;
El2d->gammaxx->a[nctemp1460] =nctemp1490;
int nctemp1494=i;
nctemp1494=j*El2d->gammayy->d[0]+nctemp1494;
int nctemp1504=i;
nctemp1504=j*Model->Alpha1y->d[0]+nctemp1504;
int nctemp1508=i;
nctemp1508=j*El2d->gammayy->d[0]+nctemp1508;
float nctemp1511 = Model->Alpha1y->a[nctemp1504] * El2d->gammayy->a[nctemp1508];
int nctemp1516=i;
nctemp1516=j*Model->Alpha2y->d[0]+nctemp1516;
int nctemp1520=i;
nctemp1520=j*El2d->eyy->d[0]+nctemp1520;
float nctemp1523 = Model->Alpha2y->a[nctemp1516] * El2d->eyy->a[nctemp1520];
float nctemp1524 = nctemp1511 + nctemp1523;
El2d->gammayy->a[nctemp1494] =nctemp1524;
int nctemp1528=i;
nctemp1528=j*El2d->gammaxy->d[0]+nctemp1528;
int nctemp1538=i;
nctemp1538=j*Model->Beta1y->d[0]+nctemp1538;
int nctemp1542=i;
nctemp1542=j*El2d->gammaxy->d[0]+nctemp1542;
float nctemp1545 = Model->Beta1y->a[nctemp1538] * El2d->gammaxy->a[nctemp1542];
int nctemp1550=i;
nctemp1550=j*Model->Beta2y->d[0]+nctemp1550;
int nctemp1554=i;
nctemp1554=j*El2d->exy->d[0]+nctemp1554;
float nctemp1557 = Model->Beta2y->a[nctemp1550] * El2d->exy->a[nctemp1554];
float nctemp1558 = nctemp1545 + nctemp1557;
El2d->gammaxy->a[nctemp1528] =nctemp1558;
int nctemp1562=i;
nctemp1562=j*El2d->gammayx->d[0]+nctemp1562;
int nctemp1572=i;
nctemp1572=j*Model->Beta1x->d[0]+nctemp1572;
int nctemp1576=i;
nctemp1576=j*El2d->gammayx->d[0]+nctemp1576;
float nctemp1579 = Model->Beta1x->a[nctemp1572] * El2d->gammayx->a[nctemp1576];
int nctemp1584=i;
nctemp1584=j*Model->Beta2x->d[0]+nctemp1584;
int nctemp1588=i;
nctemp1588=j*El2d->eyx->d[0]+nctemp1588;
float nctemp1591 = Model->Beta2x->a[nctemp1584] * El2d->eyx->a[nctemp1588];
float nctemp1592 = nctemp1579 + nctemp1591;
El2d->gammayx->a[nctemp1562] =nctemp1592;
}
}}}
int El2dSnap (struct el2d* El2d,int it)
{
int n;
int Nx;
int Ny;
nctempchar1 *tmp;
int nctemp1593 = (El2d->sresamp <= 0);
if(nctemp1593)
{
return 1;
}
int nctemp1602=El2d->sigmaxx->d[0];Nx =nctemp1602;
int nctemp1610=El2d->sigmaxx->d[1];Ny =nctemp1610;
int nctemp1622 = Nx * Ny;
n =nctemp1622;
int nctemp1626= it;
int nctemp1628= El2d->sresamp;
int nctemp1630=LibeMod(nctemp1626,nctemp1628);
int nctemp1623 = (nctemp1630 ==0);
if(nctemp1623)
{
int nctemp1635=0;
int nctemp1632 = (El2d->snpflags->a[nctemp1635] ==1);
if(nctemp1632)
{
nctempchar1 nctemp1644;
nctempchar1 *nctemp1643;
nctemp1644=*(nctempchar1*)(El2d->p);
int nctemp1651 = 4 * n;
nctemp1644.d[0]=nctemp1651;
nctemp1643=&nctemp1644;
tmp=nctemp1643;
int nctemp1653= El2d->fdp;
int nctemp1660 = 4 * n;
int nctemp1655= nctemp1660;
nctempchar1* nctemp1661= tmp;
int nctemp1664=LibeWrite(nctemp1653,nctemp1655,nctemp1661);
}
int nctemp1668=1;
int nctemp1665 = (El2d->snpflags->a[nctemp1668] ==1);
if(nctemp1665)
{
nctempchar1 nctemp1677;
nctempchar1 *nctemp1676;
nctemp1677=*(nctempchar1*)(El2d->vx);
int nctemp1684 = 4 * n;
nctemp1677.d[0]=nctemp1684;
nctemp1676=&nctemp1677;
tmp=nctemp1676;
int nctemp1686= El2d->fdvx;
int nctemp1693 = 4 * n;
int nctemp1688= nctemp1693;
nctempchar1* nctemp1694= tmp;
int nctemp1697=LibeWrite(nctemp1686,nctemp1688,nctemp1694);
}
int nctemp1701=2;
int nctemp1698 = (El2d->snpflags->a[nctemp1701] ==1);
if(nctemp1698)
{
nctempchar1 nctemp1710;
nctempchar1 *nctemp1709;
nctemp1710=*(nctempchar1*)(El2d->vy);
int nctemp1717 = 4 * n;
nctemp1710.d[0]=nctemp1717;
nctemp1709=&nctemp1710;
tmp=nctemp1709;
int nctemp1719= El2d->fdvy;
int nctemp1726 = 4 * n;
int nctemp1721= nctemp1726;
nctempchar1* nctemp1727= tmp;
int nctemp1730=LibeWrite(nctemp1719,nctemp1721,nctemp1727);
}
int nctemp1734=3;
int nctemp1731 = (El2d->snpflags->a[nctemp1734] ==1);
if(nctemp1731)
{
nctempchar1 nctemp1743;
nctempchar1 *nctemp1742;
nctemp1743=*(nctempchar1*)(El2d->e);
int nctemp1750 = 4 * n;
nctemp1743.d[0]=nctemp1750;
nctemp1742=&nctemp1743;
tmp=nctemp1742;
int nctemp1752= El2d->fde;
int nctemp1759 = 4 * n;
int nctemp1754= nctemp1759;
nctempchar1* nctemp1760= tmp;
int nctemp1763=LibeWrite(nctemp1752,nctemp1754,nctemp1760);
}
int nctemp1767=4;
int nctemp1764 = (El2d->snpflags->a[nctemp1767] ==1);
if(nctemp1764)
{
nctempchar1 nctemp1776;
nctempchar1 *nctemp1775;
nctemp1776=*(nctempchar1*)(El2d->exy);
int nctemp1783 = 4 * n;
nctemp1776.d[0]=nctemp1783;
nctemp1775=&nctemp1776;
tmp=nctemp1775;
int nctemp1785= El2d->fdexy;
int nctemp1792 = 4 * n;
int nctemp1787= nctemp1792;
nctempchar1* nctemp1793= tmp;
int nctemp1796=LibeWrite(nctemp1785,nctemp1787,nctemp1793);
}
}
return 1;
}
int El2dSolve (struct el2d* El2d,struct model* Model,struct src* Src,struct rec* Rec,int nt,int l)
{
int sx;
int sy;
struct diff* Diff;
int ns;
int ne;
nctempfloat2 *tmp1;
nctempfloat2 *tmp2;
int i;
int k;
float perc;
float oldperc;
int iperc;
int nctemp1802= l;
struct diff* nctemp1804=DiffNew(nctemp1802);
Diff =nctemp1804;
int nctemp1811=Model->Nx;
nctemp1811=nctemp1811*Model->Ny;
nctempfloat2 *nctemp1810;
nctemp1810=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp1810->d[0]=Model->Nx;
nctemp1810->d[1]=Model->Ny;
nctemp1810->a=(float *)RunMalloc(sizeof(float)*nctemp1811);
tmp1=nctemp1810;
int nctemp1822=Model->Nx;
nctemp1822=nctemp1822*Model->Ny;
nctempfloat2 *nctemp1821;
nctemp1821=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp1821->d[0]=Model->Nx;
nctemp1821->d[1]=Model->Ny;
nctemp1821->a=(float *)RunMalloc(sizeof(float)*nctemp1822);
tmp2=nctemp1821;
oldperc =0.0;
ns =El2d->ts;
int nctemp1843 = ns + nt;
ne =nctemp1843;
i =ns;
int nctemp1848 = (i < ne);
while(nctemp1848){
{
struct diff* nctemp1853= Diff;
nctempfloat2* nctemp1855= El2d->sigmaxx;
nctempfloat2* nctemp1858= El2d->exx;
float nctemp1861= Model->Dx;
int nctemp1863=DiffDxplus(nctemp1853,nctemp1855,nctemp1858,nctemp1861);
struct diff* nctemp1865= Diff;
nctempfloat2* nctemp1867= El2d->sigmaxy;
nctempfloat2* nctemp1870= El2d->exy;
float nctemp1873= Model->Dx;
int nctemp1875=DiffDyminus(nctemp1865,nctemp1867,nctemp1870,nctemp1873);
struct el2d* nctemp1877= El2d;
struct model* nctemp1879= Model;
int nctemp1881=El2dvx(nctemp1877,nctemp1879);
struct diff* nctemp1883= Diff;
nctempfloat2* nctemp1885= El2d->sigmayy;
nctempfloat2* nctemp1888= El2d->eyy;
float nctemp1891= Model->Dx;
int nctemp1893=DiffDyplus(nctemp1883,nctemp1885,nctemp1888,nctemp1891);
struct diff* nctemp1895= Diff;
nctempfloat2* nctemp1897= El2d->sigmaxy;
nctempfloat2* nctemp1900= El2d->eyx;
float nctemp1903= Model->Dx;
int nctemp1905=DiffDxminus(nctemp1895,nctemp1897,nctemp1900,nctemp1903);
struct el2d* nctemp1907= El2d;
struct model* nctemp1909= Model;
int nctemp1911=El2dvy(nctemp1907,nctemp1909);
struct diff* nctemp1913= Diff;
nctempfloat2* nctemp1915= El2d->vx;
nctempfloat2* nctemp1918= El2d->exx;
float nctemp1921= Model->Dx;
int nctemp1923=DiffDxminus(nctemp1913,nctemp1915,nctemp1918,nctemp1921);
struct diff* nctemp1925= Diff;
nctempfloat2* nctemp1927= El2d->vy;
nctempfloat2* nctemp1930= El2d->eyy;
float nctemp1933= Model->Dx;
int nctemp1935=DiffDyminus(nctemp1925,nctemp1927,nctemp1930,nctemp1933);
struct diff* nctemp1937= Diff;
nctempfloat2* nctemp1939= El2d->vy;
nctempfloat2* nctemp1942= tmp1;
float nctemp1945= Model->Dx;
int nctemp1947=DiffDxplus(nctemp1937,nctemp1939,nctemp1942,nctemp1945);
struct diff* nctemp1949= Diff;
nctempfloat2* nctemp1951= El2d->vx;
nctempfloat2* nctemp1954= tmp2;
float nctemp1957= Model->Dx;
int nctemp1959=DiffDyplus(nctemp1949,nctemp1951,nctemp1954,nctemp1957);
struct el2d* nctemp1961= El2d;
struct model* nctemp1963= Model;
nctempfloat2* nctemp1965= tmp1;
nctempfloat2* nctemp1968= tmp2;
int nctemp1971=El2dexy(nctemp1961,nctemp1963,nctemp1965,nctemp1968);
struct el2d* nctemp1973= El2d;
struct model* nctemp1975= Model;
nctempfloat2* nctemp1977= tmp1;
nctempfloat2* nctemp1980= tmp2;
int nctemp1983=El2deyx(nctemp1973,nctemp1975,nctemp1977,nctemp1980);
struct el2d* nctemp1985= El2d;
struct model* nctemp1987= Model;
int nctemp1989=El2de(nctemp1985,nctemp1987);
struct el2d* nctemp1991= El2d;
struct model* nctemp1993= Model;
int nctemp1995=El2dstress(nctemp1991,nctemp1993);
k =0;
int nctemp2000 = (k < Src->Ns);
while(nctemp2000){
{
int nctemp2008=k;
sx =Src->Sx->a[nctemp2008];
int nctemp2014=k;
sy =Src->Sy->a[nctemp2014];
int nctemp2019=sx;
nctemp2019=sy*El2d->sigmaxx->d[0]+nctemp2019;
int nctemp2026=sx;
nctemp2026=sy*El2d->sigmaxx->d[0]+nctemp2026;
int nctemp2037=i;
nctemp2037=k*Src->Sqxx->d[0]+nctemp2037;
float nctemp2045 = Model->Dx * Model->Dx;
float nctemp2046 = Src->Sqxx->a[nctemp2037] / nctemp2045;
float nctemp2047 = Model->Dt * nctemp2046;
float nctemp2048 = El2d->sigmaxx->a[nctemp2026] + nctemp2047;
El2d->sigmaxx->a[nctemp2019] =nctemp2048;
int nctemp2052=sx;
nctemp2052=sy*El2d->sigmayy->d[0]+nctemp2052;
int nctemp2059=sx;
nctemp2059=sy*El2d->sigmayy->d[0]+nctemp2059;
int nctemp2070=i;
nctemp2070=k*Src->Sqyy->d[0]+nctemp2070;
float nctemp2078 = Model->Dx * Model->Dx;
float nctemp2079 = Src->Sqyy->a[nctemp2070] / nctemp2078;
float nctemp2080 = Model->Dt * nctemp2079;
float nctemp2081 = El2d->sigmayy->a[nctemp2059] + nctemp2080;
El2d->sigmayy->a[nctemp2052] =nctemp2081;
int nctemp2085=sx;
nctemp2085=sy*El2d->vx->d[0]+nctemp2085;
int nctemp2092=sx;
nctemp2092=sy*El2d->vx->d[0]+nctemp2092;
int nctemp2103=i;
nctemp2103=k*Src->Sfx->d[0]+nctemp2103;
float nctemp2111 = Model->Dx * Model->Dx;
float nctemp2112 = Src->Sfx->a[nctemp2103] / nctemp2111;
float nctemp2113 = Model->Dt * nctemp2112;
float nctemp2114 = El2d->vx->a[nctemp2092] + nctemp2113;
El2d->vx->a[nctemp2085] =nctemp2114;
int nctemp2118=sx;
nctemp2118=sy*El2d->vy->d[0]+nctemp2118;
int nctemp2125=sx;
nctemp2125=sy*El2d->vy->d[0]+nctemp2125;
int nctemp2136=i;
nctemp2136=k*Src->Sfy->d[0]+nctemp2136;
float nctemp2144 = Model->Dx * Model->Dx;
float nctemp2145 = Src->Sfy->a[nctemp2136] / nctemp2144;
float nctemp2146 = Model->Dt * nctemp2145;
float nctemp2147 = El2d->vy->a[nctemp2125] + nctemp2146;
El2d->vy->a[nctemp2118] =nctemp2147;
}
int nctemp2156 = k + 1;
k =nctemp2156;
int nctemp2157 = (k < Src->Ns);
nctemp2000=nctemp2157;
}
float nctemp2172=(float)(i);
int nctemp2185 = ne - ns;
int nctemp2187 = nctemp2185 - 1;
float nctemp2176=(float)(nctemp2187);
float nctemp2188 = nctemp2172 / nctemp2176;
float nctemp2189 = 1000.0 * nctemp2188;
perc =nctemp2189;
float nctemp2197 = perc - oldperc;
int nctemp2190 = (nctemp2197 >= 10.0);
if(nctemp2190)
{
int nctemp2206=(int)(perc);
int nctemp2210 = nctemp2206 / 10;
iperc =nctemp2210;
int nctemp2214= iperc;
int nctemp2216= 10;
int nctemp2218=LibeMod(nctemp2214,nctemp2216);
int nctemp2211 = (nctemp2218 ==0);
if(nctemp2211)
{
int nctemp2221= 4;
int nctemp2223= iperc;
int nctemp2225=LibePuti(nctemp2221,nctemp2223);
int nctemp2227= 4;
struct nctempchar1 *nctemp2231;
static struct nctempchar1 nctemp2232 = {{ 3}, (char*)"\n\0"};
nctemp2231=&nctemp2232;
nctempchar1* nctemp2229= nctemp2231;
int nctemp2233=LibePuts(nctemp2227,nctemp2229);
int nctemp2235= 4;
int nctemp2237=LibeFlush(nctemp2235);
}
oldperc =perc;
}
struct rec* nctemp2243= Rec;
int nctemp2245= i;
nctempfloat2* nctemp2247= El2d->p;
nctempfloat2* nctemp2250= El2d->vx;
nctempfloat2* nctemp2253= El2d->vy;
int nctemp2256=RecReceiver(nctemp2243,nctemp2245,nctemp2247,nctemp2250,nctemp2253);
struct el2d* nctemp2258= El2d;
int nctemp2260= i;
int nctemp2262=El2dSnap(nctemp2258,nctemp2260);
}
int nctemp2271 = i + 1;
i =nctemp2271;
int nctemp2272 = (i < ne);
nctemp1848=nctemp2272;
}
int nctemp2284 = El2d->ts + ne;
El2d->ts =nctemp2284;
return 1;
}
