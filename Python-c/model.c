/*  Translated by epsc  version today */
#include <stddef.h>
typedef struct { float r; float i;} complex; 
typedef struct nctempfloat1 { int d[1]; float *a;} nctempfloat1; 
typedef struct nctempint1 { int d[1]; int *a;} nctempint1; 
typedef struct nctempchar1 { int d[1]; char *a;} nctempchar1; 
typedef struct nctempcomplex1 { int d[1]; complex *a;} nctempcomplex1; 
typedef struct nctempfloat2 { int d[2]; float *a;} nctempfloat2; 
typedef struct nctempint2 { int d[2]; int *a;} nctempint2; 
typedef struct nctempchar2 { int d[2]; char *a;} nctempchar2; 
typedef struct nctempcomplex2 { int d[2]; complex *a;} nctempcomplex2; 
typedef struct nctempfloat3 { int d[3]; float *a;} nctempfloat3; 
typedef struct nctempint3 { int d[3]; int *a;} nctempint3; 
typedef struct nctempchar3 { int d[3]; char *a;} nctempchar3; 
typedef struct nctempcomplex3 { int d[3]; complex *a;} nctempcomplex3; 
typedef struct nctempfloat4 { int d[4]; float *a;} nctempfloat4; 
typedef struct nctempint4 { int d[4]; int *a;} nctempint4; 
typedef struct nctempchar4 { int d[4]; char *a;} nctempchar4; 
typedef struct nctempcomplex4 { int d[4]; complex *a;} nctempcomplex4; 
#include <stdlib.h>
#include <string.h>
void *RunMalloc(int n); 
int RunFree(void *n); 
int LibeArrayex (int line,nctempchar1 *name,int ival,int index,int bound);
int LibeClearerr ();
int LibeGeterrno ();
nctempchar1* LibeGeterrstr ();
struct MainArg {nctempchar1 *arg;
};
typedef struct nctempMainArg1 {int d[1]; struct MainArg *a; } nctempMainArg1;
struct nctempMainArg2 {int d[2]; struct MainArg *a; } ;
struct nctempMainArg3 {int d[3]; struct MainArg *a; } ;
struct nctempMainArg4 {int d[4]; struct MainArg *a; } ;
int Main (struct nctempMainArg1 *MainArgs);
int LibeInit ();
int LibeDelete ();
int LibeExit ();
nctempchar1* LibeGetenv (nctempchar1 *name);
int LibeOpen (nctempchar1 *name,nctempchar1 *mode);
int LibeClose (int fp);
int LibeGetc (int fp);
int LibeUngetc (int fp);
int LibeGetw (int fp,nctempchar1 *text);
int LibePs (nctempchar1 *s);
int LibePi (int n);
int LibePf (float r);
int LibePutf (int fp,float r,nctempchar1 *form);
int LibePutc (int fp,int c);
int LibePuts (int fp,nctempchar1 *s);
int LibePuti (int fp,int ival);
int LibeRead (int fp,int n,nctempchar1 *array);
int LibeWrite (int fp,int n,nctempchar1 *array);
int LibeSeek (int fp,int pos,int flag);
int LibeFlush (int fp);
int LibeStrlen (nctempchar1 *s);
int LibeStrcmp (nctempchar1 *s,nctempchar1 *t);
int LibeStrev (nctempchar1 *s);
nctempchar1* LibeStrsave (nctempchar1 *s);
int LibeStrcpy (nctempchar1 *s,nctempchar1 *t);
int LibeStrcat (nctempchar1 *s,nctempchar1 *t);
nctempchar1* LibeStradd (nctempchar1 *t,nctempchar1 *s);
int LibeIsalpha (int c);
int LibeIsdigit (int c);
int LibeIsalnum (int c);
int LibeAtoi (nctempchar1 *s);
int LibeItoa (int n,nctempchar1 *s);
int LibeItoh (int n,nctempchar1 *s);
float LibeAtof (nctempchar1 *s);
int LibeFtoa (float f,nctempchar1 *fmt,nctempchar1 *s);
float LibeMach (int flag);
float LibeFabs (float x);
float LibeFscale2 (float x,int n);
float LibeGetfman2 (float x);
int LibeGetfexp2 (float x);
float LibeFscale (float x,int n);
int LibeGetfman (float f,int maxdig);
float LibeGetffman (float f);
int LibeGetmaxdig (float f);
int LibeGetfexp (float f);
float LibeClock ();
int LibeSetnb (int n);
int LibeSetnt (int n);
int LibeGetnb ();
int LibeGetnt ();
int LibeMod (int n,int r);
float LibeSqrt (float x);
float LibeLn (float x);
float LibeExp (float x);
float LibeSin (float x);
float LibeCos (float x);
float LibeTan (float x);
float LibeArcsin (float x);
float LibeArccos (float x);
float LibeArctan (float x);
float LibePow (float base,float exponent);
int LibeSystem (nctempchar1 *cmd);
struct model {int Nx;
int Ny;
int Nb;
float W0;
nctempfloat2 *Qlx;
nctempfloat2 *Qly;
nctempfloat2 *Qmx;
nctempfloat2 *Qmy;
nctempfloat2 *Qpx;
nctempfloat2 *Qpy;
nctempfloat2 *Qsx;
nctempfloat2 *Qsy;
nctempfloat2 *Lambda;
nctempfloat2 *Mu;
nctempfloat2 *Dlambdax;
nctempfloat2 *Dlambday;
nctempfloat2 *Dmux;
nctempfloat2 *Dmuy;
nctempfloat2 *Drhopx;
nctempfloat2 *Drhopy;
nctempfloat2 *Drhosx;
nctempfloat2 *Drhosy;
nctempfloat2 *Rho;
nctempfloat2 *Alpha1x;
nctempfloat2 *Alpha1y;
nctempfloat2 *Alpha2x;
nctempfloat2 *Alpha2y;
nctempfloat2 *Beta1x;
nctempfloat2 *Beta2x;
nctempfloat2 *Beta1y;
nctempfloat2 *Beta2y;
nctempfloat2 *Eta1x;
nctempfloat2 *Eta1y;
nctempfloat2 *Eta2x;
nctempfloat2 *Eta2y;
nctempfloat2 *Nu1x;
nctempfloat2 *Nu1y;
nctempfloat2 *Nu2x;
nctempfloat2 *Nu2y;
nctempfloat1 *dx;
nctempfloat1 *dy;
nctempfloat1 *dx1;
nctempfloat1 *dy1;
nctempfloat1 *dx2;
nctempfloat1 *dy2;
float Dx;
float Dt;
};
typedef struct nctempmodel1 {int d[1]; struct model *a; } nctempmodel1;
struct nctempmodel2 {int d[2]; struct model *a; } ;
struct nctempmodel3 {int d[3]; struct model *a; } ;
struct nctempmodel4 {int d[4]; struct model *a; } ;
struct model* ModelNew (nctempfloat2 *vp,nctempfloat2 *vs,nctempfloat2 *rho,nctempfloat2 *Qlx,nctempfloat2 *Qly,nctempfloat2 *Qmx,nctempfloat2 *Qmy,nctempfloat2 *Qpx,nctempfloat2 *Qpy,nctempfloat2 *Qsx,nctempfloat2 *Qsy,float Dx,float Dt,float W0,int Nb,int Rheol);
float ModelStability (struct model* Model);
struct model* Modelsls (nctempfloat2 *vp,nctempfloat2 *vs,nctempfloat2 *rho,nctempfloat2 *Qlx,nctempfloat2 *Qly,nctempfloat2 *Qmx,nctempfloat2 *Qmy,nctempfloat2 *Qpx,nctempfloat2 *Qpy,nctempfloat2 *Qsx,nctempfloat2 *Qsy,float Dx,float Dt,float W0,int Nb);
int Modelslscoeffs (nctempfloat2 *Qx,nctempfloat2 *Qy,nctempfloat2 *modx,nctempfloat2 *mody,nctempfloat2 *coeff1x,nctempfloat2 *coeff1y,nctempfloat2 *coeff2x,nctempfloat2 *coeff2y,struct model* Model);
int Modeld (nctempfloat1 *d,float dx,int nb);
int Modelslscoeffs2 (nctempfloat2 *Q,nctempfloat2 *modx,nctempfloat2 *mody,nctempfloat2 *coeff1x,nctempfloat2 *coeff1y,nctempfloat2 *coeff2x,nctempfloat2 *coeff2y,struct model* Model);
int Modeld (nctempfloat1 *d,float dx,int nb)
{
int i;
int n;
int nctemp5=d->d[0];n =nctemp5;
i =0;
int nctemp13 = (i < n);
while(nctemp13){
{
int nctemp20=i;
d->a[nctemp20] =1.0;
}
int nctemp31 = i + 1;
i =nctemp31;
int nctemp32 = (i < n);
nctemp13=nctemp32;
}
i =0;
int nctemp40 = (i < nb);
while(nctemp40){
{
int nctemp47=i;
int nctemp53=i;
float nctemp68=(float)(i);
float nctemp72 = nctemp68 * dx;
float nctemp77=(float)(nb);
float nctemp81 = nctemp77 * dx;
float nctemp82 = nctemp72 / nctemp81;
float nctemp87=(float)(i);
float nctemp91 = nctemp87 * dx;
float nctemp92 = nctemp82 * nctemp91;
float nctemp97=(float)(nb);
float nctemp101 = nctemp97 * dx;
float nctemp102 = nctemp92 / nctemp101;
float nctemp103 = d->a[nctemp53] * nctemp102;
d->a[nctemp47] =nctemp103;
}
int nctemp112 = i + 1;
i =nctemp112;
int nctemp113 = (i < nb);
nctemp40=nctemp113;
}
int nctemp128 = n - 1;
int nctemp130 = nctemp128 - nb;
i =nctemp130;
int nctemp131 = (i < n);
while(nctemp131){
{
int nctemp138=i;
int nctemp144=i;
int nctemp168 = n - 1;
int nctemp170 = nctemp168 - i;
float nctemp159=(float)(nctemp170);
float nctemp172 = nctemp159 * dx;
float nctemp177=(float)(nb);
float nctemp181 = nctemp177 * dx;
float nctemp182 = nctemp172 / nctemp181;
int nctemp196 = n - 1;
int nctemp198 = nctemp196 - i;
float nctemp187=(float)(nctemp198);
float nctemp200 = nctemp187 * dx;
float nctemp201 = nctemp182 * nctemp200;
float nctemp206=(float)(nb);
float nctemp210 = nctemp206 * dx;
float nctemp211 = nctemp201 / nctemp210;
float nctemp212 = d->a[nctemp144] * nctemp211;
d->a[nctemp138] =nctemp212;
}
int nctemp221 = i + 1;
i =nctemp221;
int nctemp222 = (i < n);
nctemp131=nctemp222;
}
return 1;
}
int Modelslscoeffs2 (nctempfloat2 *Q,nctempfloat2 *modx,nctempfloat2 *mody,nctempfloat2 *coeff1x,nctempfloat2 *coeff1y,nctempfloat2 *coeff2x,nctempfloat2 *coeff2y,struct model* Model)
{
int Nx;
int Ny;
int i;
int j;
float Qmin;
float Qmax;
float argx;
float argy;
float tau0;
float tauemax;
float tauemin;
float tausmax;
float tausmin;
float tauex;
float tausx;
float tauey;
float tausy;
nctempfloat1 *d1;
nctempfloat1 *d2;
nctempfloat1 *taus;
nctempfloat1 *taue;
nctempchar1 *data;
int fd;
Nx =Model->Nx;
Ny =Model->Ny;
int nctemp241=Nx;
nctempfloat1 *nctemp240;
nctemp240=(nctempfloat1*)RunMalloc(sizeof(nctempfloat1));
nctemp240->d[0]=Nx;
nctemp240->a=(float *)RunMalloc(sizeof(float)*nctemp241);
taus=nctemp240;
int nctemp250=Nx;
nctempfloat1 *nctemp249;
nctemp249=(nctempfloat1*)RunMalloc(sizeof(nctempfloat1));
nctemp249->d[0]=Nx;
nctemp249->a=(float *)RunMalloc(sizeof(float)*nctemp250);
taue=nctemp249;
int nctemp259=Nx;
nctempfloat1 *nctemp258;
nctemp258=(nctempfloat1*)RunMalloc(sizeof(nctempfloat1));
nctemp258->d[0]=Nx;
nctemp258->a=(float *)RunMalloc(sizeof(float)*nctemp259);
d1=nctemp258;
int nctemp268=Ny;
nctempfloat1 *nctemp267;
nctemp267=(nctempfloat1*)RunMalloc(sizeof(nctempfloat1));
nctemp267->d[0]=Ny;
nctemp267->a=(float *)RunMalloc(sizeof(float)*nctemp268);
d2=nctemp267;
nctempfloat1* nctemp272= d1;
float nctemp275= Model->Dx;
int nctemp277= Model->Nb;
int nctemp279=Modeld(nctemp272,nctemp275,nctemp277);
nctempfloat1* nctemp281= d2;
float nctemp284= Model->Dx;
int nctemp286= Model->Nb;
int nctemp288=Modeld(nctemp281,nctemp284,nctemp286);
Model->dx=d1;
Model->dy=d2;
j =0;
int nctemp305 = (j < Ny);
while(nctemp305){
{
i =0;
int nctemp313 = (i < Nx);
while(nctemp313){
{
float nctemp325 = 1.0 / Model->W0;
tau0 =nctemp325;
Qmin =1.1;
float nctemp341 = tau0 / Qmin;
float nctemp354 = Qmin * Qmin;
float nctemp356 = nctemp354 + 1.0;
float nctemp346= nctemp356;
float nctemp357=LibeSqrt(nctemp346);
float nctemp359 = nctemp357 + 1.0;
float nctemp360 = nctemp341 * nctemp359;
tauemin =nctemp360;
float nctemp369 = 1.0 / tauemin;
tauemin =nctemp369;
float nctemp381 = tau0 / Qmin;
float nctemp394 = Qmin * Qmin;
float nctemp396 = nctemp394 + 1.0;
float nctemp386= nctemp396;
float nctemp397=LibeSqrt(nctemp386);
float nctemp399 = nctemp397 - 1.0;
float nctemp400 = nctemp381 * nctemp399;
tausmin =nctemp400;
float nctemp409 = 1.0 / tausmin;
tausmin =nctemp409;
int nctemp414=Model->Nb;
nctemp414=j*Q->d[0]+nctemp414;
Qmax =Q->a[nctemp414];
float nctemp428 = tau0 / Qmax;
float nctemp441 = Qmax * Qmax;
float nctemp443 = nctemp441 + 1.0;
float nctemp433= nctemp443;
float nctemp444=LibeSqrt(nctemp433);
float nctemp446 = nctemp444 + 1.0;
float nctemp447 = nctemp428 * nctemp446;
tauemax =nctemp447;
float nctemp456 = 1.0 / tauemax;
tauemax =nctemp456;
float nctemp468 = tau0 / Qmax;
float nctemp481 = Qmax * Qmax;
float nctemp483 = nctemp481 + 1.0;
float nctemp473= nctemp483;
float nctemp484=LibeSqrt(nctemp473);
float nctemp486 = nctemp484 - 1.0;
float nctemp487 = nctemp468 * nctemp486;
tausmax =nctemp487;
float nctemp496 = 1.0 / tausmax;
tausmax =nctemp496;
float nctemp512 = tauemax - tauemin;
int nctemp514=i;
float nctemp516 = nctemp512 * Model->dx->a[nctemp514];
float nctemp517 = tauemin + nctemp516;
tauex =nctemp517;
float nctemp533 = tausmax - tausmin;
int nctemp535=i;
float nctemp537 = nctemp533 * Model->dx->a[nctemp535];
float nctemp538 = tausmin + nctemp537;
tausx =nctemp538;
int nctemp543=i;
nctemp543=Model->Nb*Q->d[0]+nctemp543;
Qmax =Q->a[nctemp543];
float nctemp557 = tau0 / Qmax;
float nctemp570 = Qmax * Qmax;
float nctemp572 = nctemp570 + 1.0;
float nctemp562= nctemp572;
float nctemp573=LibeSqrt(nctemp562);
float nctemp575 = nctemp573 + 1.0;
float nctemp576 = nctemp557 * nctemp575;
tauemax =nctemp576;
float nctemp585 = 1.0 / tauemax;
tauemax =nctemp585;
float nctemp597 = tau0 / Qmax;
float nctemp610 = Qmax * Qmax;
float nctemp612 = nctemp610 + 1.0;
float nctemp602= nctemp612;
float nctemp613=LibeSqrt(nctemp602);
float nctemp615 = nctemp613 - 1.0;
float nctemp616 = nctemp597 * nctemp615;
tausmax =nctemp616;
float nctemp625 = 1.0 / tausmax;
tausmax =nctemp625;
float nctemp641 = tauemax - tauemin;
int nctemp643=j;
float nctemp645 = nctemp641 * Model->dy->a[nctemp643];
float nctemp646 = tauemin + nctemp645;
tauey =nctemp646;
float nctemp662 = tausmax - tausmin;
int nctemp664=j;
float nctemp666 = nctemp662 * Model->dy->a[nctemp664];
float nctemp667 = tausmin + nctemp666;
tausy =nctemp667;
int nctemp672=i;
argx =Model->dx->a[nctemp672];
int nctemp678=j;
argy =Model->dy->a[nctemp678];
int nctemp683=i;
nctemp683=j*coeff1x->d[0]+nctemp683;
float nctemp691= -argx;
float nctemp690= nctemp691;
float nctemp692=LibeExp(nctemp690);
float nctemp697= -Model->Dt;
float nctemp699 = nctemp697 * tausx;
float nctemp694= nctemp699;
float nctemp700=LibeExp(nctemp694);
float nctemp701 = nctemp692 * nctemp700;
coeff1x->a[nctemp683] =nctemp701;
int nctemp705=i;
nctemp705=j*coeff1y->d[0]+nctemp705;
float nctemp713= -argy;
float nctemp712= nctemp713;
float nctemp714=LibeExp(nctemp712);
float nctemp719= -Model->Dt;
float nctemp721 = nctemp719 * tausy;
float nctemp716= nctemp721;
float nctemp722=LibeExp(nctemp716);
float nctemp723 = nctemp714 * nctemp722;
coeff1y->a[nctemp705] =nctemp723;
int nctemp727=i;
nctemp727=j*coeff2x->d[0]+nctemp727;
float nctemp735 = Model->Dt * tauex;
coeff2x->a[nctemp727] =nctemp735;
int nctemp739=i;
nctemp739=j*coeff2y->d[0]+nctemp739;
float nctemp747 = Model->Dt * tauey;
coeff2y->a[nctemp739] =nctemp747;
int nctemp751=i;
nctemp751=j*modx->d[0]+nctemp751;
float nctemp762= -argx;
float nctemp761= nctemp762;
float nctemp763=LibeExp(nctemp761);
int nctemp765=i;
nctemp765=j*modx->d[0]+nctemp765;
float nctemp768 = nctemp763 * modx->a[nctemp765];
float nctemp778 = tausx / tauex;
float nctemp779 = 1.0 - nctemp778;
float nctemp780 = nctemp768 * nctemp779;
modx->a[nctemp751] =nctemp780;
int nctemp784=i;
nctemp784=j*mody->d[0]+nctemp784;
float nctemp795= -argy;
float nctemp794= nctemp795;
float nctemp796=LibeExp(nctemp794);
int nctemp798=i;
nctemp798=j*mody->d[0]+nctemp798;
float nctemp801 = nctemp796 * mody->a[nctemp798];
float nctemp811 = tausy / tauey;
float nctemp812 = 1.0 - nctemp811;
float nctemp813 = nctemp801 * nctemp812;
mody->a[nctemp784] =nctemp813;
}
int nctemp822 = i + 1;
i =nctemp822;
int nctemp823 = (i < Nx);
nctemp313=nctemp823;
}
}
int nctemp835 = j + 1;
j =nctemp835;
int nctemp836 = (j < Ny);
nctemp305=nctemp836;
}
RunFree(d1->a);
RunFree(d1);
RunFree(d2->a);
RunFree(d2);
return 1;
}
int Modelslscoeffs (nctempfloat2 *Qx,nctempfloat2 *Qy,nctempfloat2 *modx,nctempfloat2 *mody,nctempfloat2 *coeff1x,nctempfloat2 *coeff1y,nctempfloat2 *coeff2x,nctempfloat2 *coeff2y,struct model* Model)
{
int Nx;
int Ny;
int i;
int j;
float tau0;
float tauex;
float tauey;
float tausx;
float tausy;
nctempfloat1 *d1;
nctempfloat1 *d2;
float argx;
float argy;
nctempfloat1 *taus;
nctempfloat1 *taue;
nctempchar1 *data;
int fd;
Nx =Model->Nx;
Ny =Model->Ny;
int nctemp861=Nx;
nctempfloat1 *nctemp860;
nctemp860=(nctempfloat1*)RunMalloc(sizeof(nctempfloat1));
nctemp860->d[0]=Nx;
nctemp860->a=(float *)RunMalloc(sizeof(float)*nctemp861);
d1=nctemp860;
int nctemp870=Ny;
nctempfloat1 *nctemp869;
nctemp869=(nctempfloat1*)RunMalloc(sizeof(nctempfloat1));
nctemp869->d[0]=Ny;
nctemp869->a=(float *)RunMalloc(sizeof(float)*nctemp870);
d2=nctemp869;
int nctemp879=Nx;
nctempfloat1 *nctemp878;
nctemp878=(nctempfloat1*)RunMalloc(sizeof(nctempfloat1));
nctemp878->d[0]=Nx;
nctemp878->a=(float *)RunMalloc(sizeof(float)*nctemp879);
taus=nctemp878;
int nctemp888=Nx;
nctempfloat1 *nctemp887;
nctemp887=(nctempfloat1*)RunMalloc(sizeof(nctempfloat1));
nctemp887->d[0]=Nx;
nctemp887->a=(float *)RunMalloc(sizeof(float)*nctemp888);
taue=nctemp887;
nctempfloat1* nctemp892= d1;
float nctemp895= Model->Dx;
int nctemp897= Model->Nb;
int nctemp899=Modeld(nctemp892,nctemp895,nctemp897);
nctempfloat1* nctemp901= d2;
float nctemp904= Model->Dx;
int nctemp906= Model->Nb;
int nctemp908=Modeld(nctemp901,nctemp904,nctemp906);
Model->dx=d1;
Model->dy=d2;
j =0;
int nctemp925 = (j < Ny);
while(nctemp925){
{
i =0;
int nctemp933 = (i < Nx);
while(nctemp933){
{
float nctemp945 = 1.0 / Model->W0;
tau0 =nctemp945;
int nctemp957=i;
nctemp957=j*Qx->d[0]+nctemp957;
float nctemp960 = tau0 / Qx->a[nctemp957];
int nctemp972=i;
nctemp972=j*Qx->d[0]+nctemp972;
int nctemp976=i;
nctemp976=j*Qx->d[0]+nctemp976;
float nctemp979 = Qx->a[nctemp972] * Qx->a[nctemp976];
float nctemp981 = nctemp979 + 1.0;
float nctemp965= nctemp981;
float nctemp982=LibeSqrt(nctemp965);
float nctemp984 = nctemp982 + 1.0;
float nctemp985 = nctemp960 * nctemp984;
tauex =nctemp985;
int nctemp997=i;
nctemp997=j*Qx->d[0]+nctemp997;
float nctemp1000 = tau0 / Qx->a[nctemp997];
int nctemp1012=i;
nctemp1012=j*Qx->d[0]+nctemp1012;
int nctemp1016=i;
nctemp1016=j*Qx->d[0]+nctemp1016;
float nctemp1019 = Qx->a[nctemp1012] * Qx->a[nctemp1016];
float nctemp1021 = nctemp1019 + 1.0;
float nctemp1005= nctemp1021;
float nctemp1022=LibeSqrt(nctemp1005);
float nctemp1024 = nctemp1022 - 1.0;
float nctemp1025 = nctemp1000 * nctemp1024;
tausx =nctemp1025;
int nctemp1037=i;
nctemp1037=j*Qy->d[0]+nctemp1037;
float nctemp1040 = tau0 / Qy->a[nctemp1037];
int nctemp1052=i;
nctemp1052=j*Qy->d[0]+nctemp1052;
int nctemp1056=i;
nctemp1056=j*Qy->d[0]+nctemp1056;
float nctemp1059 = Qy->a[nctemp1052] * Qy->a[nctemp1056];
float nctemp1061 = nctemp1059 + 1.0;
float nctemp1045= nctemp1061;
float nctemp1062=LibeSqrt(nctemp1045);
float nctemp1064 = nctemp1062 + 1.0;
float nctemp1065 = nctemp1040 * nctemp1064;
tauey =nctemp1065;
int nctemp1077=i;
nctemp1077=j*Qy->d[0]+nctemp1077;
float nctemp1080 = tau0 / Qy->a[nctemp1077];
int nctemp1092=i;
nctemp1092=j*Qy->d[0]+nctemp1092;
int nctemp1096=i;
nctemp1096=j*Qy->d[0]+nctemp1096;
float nctemp1099 = Qy->a[nctemp1092] * Qy->a[nctemp1096];
float nctemp1101 = nctemp1099 + 1.0;
float nctemp1085= nctemp1101;
float nctemp1102=LibeSqrt(nctemp1085);
float nctemp1104 = nctemp1102 - 1.0;
float nctemp1105 = nctemp1080 * nctemp1104;
tausy =nctemp1105;
float nctemp1114 = 1.0 / tauex;
tauex =nctemp1114;
float nctemp1123 = 1.0 / tauey;
tauey =nctemp1123;
float nctemp1132 = 1.0 / tausx;
tausx =nctemp1132;
float nctemp1141 = 1.0 / tausy;
tausy =nctemp1141;
int nctemp1146=i;
argx =Model->dx->a[nctemp1146];
int nctemp1152=j;
argy =Model->dy->a[nctemp1152];
int nctemp1157=i;
nctemp1157=j*coeff1x->d[0]+nctemp1157;
float nctemp1164= -Model->Dt;
float nctemp1166 = nctemp1164 * tausx;
float nctemp1161= nctemp1166;
float nctemp1167=LibeExp(nctemp1161);
coeff1x->a[nctemp1157] =nctemp1167;
int nctemp1171=i;
nctemp1171=j*coeff1y->d[0]+nctemp1171;
float nctemp1178= -Model->Dt;
float nctemp1180 = nctemp1178 * tausy;
float nctemp1175= nctemp1180;
float nctemp1181=LibeExp(nctemp1175);
coeff1y->a[nctemp1171] =nctemp1181;
int nctemp1185=i;
nctemp1185=j*coeff2x->d[0]+nctemp1185;
float nctemp1193 = Model->Dt * tauex;
coeff2x->a[nctemp1185] =nctemp1193;
int nctemp1197=i;
nctemp1197=j*coeff2y->d[0]+nctemp1197;
float nctemp1205 = Model->Dt * tauey;
coeff2y->a[nctemp1197] =nctemp1205;
int nctemp1209=i;
int nctemp1212=i;
nctemp1212=j*coeff2x->d[0]+nctemp1212;
taus->a[nctemp1209] =coeff2x->a[nctemp1212];
int nctemp1218=j;
int nctemp1221=i;
nctemp1221=j*coeff2y->d[0]+nctemp1221;
taue->a[nctemp1218] =coeff2y->a[nctemp1221];
int nctemp1227=i;
nctemp1227=j*modx->d[0]+nctemp1227;
int nctemp1234=i;
nctemp1234=j*modx->d[0]+nctemp1234;
float nctemp1246 = tausx / tauex;
float nctemp1247 = 1.0 - nctemp1246;
float nctemp1248 = modx->a[nctemp1234] * nctemp1247;
modx->a[nctemp1227] =nctemp1248;
int nctemp1252=i;
nctemp1252=j*mody->d[0]+nctemp1252;
int nctemp1259=i;
nctemp1259=j*mody->d[0]+nctemp1259;
float nctemp1271 = tausy / tauey;
float nctemp1272 = 1.0 - nctemp1271;
float nctemp1273 = mody->a[nctemp1259] * nctemp1272;
mody->a[nctemp1252] =nctemp1273;
}
int nctemp1282 = i + 1;
i =nctemp1282;
int nctemp1283 = (i < Nx);
nctemp933=nctemp1283;
}
}
int nctemp1295 = j + 1;
j =nctemp1295;
int nctemp1296 = (j < Ny);
nctemp925=nctemp1296;
}
RunFree(d1->a);
RunFree(d1);
RunFree(d2->a);
RunFree(d2);
nctempchar1 nctemp1312;
nctempchar1 *nctemp1311;
nctemp1312=*(nctempchar1*)(taus);
int nctemp1319 = 4 * Nx;
nctemp1312.d[0]=nctemp1319;
nctemp1311=&nctemp1312;
data=nctemp1311;
struct nctempchar1 *nctemp1326;
static struct nctempchar1 nctemp1327 = {{ 9}, (char*)"taus.bin\0"};
nctemp1326=&nctemp1327;
nctempchar1* nctemp1324= nctemp1326;
struct nctempchar1 *nctemp1330;
static struct nctempchar1 nctemp1331 = {{ 2}, (char*)"w\0"};
nctemp1330=&nctemp1331;
nctempchar1* nctemp1328= nctemp1330;
int nctemp1332=LibeOpen(nctemp1324,nctemp1328);
fd =nctemp1332;
int nctemp1334= fd;
int nctemp1341 = 4 * Nx;
int nctemp1336= nctemp1341;
nctempchar1* nctemp1342= data;
int nctemp1345=LibeWrite(nctemp1334,nctemp1336,nctemp1342);
int nctemp1347= fd;
int nctemp1349=LibeClose(nctemp1347);
nctempchar1 nctemp1356;
nctempchar1 *nctemp1355;
nctemp1356=*(nctempchar1*)(taue);
int nctemp1363 = 4 * Nx;
nctemp1356.d[0]=nctemp1363;
nctemp1355=&nctemp1356;
data=nctemp1355;
struct nctempchar1 *nctemp1370;
static struct nctempchar1 nctemp1371 = {{ 9}, (char*)"taue.bin\0"};
nctemp1370=&nctemp1371;
nctempchar1* nctemp1368= nctemp1370;
struct nctempchar1 *nctemp1374;
static struct nctempchar1 nctemp1375 = {{ 2}, (char*)"w\0"};
nctemp1374=&nctemp1375;
nctempchar1* nctemp1372= nctemp1374;
int nctemp1376=LibeOpen(nctemp1368,nctemp1372);
fd =nctemp1376;
int nctemp1378= fd;
int nctemp1385 = 4 * Nx;
int nctemp1380= nctemp1385;
nctempchar1* nctemp1386= data;
int nctemp1389=LibeWrite(nctemp1378,nctemp1380,nctemp1386);
int nctemp1391= fd;
int nctemp1393=LibeClose(nctemp1391);
return 1;
}
struct model* Modelsls (nctempfloat2 *vp,nctempfloat2 *vs,nctempfloat2 *rho,nctempfloat2 *Qlx,nctempfloat2 *Qly,nctempfloat2 *Qmx,nctempfloat2 *Qmy,nctempfloat2 *Qpx,nctempfloat2 *Qpy,nctempfloat2 *Qsx,nctempfloat2 *Qsy,float Dx,float Dt,float W0,int Nb)
{
struct model* Model;
int Nx;
int Ny;
int i;
int j;
int fd;
int dsize;
nctempchar1 *data;
struct model *nctemp1399=(struct model*)RunMalloc(sizeof(struct model));
Model =nctemp1399;
Model->Dx =Dx;
Model->Dt =Dt;
int nctemp1413=vp->d[0];Model->Nx =nctemp1413;
int nctemp1421=vp->d[1];Model->Ny =nctemp1421;
Model->Nb =Nb;
Model->W0 =W0;
Nx =Model->Nx;
Ny =Model->Ny;
Model->Qlx=Qlx;
Model->Qly=Qly;
Model->Qmx=Qlx;
Model->Qmy=Qly;
Model->Qpx=Qpx;
Model->Qpy=Qpy;
Model->Qsx=Qsx;
Model->Qsy=Qsy;
int nctemp1495=Nx;
nctemp1495=nctemp1495*Ny;
nctempfloat2 *nctemp1494;
nctemp1494=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp1494->d[0]=Nx;
nctemp1494->d[1]=Ny;
nctemp1494->a=(float *)RunMalloc(sizeof(float)*nctemp1495);
Model->Rho=nctemp1494;
int nctemp1506=Nx;
nctemp1506=nctemp1506*Ny;
nctempfloat2 *nctemp1505;
nctemp1505=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp1505->d[0]=Nx;
nctemp1505->d[1]=Ny;
nctemp1505->a=(float *)RunMalloc(sizeof(float)*nctemp1506);
Model->Mu=nctemp1505;
int nctemp1517=Nx;
nctemp1517=nctemp1517*Ny;
nctempfloat2 *nctemp1516;
nctemp1516=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp1516->d[0]=Nx;
nctemp1516->d[1]=Ny;
nctemp1516->a=(float *)RunMalloc(sizeof(float)*nctemp1517);
Model->Lambda=nctemp1516;
int nctemp1528=Nx;
nctemp1528=nctemp1528*Ny;
nctempfloat2 *nctemp1527;
nctemp1527=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp1527->d[0]=Nx;
nctemp1527->d[1]=Ny;
nctemp1527->a=(float *)RunMalloc(sizeof(float)*nctemp1528);
Model->Dlambdax=nctemp1527;
int nctemp1539=Nx;
nctemp1539=nctemp1539*Ny;
nctempfloat2 *nctemp1538;
nctemp1538=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp1538->d[0]=Nx;
nctemp1538->d[1]=Ny;
nctemp1538->a=(float *)RunMalloc(sizeof(float)*nctemp1539);
Model->Dlambday=nctemp1538;
int nctemp1550=Nx;
nctemp1550=nctemp1550*Ny;
nctempfloat2 *nctemp1549;
nctemp1549=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp1549->d[0]=Nx;
nctemp1549->d[1]=Ny;
nctemp1549->a=(float *)RunMalloc(sizeof(float)*nctemp1550);
Model->Dmux=nctemp1549;
int nctemp1561=Nx;
nctemp1561=nctemp1561*Ny;
nctempfloat2 *nctemp1560;
nctemp1560=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp1560->d[0]=Nx;
nctemp1560->d[1]=Ny;
nctemp1560->a=(float *)RunMalloc(sizeof(float)*nctemp1561);
Model->Dmuy=nctemp1560;
int nctemp1572=Nx;
nctemp1572=nctemp1572*Ny;
nctempfloat2 *nctemp1571;
nctemp1571=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp1571->d[0]=Nx;
nctemp1571->d[1]=Ny;
nctemp1571->a=(float *)RunMalloc(sizeof(float)*nctemp1572);
Model->Drhopx=nctemp1571;
int nctemp1583=Nx;
nctemp1583=nctemp1583*Ny;
nctempfloat2 *nctemp1582;
nctemp1582=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp1582->d[0]=Nx;
nctemp1582->d[1]=Ny;
nctemp1582->a=(float *)RunMalloc(sizeof(float)*nctemp1583);
Model->Drhopy=nctemp1582;
int nctemp1594=Nx;
nctemp1594=nctemp1594*Ny;
nctempfloat2 *nctemp1593;
nctemp1593=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp1593->d[0]=Nx;
nctemp1593->d[1]=Ny;
nctemp1593->a=(float *)RunMalloc(sizeof(float)*nctemp1594);
Model->Drhosx=nctemp1593;
int nctemp1605=Nx;
nctemp1605=nctemp1605*Ny;
nctempfloat2 *nctemp1604;
nctemp1604=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp1604->d[0]=Nx;
nctemp1604->d[1]=Ny;
nctemp1604->a=(float *)RunMalloc(sizeof(float)*nctemp1605);
Model->Drhosy=nctemp1604;
int nctemp1616=Nx;
nctemp1616=nctemp1616*Ny;
nctempfloat2 *nctemp1615;
nctemp1615=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp1615->d[0]=Nx;
nctemp1615->d[1]=Ny;
nctemp1615->a=(float *)RunMalloc(sizeof(float)*nctemp1616);
Model->Alpha1x=nctemp1615;
int nctemp1627=Nx;
nctemp1627=nctemp1627*Ny;
nctempfloat2 *nctemp1626;
nctemp1626=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp1626->d[0]=Nx;
nctemp1626->d[1]=Ny;
nctemp1626->a=(float *)RunMalloc(sizeof(float)*nctemp1627);
Model->Alpha1y=nctemp1626;
int nctemp1638=Nx;
nctemp1638=nctemp1638*Ny;
nctempfloat2 *nctemp1637;
nctemp1637=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp1637->d[0]=Nx;
nctemp1637->d[1]=Ny;
nctemp1637->a=(float *)RunMalloc(sizeof(float)*nctemp1638);
Model->Alpha2x=nctemp1637;
int nctemp1649=Nx;
nctemp1649=nctemp1649*Ny;
nctempfloat2 *nctemp1648;
nctemp1648=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp1648->d[0]=Nx;
nctemp1648->d[1]=Ny;
nctemp1648->a=(float *)RunMalloc(sizeof(float)*nctemp1649);
Model->Alpha2y=nctemp1648;
int nctemp1660=Nx;
nctemp1660=nctemp1660*Ny;
nctempfloat2 *nctemp1659;
nctemp1659=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp1659->d[0]=Nx;
nctemp1659->d[1]=Ny;
nctemp1659->a=(float *)RunMalloc(sizeof(float)*nctemp1660);
Model->Beta1x=nctemp1659;
int nctemp1671=Nx;
nctemp1671=nctemp1671*Ny;
nctempfloat2 *nctemp1670;
nctemp1670=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp1670->d[0]=Nx;
nctemp1670->d[1]=Ny;
nctemp1670->a=(float *)RunMalloc(sizeof(float)*nctemp1671);
Model->Beta1y=nctemp1670;
int nctemp1682=Nx;
nctemp1682=nctemp1682*Ny;
nctempfloat2 *nctemp1681;
nctemp1681=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp1681->d[0]=Nx;
nctemp1681->d[1]=Ny;
nctemp1681->a=(float *)RunMalloc(sizeof(float)*nctemp1682);
Model->Beta2x=nctemp1681;
int nctemp1693=Nx;
nctemp1693=nctemp1693*Ny;
nctempfloat2 *nctemp1692;
nctemp1692=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp1692->d[0]=Nx;
nctemp1692->d[1]=Ny;
nctemp1692->a=(float *)RunMalloc(sizeof(float)*nctemp1693);
Model->Beta2y=nctemp1692;
int nctemp1704=Nx;
nctemp1704=nctemp1704*Ny;
nctempfloat2 *nctemp1703;
nctemp1703=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp1703->d[0]=Nx;
nctemp1703->d[1]=Ny;
nctemp1703->a=(float *)RunMalloc(sizeof(float)*nctemp1704);
Model->Eta1x=nctemp1703;
int nctemp1715=Nx;
nctemp1715=nctemp1715*Ny;
nctempfloat2 *nctemp1714;
nctemp1714=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp1714->d[0]=Nx;
nctemp1714->d[1]=Ny;
nctemp1714->a=(float *)RunMalloc(sizeof(float)*nctemp1715);
Model->Eta1y=nctemp1714;
int nctemp1726=Nx;
nctemp1726=nctemp1726*Ny;
nctempfloat2 *nctemp1725;
nctemp1725=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp1725->d[0]=Nx;
nctemp1725->d[1]=Ny;
nctemp1725->a=(float *)RunMalloc(sizeof(float)*nctemp1726);
Model->Eta2x=nctemp1725;
int nctemp1737=Nx;
nctemp1737=nctemp1737*Ny;
nctempfloat2 *nctemp1736;
nctemp1736=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp1736->d[0]=Nx;
nctemp1736->d[1]=Ny;
nctemp1736->a=(float *)RunMalloc(sizeof(float)*nctemp1737);
Model->Eta2y=nctemp1736;
int nctemp1748=Nx;
nctemp1748=nctemp1748*Ny;
nctempfloat2 *nctemp1747;
nctemp1747=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp1747->d[0]=Nx;
nctemp1747->d[1]=Ny;
nctemp1747->a=(float *)RunMalloc(sizeof(float)*nctemp1748);
Model->Nu1x=nctemp1747;
int nctemp1759=Nx;
nctemp1759=nctemp1759*Ny;
nctempfloat2 *nctemp1758;
nctemp1758=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp1758->d[0]=Nx;
nctemp1758->d[1]=Ny;
nctemp1758->a=(float *)RunMalloc(sizeof(float)*nctemp1759);
Model->Nu1y=nctemp1758;
int nctemp1770=Nx;
nctemp1770=nctemp1770*Ny;
nctempfloat2 *nctemp1769;
nctemp1769=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp1769->d[0]=Nx;
nctemp1769->d[1]=Ny;
nctemp1769->a=(float *)RunMalloc(sizeof(float)*nctemp1770);
Model->Nu2x=nctemp1769;
int nctemp1781=Nx;
nctemp1781=nctemp1781*Ny;
nctempfloat2 *nctemp1780;
nctemp1780=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp1780->d[0]=Nx;
nctemp1780->d[1]=Ny;
nctemp1780->a=(float *)RunMalloc(sizeof(float)*nctemp1781);
Model->Nu2y=nctemp1780;
j =0;
int nctemp1790 = (j < Ny);
while(nctemp1790){
{
i =0;
int nctemp1798 = (i < Nx);
while(nctemp1798){
{
int nctemp1805=i;
nctemp1805=j*Model->Rho->d[0]+nctemp1805;
int nctemp1813=i;
nctemp1813=j*rho->d[0]+nctemp1813;
float nctemp1816 = 1.0 / rho->a[nctemp1813];
Model->Rho->a[nctemp1805] =nctemp1816;
int nctemp1820=i;
nctemp1820=j*Model->Mu->d[0]+nctemp1820;
int nctemp1830=i;
nctemp1830=j*rho->d[0]+nctemp1830;
int nctemp1834=i;
nctemp1834=j*vs->d[0]+nctemp1834;
float nctemp1837 = rho->a[nctemp1830] * vs->a[nctemp1834];
int nctemp1839=i;
nctemp1839=j*vs->d[0]+nctemp1839;
float nctemp1842 = nctemp1837 * vs->a[nctemp1839];
Model->Mu->a[nctemp1820] =nctemp1842;
int nctemp1846=i;
nctemp1846=j*Model->Lambda->d[0]+nctemp1846;
int nctemp1853=i;
nctemp1853=j*rho->d[0]+nctemp1853;
int nctemp1863=i;
nctemp1863=j*vp->d[0]+nctemp1863;
int nctemp1867=i;
nctemp1867=j*vp->d[0]+nctemp1867;
float nctemp1870 = vp->a[nctemp1863] * vp->a[nctemp1867];
int nctemp1879=i;
nctemp1879=j*vs->d[0]+nctemp1879;
float nctemp1882 = 2.0 * vs->a[nctemp1879];
int nctemp1884=i;
nctemp1884=j*vs->d[0]+nctemp1884;
float nctemp1887 = nctemp1882 * vs->a[nctemp1884];
float nctemp1888 = nctemp1870 - nctemp1887;
float nctemp1889 = rho->a[nctemp1853] * nctemp1888;
Model->Lambda->a[nctemp1846] =nctemp1889;
int nctemp1893=i;
nctemp1893=j*Model->Alpha1x->d[0]+nctemp1893;
Model->Alpha1x->a[nctemp1893] =0.0;
int nctemp1900=i;
nctemp1900=j*Model->Alpha1y->d[0]+nctemp1900;
Model->Alpha1y->a[nctemp1900] =0.0;
int nctemp1907=i;
nctemp1907=j*Model->Alpha2x->d[0]+nctemp1907;
Model->Alpha2x->a[nctemp1907] =0.0;
int nctemp1914=i;
nctemp1914=j*Model->Alpha2y->d[0]+nctemp1914;
Model->Alpha2y->a[nctemp1914] =0.0;
int nctemp1921=i;
nctemp1921=j*Model->Beta1x->d[0]+nctemp1921;
Model->Beta1x->a[nctemp1921] =0.0;
int nctemp1928=i;
nctemp1928=j*Model->Beta1y->d[0]+nctemp1928;
Model->Beta1y->a[nctemp1928] =0.0;
int nctemp1935=i;
nctemp1935=j*Model->Beta2x->d[0]+nctemp1935;
Model->Beta2x->a[nctemp1935] =0.0;
int nctemp1942=i;
nctemp1942=j*Model->Beta2y->d[0]+nctemp1942;
Model->Beta2y->a[nctemp1942] =0.0;
int nctemp1949=i;
nctemp1949=j*Model->Eta1x->d[0]+nctemp1949;
Model->Eta1x->a[nctemp1949] =0.0;
int nctemp1956=i;
nctemp1956=j*Model->Eta1y->d[0]+nctemp1956;
Model->Eta1y->a[nctemp1956] =0.0;
int nctemp1963=i;
nctemp1963=j*Model->Eta2x->d[0]+nctemp1963;
Model->Eta2x->a[nctemp1963] =0.0;
int nctemp1970=i;
nctemp1970=j*Model->Eta2y->d[0]+nctemp1970;
Model->Eta2y->a[nctemp1970] =0.0;
int nctemp1977=i;
nctemp1977=j*Model->Dlambdax->d[0]+nctemp1977;
int nctemp1981=i;
nctemp1981=j*Model->Lambda->d[0]+nctemp1981;
Model->Dlambdax->a[nctemp1977] =Model->Lambda->a[nctemp1981];
int nctemp1987=i;
nctemp1987=j*Model->Dlambday->d[0]+nctemp1987;
int nctemp1991=i;
nctemp1991=j*Model->Lambda->d[0]+nctemp1991;
Model->Dlambday->a[nctemp1987] =Model->Lambda->a[nctemp1991];
int nctemp1997=i;
nctemp1997=j*Model->Dmux->d[0]+nctemp1997;
int nctemp2001=i;
nctemp2001=j*Model->Mu->d[0]+nctemp2001;
Model->Dmux->a[nctemp1997] =Model->Mu->a[nctemp2001];
int nctemp2007=i;
nctemp2007=j*Model->Dmuy->d[0]+nctemp2007;
int nctemp2011=i;
nctemp2011=j*Model->Mu->d[0]+nctemp2011;
Model->Dmuy->a[nctemp2007] =Model->Mu->a[nctemp2011];
int nctemp2017=i;
nctemp2017=j*Model->Drhopx->d[0]+nctemp2017;
int nctemp2021=i;
nctemp2021=j*Model->Rho->d[0]+nctemp2021;
Model->Drhopx->a[nctemp2017] =Model->Rho->a[nctemp2021];
int nctemp2027=i;
nctemp2027=j*Model->Drhopy->d[0]+nctemp2027;
int nctemp2031=i;
nctemp2031=j*Model->Rho->d[0]+nctemp2031;
Model->Drhopy->a[nctemp2027] =Model->Rho->a[nctemp2031];
int nctemp2037=i;
nctemp2037=j*Model->Drhosx->d[0]+nctemp2037;
int nctemp2041=i;
nctemp2041=j*Model->Rho->d[0]+nctemp2041;
Model->Drhosx->a[nctemp2037] =Model->Rho->a[nctemp2041];
int nctemp2047=i;
nctemp2047=j*Model->Drhosy->d[0]+nctemp2047;
int nctemp2051=i;
nctemp2051=j*Model->Rho->d[0]+nctemp2051;
Model->Drhosy->a[nctemp2047] =Model->Rho->a[nctemp2051];
}
int nctemp2062 = i + 1;
i =nctemp2062;
int nctemp2063 = (i < Nx);
nctemp1798=nctemp2063;
}
}
int nctemp2075 = j + 1;
j =nctemp2075;
int nctemp2076 = (j < Ny);
nctemp1790=nctemp2076;
}
nctempfloat2* nctemp2081= Model->Qlx;
nctempfloat2* nctemp2084= Model->Dlambdax;
nctempfloat2* nctemp2087= Model->Dlambday;
nctempfloat2* nctemp2090= Model->Alpha1x;
nctempfloat2* nctemp2093= Model->Alpha1y;
nctempfloat2* nctemp2096= Model->Alpha2x;
nctempfloat2* nctemp2099= Model->Alpha2y;
struct model* nctemp2102= Model;
int nctemp2104=Modelslscoeffs2(nctemp2081,nctemp2084,nctemp2087,nctemp2090,nctemp2093,nctemp2096,nctemp2099,nctemp2102);
nctempfloat2* nctemp2106= Model->Qmx;
nctempfloat2* nctemp2109= Model->Dmux;
nctempfloat2* nctemp2112= Model->Dmuy;
nctempfloat2* nctemp2115= Model->Beta1x;
nctempfloat2* nctemp2118= Model->Beta1y;
nctempfloat2* nctemp2121= Model->Beta2x;
nctempfloat2* nctemp2124= Model->Beta2y;
struct model* nctemp2127= Model;
int nctemp2129=Modelslscoeffs2(nctemp2106,nctemp2109,nctemp2112,nctemp2115,nctemp2118,nctemp2121,nctemp2124,nctemp2127);
nctempfloat2* nctemp2131= Model->Qpx;
nctempfloat2* nctemp2134= Model->Drhopx;
nctempfloat2* nctemp2137= Model->Drhopy;
nctempfloat2* nctemp2140= Model->Eta1x;
nctempfloat2* nctemp2143= Model->Eta1y;
nctempfloat2* nctemp2146= Model->Eta2x;
nctempfloat2* nctemp2149= Model->Eta2y;
struct model* nctemp2152= Model;
int nctemp2154=Modelslscoeffs2(nctemp2131,nctemp2134,nctemp2137,nctemp2140,nctemp2143,nctemp2146,nctemp2149,nctemp2152);
nctempfloat2* nctemp2156= Model->Qsx;
nctempfloat2* nctemp2159= Model->Drhosx;
nctempfloat2* nctemp2162= Model->Drhosy;
nctempfloat2* nctemp2165= Model->Nu1x;
nctempfloat2* nctemp2168= Model->Nu1y;
nctempfloat2* nctemp2171= Model->Nu2x;
nctempfloat2* nctemp2174= Model->Nu2y;
struct model* nctemp2177= Model;
int nctemp2179=Modelslscoeffs2(nctemp2156,nctemp2159,nctemp2162,nctemp2165,nctemp2168,nctemp2171,nctemp2174,nctemp2177);
return Model;
}
struct model* ModelNew (nctempfloat2 *vp,nctempfloat2 *vs,nctempfloat2 *rho,nctempfloat2 *Qlx,nctempfloat2 *Qly,nctempfloat2 *Qmx,nctempfloat2 *Qmy,nctempfloat2 *Qpx,nctempfloat2 *Qpy,nctempfloat2 *Qsx,nctempfloat2 *Qsy,float Dx,float Dt,float W0,int Nb,int Rheol)
{
struct model* m;
struct nctempchar1 *nctemp2184;
static struct nctempchar1 nctemp2185 = {{ 8}, (char*)"Rheol: \0"};
nctemp2184=&nctemp2185;
nctempchar1* nctemp2182= nctemp2184;
int nctemp2186=LibePs(nctemp2182);
int nctemp2188= Rheol;
int nctemp2190=LibePi(nctemp2188);
struct nctempchar1 *nctemp2194;
static struct nctempchar1 nctemp2195 = {{ 3}, (char*)"\n\0"};
nctemp2194=&nctemp2195;
nctempchar1* nctemp2192= nctemp2194;
int nctemp2196=LibePs(nctemp2192);
int nctemp2197 = (Rheol ==2);
if(nctemp2197)
{
nctempfloat2* nctemp2205= vp;
nctempfloat2* nctemp2208= vs;
nctempfloat2* nctemp2211= rho;
nctempfloat2* nctemp2214= Qlx;
nctempfloat2* nctemp2217= Qly;
nctempfloat2* nctemp2220= Qmx;
nctempfloat2* nctemp2223= Qmy;
nctempfloat2* nctemp2226= Qpx;
nctempfloat2* nctemp2229= Qpy;
nctempfloat2* nctemp2232= Qsx;
nctempfloat2* nctemp2235= Qsy;
float nctemp2238= Dx;
float nctemp2240= Dt;
float nctemp2242= W0;
int nctemp2244= Nb;
struct model* nctemp2246=Modelsls(nctemp2205,nctemp2208,nctemp2211,nctemp2214,nctemp2217,nctemp2220,nctemp2223,nctemp2226,nctemp2229,nctemp2232,nctemp2235,nctemp2238,nctemp2240,nctemp2242,nctemp2244);
m =nctemp2246;
}
else{
int nctemp2248= 4;
struct nctempchar1 *nctemp2252;
static struct nctempchar1 nctemp2253 = {{ 18}, (char*)"Unknown Q-model\n\0"};
nctemp2252=&nctemp2253;
nctempchar1* nctemp2250= nctemp2252;
int nctemp2254=LibePuts(nctemp2248,nctemp2250);
int nctemp2256= 4;
int nctemp2258=LibeFlush(nctemp2256);
int nctemp2260=LibeExit();
}
return m;
}
float ModelStability (struct model* Model)
{
int nx;
int ny;
int i;
int j;
float vp;
float stab;
nx =Model->Nx;
ny =Model->Ny;
j =0;
int nctemp2274 = (j < ny);
while(nctemp2274){
{
i =0;
int nctemp2282 = (i < nx);
while(nctemp2282){
{
int nctemp2297=i;
nctemp2297=j*Model->Lambda->d[0]+nctemp2297;
int nctemp2305=i;
nctemp2305=j*Model->Mu->d[0]+nctemp2305;
float nctemp2308 = 2.0 * Model->Mu->a[nctemp2305];
float nctemp2309 = Model->Lambda->a[nctemp2297] + nctemp2308;
int nctemp2311=i;
nctemp2311=j*Model->Rho->d[0]+nctemp2311;
float nctemp2314 = nctemp2309 / Model->Rho->a[nctemp2311];
float nctemp2290= nctemp2314;
float nctemp2315=LibeSqrt(nctemp2290);
vp =nctemp2315;
float nctemp2327 = vp * Model->Dt;
float nctemp2329 = nctemp2327 / Model->Dx;
stab =nctemp2329;
float nctemp2338= 2.0;
float nctemp2340=LibeSqrt(nctemp2338);
float nctemp2341 = 1.0 / nctemp2340;
int nctemp2330 = (stab > nctemp2341);
if(nctemp2330)
{
int nctemp2343= 4;
struct nctempchar1 *nctemp2347;
static struct nctempchar1 nctemp2348 = {{ 28}, (char*)"Stability index too large! \0"};
nctemp2347=&nctemp2348;
nctempchar1* nctemp2345= nctemp2347;
int nctemp2349=LibePuts(nctemp2343,nctemp2345);
int nctemp2351= 4;
float nctemp2353= stab;
struct nctempchar1 *nctemp2357;
static struct nctempchar1 nctemp2358 = {{ 2}, (char*)"g\0"};
nctemp2357=&nctemp2358;
nctempchar1* nctemp2355= nctemp2357;
int nctemp2359=LibePutf(nctemp2351,nctemp2353,nctemp2355);
int nctemp2361= 4;
struct nctempchar1 *nctemp2365;
static struct nctempchar1 nctemp2366 = {{ 3}, (char*)"\n\0"};
nctemp2365=&nctemp2366;
nctempchar1* nctemp2363= nctemp2365;
int nctemp2367=LibePuts(nctemp2361,nctemp2363);
int nctemp2369= 4;
struct nctempchar1 *nctemp2373;
static struct nctempchar1 nctemp2374 = {{ 7}, (char*)"vp: \n\0"};
nctemp2373=&nctemp2374;
nctempchar1* nctemp2371= nctemp2373;
int nctemp2375=LibePuts(nctemp2369,nctemp2371);
int nctemp2377= 4;
float nctemp2379= vp;
struct nctempchar1 *nctemp2383;
static struct nctempchar1 nctemp2384 = {{ 2}, (char*)"g\0"};
nctemp2383=&nctemp2384;
nctempchar1* nctemp2381= nctemp2383;
int nctemp2385=LibePutf(nctemp2377,nctemp2379,nctemp2381);
int nctemp2387= 4;
struct nctempchar1 *nctemp2391;
static struct nctempchar1 nctemp2392 = {{ 3}, (char*)"\n\0"};
nctemp2391=&nctemp2392;
nctempchar1* nctemp2389= nctemp2391;
int nctemp2393=LibePuts(nctemp2387,nctemp2389);
int nctemp2395= 4;
struct nctempchar1 *nctemp2399;
static struct nctempchar1 nctemp2400 = {{ 7}, (char*)"dt: \n\0"};
nctemp2399=&nctemp2400;
nctempchar1* nctemp2397= nctemp2399;
int nctemp2401=LibePuts(nctemp2395,nctemp2397);
int nctemp2403= 4;
float nctemp2405= Model->Dt;
struct nctempchar1 *nctemp2409;
static struct nctempchar1 nctemp2410 = {{ 2}, (char*)"g\0"};
nctemp2409=&nctemp2410;
nctempchar1* nctemp2407= nctemp2409;
int nctemp2411=LibePutf(nctemp2403,nctemp2405,nctemp2407);
int nctemp2413= 4;
struct nctempchar1 *nctemp2417;
static struct nctempchar1 nctemp2418 = {{ 3}, (char*)"\n\0"};
nctemp2417=&nctemp2418;
nctempchar1* nctemp2415= nctemp2417;
int nctemp2419=LibePuts(nctemp2413,nctemp2415);
int nctemp2421= 4;
struct nctempchar1 *nctemp2425;
static struct nctempchar1 nctemp2426 = {{ 7}, (char*)"dx: \n\0"};
nctemp2425=&nctemp2426;
nctempchar1* nctemp2423= nctemp2425;
int nctemp2427=LibePuts(nctemp2421,nctemp2423);
int nctemp2429= 4;
float nctemp2431= Model->Dx;
struct nctempchar1 *nctemp2435;
static struct nctempchar1 nctemp2436 = {{ 2}, (char*)"g\0"};
nctemp2435=&nctemp2436;
nctempchar1* nctemp2433= nctemp2435;
int nctemp2437=LibePutf(nctemp2429,nctemp2431,nctemp2433);
int nctemp2439= 4;
struct nctempchar1 *nctemp2443;
static struct nctempchar1 nctemp2444 = {{ 3}, (char*)"\n\0"};
nctemp2443=&nctemp2444;
nctempchar1* nctemp2441= nctemp2443;
int nctemp2445=LibePuts(nctemp2439,nctemp2441);
int nctemp2447= 4;
int nctemp2449=LibeFlush(nctemp2447);
}
}
int nctemp2458 = i + 1;
i =nctemp2458;
int nctemp2459 = (i < nx);
nctemp2282=nctemp2459;
}
}
int nctemp2471 = j + 1;
j =nctemp2471;
int nctemp2472 = (j < ny);
nctemp2274=nctemp2472;
}
return stab;
}
