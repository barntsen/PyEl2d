/*  Translated by epsc  version today */
#include <stddef.h>
typedef struct { float r; float i;} complex; 
typedef struct nctempfloat1 { int d[1]; float *a;} nctempfloat1; 
typedef struct nctempint1 { int d[1]; int *a;} nctempint1; 
typedef struct nctempchar1 { int d[1]; char *a;} nctempchar1; 
typedef struct nctempcomplex1 { int d[1]; complex *a;} nctempcomplex1; 
typedef struct nctempfloat2 { int d[2]; float *a;} nctempfloat2; 
typedef struct nctempint2 { int d[2]; int *a;} nctempint2; 
typedef struct nctempchar2 { int d[2]; char *a;} nctempchar2; 
typedef struct nctempcomplex2 { int d[2]; complex *a;} nctempcomplex2; 
typedef struct nctempfloat3 { int d[3]; float *a;} nctempfloat3; 
typedef struct nctempint3 { int d[3]; int *a;} nctempint3; 
typedef struct nctempchar3 { int d[3]; char *a;} nctempchar3; 
typedef struct nctempcomplex3 { int d[3]; complex *a;} nctempcomplex3; 
typedef struct nctempfloat4 { int d[4]; float *a;} nctempfloat4; 
typedef struct nctempint4 { int d[4]; int *a;} nctempint4; 
typedef struct nctempchar4 { int d[4]; char *a;} nctempchar4; 
typedef struct nctempcomplex4 { int d[4]; complex *a;} nctempcomplex4; 
#include <stdlib.h>
#include <string.h>
void *RunMalloc(int n); 
int RunFree(void *n); 
int LibeArrayex (int line,nctempchar1 *name,int ival,int index,int bound);
int LibeClearerr ();
int LibeGeterrno ();
nctempchar1* LibeGeterrstr ();
struct MainArg {nctempchar1 *arg;
};
typedef struct nctempMainArg1 {int d[1]; struct MainArg *a; } nctempMainArg1;
struct nctempMainArg2 {int d[2]; struct MainArg *a; } ;
struct nctempMainArg3 {int d[3]; struct MainArg *a; } ;
struct nctempMainArg4 {int d[4]; struct MainArg *a; } ;
int Main (struct nctempMainArg1 *MainArgs);
int LibeInit ();
int LibeDelete ();
int LibeExit ();
nctempchar1* LibeGetenv (nctempchar1 *name);
int LibeOpen (nctempchar1 *name,nctempchar1 *mode);
int LibeClose (int fp);
int LibeGetc (int fp);
int LibeUngetc (int fp);
int LibeGetw (int fp,nctempchar1 *text);
int LibePs (nctempchar1 *s);
int LibePi (int n);
int LibePf (float r);
int LibePutf (int fp,float r,nctempchar1 *form);
int LibePutc (int fp,int c);
int LibePuts (int fp,nctempchar1 *s);
int LibePuti (int fp,int ival);
int LibeRead (int fp,int n,nctempchar1 *array);
int LibeWrite (int fp,int n,nctempchar1 *array);
int LibeSeek (int fp,int pos,int flag);
int LibeFlush (int fp);
int LibeStrlen (nctempchar1 *s);
int LibeStrcmp (nctempchar1 *s,nctempchar1 *t);
int LibeStrev (nctempchar1 *s);
nctempchar1* LibeStrsave (nctempchar1 *s);
int LibeStrcpy (nctempchar1 *s,nctempchar1 *t);
int LibeStrcat (nctempchar1 *s,nctempchar1 *t);
nctempchar1* LibeStradd (nctempchar1 *t,nctempchar1 *s);
int LibeIsalpha (int c);
int LibeIsdigit (int c);
int LibeIsalnum (int c);
int LibeAtoi (nctempchar1 *s);
int LibeItoa (int n,nctempchar1 *s);
int LibeItoh (int n,nctempchar1 *s);
float LibeAtof (nctempchar1 *s);
int LibeFtoa (float f,nctempchar1 *fmt,nctempchar1 *s);
float LibeMach (int flag);
float LibeFabs (float x);
float LibeFscale2 (float x,int n);
float LibeGetfman2 (float x);
int LibeGetfexp2 (float x);
float LibeFscale (float x,int n);
int LibeGetfman (float f,int maxdig);
float LibeGetffman (float f);
int LibeGetmaxdig (float f);
int LibeGetfexp (float f);
float LibeClock ();
int LibeSetnb (int n);
int LibeSetnt (int n);
int LibeGetnb ();
int LibeGetnt ();
int LibeMod (int n,int r);
float LibeSqrt (float x);
float LibeLn (float x);
float LibeExp (float x);
float LibeSin (float x);
float LibeCos (float x);
float LibeTan (float x);
float LibeArcsin (float x);
float LibeArccos (float x);
float LibeArctan (float x);
float LibePow (float base,float exponent);
int LibeSystem (nctempchar1 *cmd);
struct model {int Nx;
int Ny;
int Nb;
float W0;
nctempfloat2 *Ql;
nctempfloat2 *Qm;
nctempfloat2 *Qp;
nctempfloat2 *Qs;
nctempfloat2 *Lambda;
nctempfloat2 *Mu;
nctempfloat2 *Dlambdax;
nctempfloat2 *Dlambday;
nctempfloat2 *Dmux;
nctempfloat2 *Dmuy;
nctempfloat2 *Drhopx;
nctempfloat2 *Drhopy;
nctempfloat2 *Drhosx;
nctempfloat2 *Drhosy;
nctempfloat2 *Rho;
nctempfloat2 *Alpha1x;
nctempfloat2 *Alpha1y;
nctempfloat2 *Alpha2x;
nctempfloat2 *Alpha2y;
nctempfloat2 *Beta1x;
nctempfloat2 *Beta2x;
nctempfloat2 *Beta1y;
nctempfloat2 *Beta2y;
nctempfloat2 *Eta1x;
nctempfloat2 *Eta1y;
nctempfloat2 *Eta2x;
nctempfloat2 *Eta2y;
nctempfloat2 *Nu1x;
nctempfloat2 *Nu1y;
nctempfloat2 *Nu2x;
nctempfloat2 *Nu2y;
nctempfloat1 *dx;
nctempfloat1 *dy;
nctempfloat1 *dx1;
nctempfloat1 *dy1;
nctempfloat1 *dx2;
nctempfloat1 *dy2;
float Dx;
float Dt;
};
typedef struct nctempmodel1 {int d[1]; struct model *a; } nctempmodel1;
struct nctempmodel2 {int d[2]; struct model *a; } ;
struct nctempmodel3 {int d[3]; struct model *a; } ;
struct nctempmodel4 {int d[4]; struct model *a; } ;
struct model* ModelNew (nctempfloat2 *vp,nctempfloat2 *vs,nctempfloat2 *rho,nctempfloat2 *Ql,nctempfloat2 *Qm,nctempfloat2 *Qp,nctempfloat2 *Qs,float Dx,float Dt,float W0,int Nb,int Rheol);
float ModelStability (struct model* Model);
struct model* Modelmaxwell (nctempfloat2 *vp,nctempfloat2 *rho,nctempfloat2 *Qp,nctempfloat2 *Qr,float Dx,float Dt,float W0,int Nb);
struct model* Modelsls (nctempfloat2 *vp,nctempfloat2 *vs,nctempfloat2 *rho,nctempfloat2 *Ql,nctempfloat2 *Qm,nctempfloat2 *Qp,nctempfloat2 *Qs,float Dx,float Dt,float W0,int Nb);
struct model* Modelcpml (nctempfloat2 *vp,nctempfloat2 *vs,nctempfloat2 *rho,nctempfloat2 *Ql,nctempfloat2 *Qm,nctempfloat2 *Qp,nctempfloat2 *Qs,float Dx,float Dt,float W0,int Nb);
int Modelslscoeffs (nctempfloat2 *Q,nctempfloat2 *modx,nctempfloat2 *mody,nctempfloat2 *coeff1x,nctempfloat2 *coeff1y,nctempfloat2 *coeff2x,nctempfloat2 *coeff2y,struct model* Model);
int Modelcpmlcoeffs (struct model* Model);
int Modeld (nctempfloat1 *d,float dx,int nb);
int Modeld1 (nctempfloat1 *d,float dx,int nb);
int Modeld2 (nctempfloat1 *d,float dx,int nb);
int Modelslscoeffs (nctempfloat2 *Q,nctempfloat2 *modx,nctempfloat2 *mody,nctempfloat2 *coeff1x,nctempfloat2 *coeff1y,nctempfloat2 *coeff2x,nctempfloat2 *coeff2y,struct model* Model)
{
int Nx;
int Ny;
int i;
int j;
float Qmin;
float Qmax;
float argx;
float argy;
float tau0;
float tauemax;
float tauemin;
float tausmax;
float tausmin;
float tauex;
float tausx;
float tauey;
float tausy;
Nx =Model->Nx;
Ny =Model->Ny;
j =0;
int nctemp13 = (j < Ny);
while(nctemp13){
{
i =0;
int nctemp21 = (i < Nx);
while(nctemp21){
{
float nctemp33 = 1.0 / Model->W0;
tau0 =nctemp33;
Qmin =1.1;
float nctemp49 = tau0 / Qmin;
float nctemp62 = Qmin * Qmin;
float nctemp64 = nctemp62 + 1.0;
float nctemp54= nctemp64;
float nctemp65=LibeSqrt(nctemp54);
float nctemp67 = nctemp65 + 1.0;
float nctemp68 = nctemp49 * nctemp67;
tauemin =nctemp68;
float nctemp77 = 1.0 / tauemin;
tauemin =nctemp77;
float nctemp89 = tau0 / Qmin;
float nctemp102 = Qmin * Qmin;
float nctemp104 = nctemp102 + 1.0;
float nctemp94= nctemp104;
float nctemp105=LibeSqrt(nctemp94);
float nctemp107 = nctemp105 - 1.0;
float nctemp108 = nctemp89 * nctemp107;
tausmin =nctemp108;
float nctemp117 = 1.0 / tausmin;
tausmin =nctemp117;
int nctemp122=Model->Nb;
nctemp122=j*Q->d[0]+nctemp122;
Qmax =Q->a[nctemp122];
float nctemp136 = tau0 / Qmin;
float nctemp149 = Qmax * Qmax;
float nctemp151 = nctemp149 + 1.0;
float nctemp141= nctemp151;
float nctemp152=LibeSqrt(nctemp141);
float nctemp154 = nctemp152 + 1.0;
float nctemp155 = nctemp136 * nctemp154;
tauemax =nctemp155;
float nctemp164 = 1.0 / tauemax;
tauemax =nctemp164;
float nctemp176 = tau0 / Qmin;
float nctemp189 = Qmax * Qmax;
float nctemp191 = nctemp189 + 1.0;
float nctemp181= nctemp191;
float nctemp192=LibeSqrt(nctemp181);
float nctemp194 = nctemp192 - 1.0;
float nctemp195 = nctemp176 * nctemp194;
tausmax =nctemp195;
float nctemp204 = 1.0 / tausmax;
tausmax =nctemp204;
float nctemp220 = tauemax - tauemin;
int nctemp222=i;
float nctemp224 = nctemp220 * Model->dx->a[nctemp222];
float nctemp225 = tauemin + nctemp224;
tauex =nctemp225;
float nctemp241 = tausmax - tausmin;
int nctemp243=i;
float nctemp245 = nctemp241 * Model->dx->a[nctemp243];
float nctemp246 = tausmin + nctemp245;
tausx =nctemp246;
int nctemp251=i;
nctemp251=Model->Nb*Q->d[0]+nctemp251;
Qmax =Q->a[nctemp251];
float nctemp265 = tau0 / Qmin;
float nctemp278 = Qmax * Qmax;
float nctemp280 = nctemp278 + 1.0;
float nctemp270= nctemp280;
float nctemp281=LibeSqrt(nctemp270);
float nctemp283 = nctemp281 + 1.0;
float nctemp284 = nctemp265 * nctemp283;
tauemax =nctemp284;
float nctemp293 = 1.0 / tauemax;
tauemax =nctemp293;
float nctemp305 = tau0 / Qmin;
float nctemp318 = Qmax * Qmax;
float nctemp320 = nctemp318 + 1.0;
float nctemp310= nctemp320;
float nctemp321=LibeSqrt(nctemp310);
float nctemp323 = nctemp321 - 1.0;
float nctemp324 = nctemp305 * nctemp323;
tausmax =nctemp324;
float nctemp333 = 1.0 / tausmax;
tausmax =nctemp333;
float nctemp349 = tauemax - tauemin;
int nctemp351=j;
float nctemp353 = nctemp349 * Model->dy->a[nctemp351];
float nctemp354 = tauemin + nctemp353;
tauey =nctemp354;
float nctemp370 = tausmax - tausmin;
int nctemp372=j;
float nctemp374 = nctemp370 * Model->dy->a[nctemp372];
float nctemp375 = tausmin + nctemp374;
tausy =nctemp375;
int nctemp380=i;
argx =Model->dx->a[nctemp380];
int nctemp386=j;
argy =Model->dy->a[nctemp386];
int nctemp391=i;
nctemp391=j*coeff1x->d[0]+nctemp391;
float nctemp399= -argx;
float nctemp398= nctemp399;
float nctemp400=LibeExp(nctemp398);
float nctemp405= -Model->Dt;
float nctemp407 = nctemp405 * tausx;
float nctemp402= nctemp407;
float nctemp408=LibeExp(nctemp402);
float nctemp409 = nctemp400 * nctemp408;
coeff1x->a[nctemp391] =nctemp409;
int nctemp413=i;
nctemp413=j*coeff1y->d[0]+nctemp413;
float nctemp421= -argy;
float nctemp420= nctemp421;
float nctemp422=LibeExp(nctemp420);
float nctemp427= -Model->Dt;
float nctemp429 = nctemp427 * tausy;
float nctemp424= nctemp429;
float nctemp430=LibeExp(nctemp424);
float nctemp431 = nctemp422 * nctemp430;
coeff1y->a[nctemp413] =nctemp431;
int nctemp435=i;
nctemp435=j*coeff2x->d[0]+nctemp435;
float nctemp443 = Model->Dt * tauex;
coeff2x->a[nctemp435] =nctemp443;
int nctemp447=i;
nctemp447=j*coeff2y->d[0]+nctemp447;
float nctemp455 = Model->Dt * tauey;
coeff2y->a[nctemp447] =nctemp455;
int nctemp459=i;
nctemp459=j*modx->d[0]+nctemp459;
int nctemp466=i;
nctemp466=j*modx->d[0]+nctemp466;
float nctemp478 = tausx / tauex;
float nctemp479 = 1.0 - nctemp478;
float nctemp480 = modx->a[nctemp466] * nctemp479;
modx->a[nctemp459] =nctemp480;
int nctemp484=i;
nctemp484=j*mody->d[0]+nctemp484;
int nctemp491=i;
nctemp491=j*mody->d[0]+nctemp491;
float nctemp503 = tausy / tauey;
float nctemp504 = 1.0 - nctemp503;
float nctemp505 = mody->a[nctemp491] * nctemp504;
mody->a[nctemp484] =nctemp505;
}
int nctemp514 = i + 1;
i =nctemp514;
int nctemp515 = (i < Nx);
nctemp21=nctemp515;
}
}
int nctemp527 = j + 1;
j =nctemp527;
int nctemp528 = (j < Ny);
nctemp13=nctemp528;
}
return 1;
}
struct model* ModelNew (nctempfloat2 *vp,nctempfloat2 *vs,nctempfloat2 *rho,nctempfloat2 *Ql,nctempfloat2 *Qm,nctempfloat2 *Qp,nctempfloat2 *Qs,float Dx,float Dt,float W0,int Nb,int Rheol)
{
struct model* m;
struct nctempchar1 *nctemp536;
static struct nctempchar1 nctemp537 = {{ 8}, (char*)"Rheol: \0"};
nctemp536=&nctemp537;
nctempchar1* nctemp534= nctemp536;
int nctemp538=LibePs(nctemp534);
int nctemp540= Rheol;
int nctemp542=LibePi(nctemp540);
struct nctempchar1 *nctemp546;
static struct nctempchar1 nctemp547 = {{ 3}, (char*)"\n\0"};
nctemp546=&nctemp547;
nctempchar1* nctemp544= nctemp546;
int nctemp548=LibePs(nctemp544);
int nctemp549 = (Rheol ==2);
if(nctemp549)
{
nctempfloat2* nctemp557= vp;
nctempfloat2* nctemp560= vs;
nctempfloat2* nctemp563= rho;
nctempfloat2* nctemp566= Ql;
nctempfloat2* nctemp569= Qm;
nctempfloat2* nctemp572= Qp;
nctempfloat2* nctemp575= Qs;
float nctemp578= Dx;
float nctemp580= Dt;
float nctemp582= W0;
int nctemp584= Nb;
struct model* nctemp586=Modelsls(nctemp557,nctemp560,nctemp563,nctemp566,nctemp569,nctemp572,nctemp575,nctemp578,nctemp580,nctemp582,nctemp584);
m =nctemp586;
}
else{
int nctemp587 = (Rheol ==4);
if(nctemp587)
{
nctempfloat2* nctemp595= vp;
nctempfloat2* nctemp598= vs;
nctempfloat2* nctemp601= rho;
nctempfloat2* nctemp604= Ql;
nctempfloat2* nctemp607= Qm;
nctempfloat2* nctemp610= Qp;
nctempfloat2* nctemp613= Qs;
float nctemp616= Dx;
float nctemp618= Dt;
float nctemp620= W0;
int nctemp622= Nb;
struct model* nctemp624=Modelcpml(nctemp595,nctemp598,nctemp601,nctemp604,nctemp607,nctemp610,nctemp613,nctemp616,nctemp618,nctemp620,nctemp622);
m =nctemp624;
}
else{
int nctemp626= 4;
struct nctempchar1 *nctemp630;
static struct nctempchar1 nctemp631 = {{ 18}, (char*)"Unknown Q-model\n\0"};
nctemp630=&nctemp631;
nctempchar1* nctemp628= nctemp630;
int nctemp632=LibePuts(nctemp626,nctemp628);
int nctemp634= 4;
int nctemp636=LibeFlush(nctemp634);
int nctemp638=LibeExit();
}
}
return m;
}
struct model* Modelsls (nctempfloat2 *vp,nctempfloat2 *vs,nctempfloat2 *rho,nctempfloat2 *Ql,nctempfloat2 *Qm,nctempfloat2 *Qp,nctempfloat2 *Qs,float Dx,float Dt,float W0,int Nb)
{
struct model* Model;
int Nx;
int Ny;
int i;
int j;
struct model *nctemp644=(struct model*)RunMalloc(sizeof(struct model));
Model =nctemp644;
Model->Dx =Dx;
Model->Dt =Dt;
int nctemp658=vp->d[0];Model->Nx =nctemp658;
int nctemp666=vp->d[1];Model->Ny =nctemp666;
Model->Nb =Nb;
Model->W0 =W0;
Nx =Model->Nx;
Ny =Model->Ny;
int nctemp692=Nx;
nctemp692=nctemp692*Ny;
nctempfloat2 *nctemp691;
nctemp691=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp691->d[0]=Nx;
nctemp691->d[1]=Ny;
nctemp691->a=(float *)RunMalloc(sizeof(float)*nctemp692);
Model->Rho=nctemp691;
int nctemp703=Nx;
nctemp703=nctemp703*Ny;
nctempfloat2 *nctemp702;
nctemp702=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp702->d[0]=Nx;
nctemp702->d[1]=Ny;
nctemp702->a=(float *)RunMalloc(sizeof(float)*nctemp703);
Model->Ql=nctemp702;
int nctemp714=Nx;
nctemp714=nctemp714*Ny;
nctempfloat2 *nctemp713;
nctemp713=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp713->d[0]=Nx;
nctemp713->d[1]=Ny;
nctemp713->a=(float *)RunMalloc(sizeof(float)*nctemp714);
Model->Qm=nctemp713;
int nctemp725=Nx;
nctemp725=nctemp725*Ny;
nctempfloat2 *nctemp724;
nctemp724=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp724->d[0]=Nx;
nctemp724->d[1]=Ny;
nctemp724->a=(float *)RunMalloc(sizeof(float)*nctemp725);
Model->Qp=nctemp724;
int nctemp736=Nx;
nctemp736=nctemp736*Ny;
nctempfloat2 *nctemp735;
nctemp735=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp735->d[0]=Nx;
nctemp735->d[1]=Ny;
nctemp735->a=(float *)RunMalloc(sizeof(float)*nctemp736);
Model->Qs=nctemp735;
int nctemp747=Nx;
nctemp747=nctemp747*Ny;
nctempfloat2 *nctemp746;
nctemp746=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp746->d[0]=Nx;
nctemp746->d[1]=Ny;
nctemp746->a=(float *)RunMalloc(sizeof(float)*nctemp747);
Model->Mu=nctemp746;
int nctemp758=Nx;
nctemp758=nctemp758*Ny;
nctempfloat2 *nctemp757;
nctemp757=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp757->d[0]=Nx;
nctemp757->d[1]=Ny;
nctemp757->a=(float *)RunMalloc(sizeof(float)*nctemp758);
Model->Lambda=nctemp757;
int nctemp769=Nx;
nctemp769=nctemp769*Ny;
nctempfloat2 *nctemp768;
nctemp768=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp768->d[0]=Nx;
nctemp768->d[1]=Ny;
nctemp768->a=(float *)RunMalloc(sizeof(float)*nctemp769);
Model->Dlambdax=nctemp768;
int nctemp780=Nx;
nctemp780=nctemp780*Ny;
nctempfloat2 *nctemp779;
nctemp779=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp779->d[0]=Nx;
nctemp779->d[1]=Ny;
nctemp779->a=(float *)RunMalloc(sizeof(float)*nctemp780);
Model->Dlambday=nctemp779;
int nctemp791=Nx;
nctemp791=nctemp791*Ny;
nctempfloat2 *nctemp790;
nctemp790=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp790->d[0]=Nx;
nctemp790->d[1]=Ny;
nctemp790->a=(float *)RunMalloc(sizeof(float)*nctemp791);
Model->Dmux=nctemp790;
int nctemp802=Nx;
nctemp802=nctemp802*Ny;
nctempfloat2 *nctemp801;
nctemp801=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp801->d[0]=Nx;
nctemp801->d[1]=Ny;
nctemp801->a=(float *)RunMalloc(sizeof(float)*nctemp802);
Model->Dmuy=nctemp801;
int nctemp813=Nx;
nctemp813=nctemp813*Ny;
nctempfloat2 *nctemp812;
nctemp812=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp812->d[0]=Nx;
nctemp812->d[1]=Ny;
nctemp812->a=(float *)RunMalloc(sizeof(float)*nctemp813);
Model->Drhopx=nctemp812;
int nctemp824=Nx;
nctemp824=nctemp824*Ny;
nctempfloat2 *nctemp823;
nctemp823=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp823->d[0]=Nx;
nctemp823->d[1]=Ny;
nctemp823->a=(float *)RunMalloc(sizeof(float)*nctemp824);
Model->Drhopy=nctemp823;
int nctemp835=Nx;
nctemp835=nctemp835*Ny;
nctempfloat2 *nctemp834;
nctemp834=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp834->d[0]=Nx;
nctemp834->d[1]=Ny;
nctemp834->a=(float *)RunMalloc(sizeof(float)*nctemp835);
Model->Drhosx=nctemp834;
int nctemp846=Nx;
nctemp846=nctemp846*Ny;
nctempfloat2 *nctemp845;
nctemp845=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp845->d[0]=Nx;
nctemp845->d[1]=Ny;
nctemp845->a=(float *)RunMalloc(sizeof(float)*nctemp846);
Model->Drhosy=nctemp845;
int nctemp857=Nx;
nctemp857=nctemp857*Ny;
nctempfloat2 *nctemp856;
nctemp856=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp856->d[0]=Nx;
nctemp856->d[1]=Ny;
nctemp856->a=(float *)RunMalloc(sizeof(float)*nctemp857);
Model->Alpha1x=nctemp856;
int nctemp868=Nx;
nctemp868=nctemp868*Ny;
nctempfloat2 *nctemp867;
nctemp867=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp867->d[0]=Nx;
nctemp867->d[1]=Ny;
nctemp867->a=(float *)RunMalloc(sizeof(float)*nctemp868);
Model->Alpha1y=nctemp867;
int nctemp879=Nx;
nctemp879=nctemp879*Ny;
nctempfloat2 *nctemp878;
nctemp878=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp878->d[0]=Nx;
nctemp878->d[1]=Ny;
nctemp878->a=(float *)RunMalloc(sizeof(float)*nctemp879);
Model->Alpha2x=nctemp878;
int nctemp890=Nx;
nctemp890=nctemp890*Ny;
nctempfloat2 *nctemp889;
nctemp889=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp889->d[0]=Nx;
nctemp889->d[1]=Ny;
nctemp889->a=(float *)RunMalloc(sizeof(float)*nctemp890);
Model->Alpha2y=nctemp889;
int nctemp901=Nx;
nctemp901=nctemp901*Ny;
nctempfloat2 *nctemp900;
nctemp900=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp900->d[0]=Nx;
nctemp900->d[1]=Ny;
nctemp900->a=(float *)RunMalloc(sizeof(float)*nctemp901);
Model->Beta1x=nctemp900;
int nctemp912=Nx;
nctemp912=nctemp912*Ny;
nctempfloat2 *nctemp911;
nctemp911=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp911->d[0]=Nx;
nctemp911->d[1]=Ny;
nctemp911->a=(float *)RunMalloc(sizeof(float)*nctemp912);
Model->Beta1y=nctemp911;
int nctemp923=Nx;
nctemp923=nctemp923*Ny;
nctempfloat2 *nctemp922;
nctemp922=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp922->d[0]=Nx;
nctemp922->d[1]=Ny;
nctemp922->a=(float *)RunMalloc(sizeof(float)*nctemp923);
Model->Beta2x=nctemp922;
int nctemp934=Nx;
nctemp934=nctemp934*Ny;
nctempfloat2 *nctemp933;
nctemp933=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp933->d[0]=Nx;
nctemp933->d[1]=Ny;
nctemp933->a=(float *)RunMalloc(sizeof(float)*nctemp934);
Model->Beta2y=nctemp933;
int nctemp945=Nx;
nctemp945=nctemp945*Ny;
nctempfloat2 *nctemp944;
nctemp944=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp944->d[0]=Nx;
nctemp944->d[1]=Ny;
nctemp944->a=(float *)RunMalloc(sizeof(float)*nctemp945);
Model->Eta1x=nctemp944;
int nctemp956=Nx;
nctemp956=nctemp956*Ny;
nctempfloat2 *nctemp955;
nctemp955=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp955->d[0]=Nx;
nctemp955->d[1]=Ny;
nctemp955->a=(float *)RunMalloc(sizeof(float)*nctemp956);
Model->Eta1y=nctemp955;
int nctemp967=Nx;
nctemp967=nctemp967*Ny;
nctempfloat2 *nctemp966;
nctemp966=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp966->d[0]=Nx;
nctemp966->d[1]=Ny;
nctemp966->a=(float *)RunMalloc(sizeof(float)*nctemp967);
Model->Eta2x=nctemp966;
int nctemp978=Nx;
nctemp978=nctemp978*Ny;
nctempfloat2 *nctemp977;
nctemp977=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp977->d[0]=Nx;
nctemp977->d[1]=Ny;
nctemp977->a=(float *)RunMalloc(sizeof(float)*nctemp978);
Model->Eta2y=nctemp977;
int nctemp989=Nx;
nctemp989=nctemp989*Ny;
nctempfloat2 *nctemp988;
nctemp988=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp988->d[0]=Nx;
nctemp988->d[1]=Ny;
nctemp988->a=(float *)RunMalloc(sizeof(float)*nctemp989);
Model->Nu1x=nctemp988;
int nctemp1000=Nx;
nctemp1000=nctemp1000*Ny;
nctempfloat2 *nctemp999;
nctemp999=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp999->d[0]=Nx;
nctemp999->d[1]=Ny;
nctemp999->a=(float *)RunMalloc(sizeof(float)*nctemp1000);
Model->Nu1y=nctemp999;
int nctemp1011=Nx;
nctemp1011=nctemp1011*Ny;
nctempfloat2 *nctemp1010;
nctemp1010=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp1010->d[0]=Nx;
nctemp1010->d[1]=Ny;
nctemp1010->a=(float *)RunMalloc(sizeof(float)*nctemp1011);
Model->Nu2x=nctemp1010;
int nctemp1022=Nx;
nctemp1022=nctemp1022*Ny;
nctempfloat2 *nctemp1021;
nctemp1021=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp1021->d[0]=Nx;
nctemp1021->d[1]=Ny;
nctemp1021->a=(float *)RunMalloc(sizeof(float)*nctemp1022);
Model->Nu2y=nctemp1021;
int nctemp1033=Nx;
nctempfloat1 *nctemp1032;
nctemp1032=(nctempfloat1*)RunMalloc(sizeof(nctempfloat1));
nctemp1032->d[0]=Nx;
nctemp1032->a=(float *)RunMalloc(sizeof(float)*nctemp1033);
Model->dx=nctemp1032;
int nctemp1042=Ny;
nctempfloat1 *nctemp1041;
nctemp1041=(nctempfloat1*)RunMalloc(sizeof(nctempfloat1));
nctemp1041->d[0]=Ny;
nctemp1041->a=(float *)RunMalloc(sizeof(float)*nctemp1042);
Model->dy=nctemp1041;
j =0;
int nctemp1049 = (j < Ny);
while(nctemp1049){
{
i =0;
int nctemp1057 = (i < Nx);
while(nctemp1057){
{
int nctemp1064=i;
nctemp1064=j*Model->Rho->d[0]+nctemp1064;
int nctemp1072=i;
nctemp1072=j*rho->d[0]+nctemp1072;
float nctemp1075 = 1.0 / rho->a[nctemp1072];
Model->Rho->a[nctemp1064] =nctemp1075;
int nctemp1079=i;
nctemp1079=j*Model->Ql->d[0]+nctemp1079;
int nctemp1083=i;
nctemp1083=j*Ql->d[0]+nctemp1083;
Model->Ql->a[nctemp1079] =Ql->a[nctemp1083];
int nctemp1089=i;
nctemp1089=j*Model->Qm->d[0]+nctemp1089;
int nctemp1093=i;
nctemp1093=j*Qm->d[0]+nctemp1093;
Model->Qm->a[nctemp1089] =Qm->a[nctemp1093];
int nctemp1099=i;
nctemp1099=j*Model->Qp->d[0]+nctemp1099;
int nctemp1103=i;
nctemp1103=j*Qp->d[0]+nctemp1103;
Model->Qp->a[nctemp1099] =Qp->a[nctemp1103];
int nctemp1109=i;
nctemp1109=j*Model->Qs->d[0]+nctemp1109;
int nctemp1113=i;
nctemp1113=j*Qs->d[0]+nctemp1113;
Model->Qs->a[nctemp1109] =Qs->a[nctemp1113];
int nctemp1119=i;
nctemp1119=j*Model->Mu->d[0]+nctemp1119;
int nctemp1129=i;
nctemp1129=j*rho->d[0]+nctemp1129;
int nctemp1133=i;
nctemp1133=j*vs->d[0]+nctemp1133;
float nctemp1136 = rho->a[nctemp1129] * vs->a[nctemp1133];
int nctemp1138=i;
nctemp1138=j*vs->d[0]+nctemp1138;
float nctemp1141 = nctemp1136 * vs->a[nctemp1138];
Model->Mu->a[nctemp1119] =nctemp1141;
int nctemp1145=i;
nctemp1145=j*Model->Lambda->d[0]+nctemp1145;
int nctemp1152=i;
nctemp1152=j*rho->d[0]+nctemp1152;
int nctemp1162=i;
nctemp1162=j*vp->d[0]+nctemp1162;
int nctemp1166=i;
nctemp1166=j*vp->d[0]+nctemp1166;
float nctemp1169 = vp->a[nctemp1162] * vp->a[nctemp1166];
int nctemp1178=i;
nctemp1178=j*vs->d[0]+nctemp1178;
float nctemp1181 = 2.0 * vs->a[nctemp1178];
int nctemp1183=i;
nctemp1183=j*vs->d[0]+nctemp1183;
float nctemp1186 = nctemp1181 * vs->a[nctemp1183];
float nctemp1187 = nctemp1169 - nctemp1186;
float nctemp1188 = rho->a[nctemp1152] * nctemp1187;
Model->Lambda->a[nctemp1145] =nctemp1188;
int nctemp1192=i;
nctemp1192=j*Model->Dlambdax->d[0]+nctemp1192;
int nctemp1196=i;
nctemp1196=j*Model->Lambda->d[0]+nctemp1196;
Model->Dlambdax->a[nctemp1192] =Model->Lambda->a[nctemp1196];
int nctemp1202=i;
nctemp1202=j*Model->Dlambday->d[0]+nctemp1202;
int nctemp1206=i;
nctemp1206=j*Model->Lambda->d[0]+nctemp1206;
Model->Dlambday->a[nctemp1202] =Model->Lambda->a[nctemp1206];
int nctemp1212=i;
nctemp1212=j*Model->Dmux->d[0]+nctemp1212;
int nctemp1216=i;
nctemp1216=j*Model->Mu->d[0]+nctemp1216;
Model->Dmux->a[nctemp1212] =Model->Mu->a[nctemp1216];
int nctemp1222=i;
nctemp1222=j*Model->Dmuy->d[0]+nctemp1222;
int nctemp1226=i;
nctemp1226=j*Model->Mu->d[0]+nctemp1226;
Model->Dmuy->a[nctemp1222] =Model->Mu->a[nctemp1226];
int nctemp1232=i;
nctemp1232=j*Model->Drhopx->d[0]+nctemp1232;
int nctemp1236=i;
nctemp1236=j*Model->Rho->d[0]+nctemp1236;
Model->Drhopx->a[nctemp1232] =Model->Rho->a[nctemp1236];
int nctemp1242=i;
nctemp1242=j*Model->Drhopy->d[0]+nctemp1242;
int nctemp1246=i;
nctemp1246=j*Model->Rho->d[0]+nctemp1246;
Model->Drhopy->a[nctemp1242] =Model->Rho->a[nctemp1246];
int nctemp1252=i;
nctemp1252=j*Model->Drhosx->d[0]+nctemp1252;
int nctemp1256=i;
nctemp1256=j*Model->Rho->d[0]+nctemp1256;
Model->Drhosx->a[nctemp1252] =Model->Rho->a[nctemp1256];
int nctemp1262=i;
nctemp1262=j*Model->Drhosy->d[0]+nctemp1262;
int nctemp1266=i;
nctemp1266=j*Model->Rho->d[0]+nctemp1266;
Model->Drhosy->a[nctemp1262] =Model->Rho->a[nctemp1266];
}
int nctemp1277 = i + 1;
i =nctemp1277;
int nctemp1278 = (i < Nx);
nctemp1057=nctemp1278;
}
}
int nctemp1290 = j + 1;
j =nctemp1290;
int nctemp1291 = (j < Ny);
nctemp1049=nctemp1291;
}
nctempfloat1* nctemp1296= Model->dx;
float nctemp1299= Model->Dx;
int nctemp1301= Model->Nb;
int nctemp1303=Modeld(nctemp1296,nctemp1299,nctemp1301);
nctempfloat1* nctemp1305= Model->dy;
float nctemp1308= Model->Dx;
int nctemp1310= Model->Nb;
int nctemp1312=Modeld(nctemp1305,nctemp1308,nctemp1310);
nctempfloat2* nctemp1314= Model->Ql;
nctempfloat2* nctemp1317= Model->Dlambdax;
nctempfloat2* nctemp1320= Model->Dlambday;
nctempfloat2* nctemp1323= Model->Alpha1x;
nctempfloat2* nctemp1326= Model->Alpha1y;
nctempfloat2* nctemp1329= Model->Alpha2x;
nctempfloat2* nctemp1332= Model->Alpha2y;
struct model* nctemp1335= Model;
int nctemp1337=Modelslscoeffs(nctemp1314,nctemp1317,nctemp1320,nctemp1323,nctemp1326,nctemp1329,nctemp1332,nctemp1335);
nctempfloat2* nctemp1339= Model->Qm;
nctempfloat2* nctemp1342= Model->Dmux;
nctempfloat2* nctemp1345= Model->Dmuy;
nctempfloat2* nctemp1348= Model->Beta1x;
nctempfloat2* nctemp1351= Model->Beta1y;
nctempfloat2* nctemp1354= Model->Beta2x;
nctempfloat2* nctemp1357= Model->Beta2y;
struct model* nctemp1360= Model;
int nctemp1362=Modelslscoeffs(nctemp1339,nctemp1342,nctemp1345,nctemp1348,nctemp1351,nctemp1354,nctemp1357,nctemp1360);
nctempfloat2* nctemp1364= Model->Qp;
nctempfloat2* nctemp1367= Model->Drhopx;
nctempfloat2* nctemp1370= Model->Drhopy;
nctempfloat2* nctemp1373= Model->Eta1x;
nctempfloat2* nctemp1376= Model->Eta1y;
nctempfloat2* nctemp1379= Model->Eta2x;
nctempfloat2* nctemp1382= Model->Eta2y;
struct model* nctemp1385= Model;
int nctemp1387=Modelslscoeffs(nctemp1364,nctemp1367,nctemp1370,nctemp1373,nctemp1376,nctemp1379,nctemp1382,nctemp1385);
nctempfloat2* nctemp1389= Model->Qs;
nctempfloat2* nctemp1392= Model->Drhosx;
nctempfloat2* nctemp1395= Model->Drhosy;
nctempfloat2* nctemp1398= Model->Nu1x;
nctempfloat2* nctemp1401= Model->Nu1y;
nctempfloat2* nctemp1404= Model->Nu2x;
nctempfloat2* nctemp1407= Model->Nu2y;
struct model* nctemp1410= Model;
int nctemp1412=Modelslscoeffs(nctemp1389,nctemp1392,nctemp1395,nctemp1398,nctemp1401,nctemp1404,nctemp1407,nctemp1410);
return Model;
}
float ModelStability (struct model* Model)
{
int nx;
int ny;
int i;
int j;
float vp;
float stab;
nx =Model->Nx;
ny =Model->Ny;
j =0;
int nctemp1426 = (j < ny);
while(nctemp1426){
{
i =0;
int nctemp1434 = (i < nx);
while(nctemp1434){
{
int nctemp1449=i;
nctemp1449=j*Model->Lambda->d[0]+nctemp1449;
int nctemp1457=i;
nctemp1457=j*Model->Mu->d[0]+nctemp1457;
float nctemp1460 = 2.0 * Model->Mu->a[nctemp1457];
float nctemp1461 = Model->Lambda->a[nctemp1449] + nctemp1460;
int nctemp1463=i;
nctemp1463=j*Model->Rho->d[0]+nctemp1463;
float nctemp1466 = nctemp1461 / Model->Rho->a[nctemp1463];
float nctemp1442= nctemp1466;
float nctemp1467=LibeSqrt(nctemp1442);
vp =nctemp1467;
float nctemp1479 = vp * Model->Dt;
float nctemp1481 = nctemp1479 / Model->Dx;
stab =nctemp1481;
float nctemp1490= 2.0;
float nctemp1492=LibeSqrt(nctemp1490);
float nctemp1493 = 1.0 / nctemp1492;
int nctemp1482 = (stab > nctemp1493);
if(nctemp1482)
{
int nctemp1495= 4;
struct nctempchar1 *nctemp1499;
static struct nctempchar1 nctemp1500 = {{ 28}, (char*)"Stability index too large! \0"};
nctemp1499=&nctemp1500;
nctempchar1* nctemp1497= nctemp1499;
int nctemp1501=LibePuts(nctemp1495,nctemp1497);
int nctemp1503= 4;
float nctemp1505= stab;
struct nctempchar1 *nctemp1509;
static struct nctempchar1 nctemp1510 = {{ 2}, (char*)"g\0"};
nctemp1509=&nctemp1510;
nctempchar1* nctemp1507= nctemp1509;
int nctemp1511=LibePutf(nctemp1503,nctemp1505,nctemp1507);
int nctemp1513= 4;
struct nctempchar1 *nctemp1517;
static struct nctempchar1 nctemp1518 = {{ 3}, (char*)"\n\0"};
nctemp1517=&nctemp1518;
nctempchar1* nctemp1515= nctemp1517;
int nctemp1519=LibePuts(nctemp1513,nctemp1515);
int nctemp1521= 4;
struct nctempchar1 *nctemp1525;
static struct nctempchar1 nctemp1526 = {{ 7}, (char*)"vp: \n\0"};
nctemp1525=&nctemp1526;
nctempchar1* nctemp1523= nctemp1525;
int nctemp1527=LibePuts(nctemp1521,nctemp1523);
int nctemp1529= 4;
float nctemp1531= vp;
struct nctempchar1 *nctemp1535;
static struct nctempchar1 nctemp1536 = {{ 2}, (char*)"g\0"};
nctemp1535=&nctemp1536;
nctempchar1* nctemp1533= nctemp1535;
int nctemp1537=LibePutf(nctemp1529,nctemp1531,nctemp1533);
int nctemp1539= 4;
struct nctempchar1 *nctemp1543;
static struct nctempchar1 nctemp1544 = {{ 3}, (char*)"\n\0"};
nctemp1543=&nctemp1544;
nctempchar1* nctemp1541= nctemp1543;
int nctemp1545=LibePuts(nctemp1539,nctemp1541);
int nctemp1547= 4;
struct nctempchar1 *nctemp1551;
static struct nctempchar1 nctemp1552 = {{ 7}, (char*)"dt: \n\0"};
nctemp1551=&nctemp1552;
nctempchar1* nctemp1549= nctemp1551;
int nctemp1553=LibePuts(nctemp1547,nctemp1549);
int nctemp1555= 4;
float nctemp1557= Model->Dt;
struct nctempchar1 *nctemp1561;
static struct nctempchar1 nctemp1562 = {{ 2}, (char*)"g\0"};
nctemp1561=&nctemp1562;
nctempchar1* nctemp1559= nctemp1561;
int nctemp1563=LibePutf(nctemp1555,nctemp1557,nctemp1559);
int nctemp1565= 4;
struct nctempchar1 *nctemp1569;
static struct nctempchar1 nctemp1570 = {{ 3}, (char*)"\n\0"};
nctemp1569=&nctemp1570;
nctempchar1* nctemp1567= nctemp1569;
int nctemp1571=LibePuts(nctemp1565,nctemp1567);
int nctemp1573= 4;
struct nctempchar1 *nctemp1577;
static struct nctempchar1 nctemp1578 = {{ 7}, (char*)"dx: \n\0"};
nctemp1577=&nctemp1578;
nctempchar1* nctemp1575= nctemp1577;
int nctemp1579=LibePuts(nctemp1573,nctemp1575);
int nctemp1581= 4;
float nctemp1583= Model->Dx;
struct nctempchar1 *nctemp1587;
static struct nctempchar1 nctemp1588 = {{ 2}, (char*)"g\0"};
nctemp1587=&nctemp1588;
nctempchar1* nctemp1585= nctemp1587;
int nctemp1589=LibePutf(nctemp1581,nctemp1583,nctemp1585);
int nctemp1591= 4;
struct nctempchar1 *nctemp1595;
static struct nctempchar1 nctemp1596 = {{ 3}, (char*)"\n\0"};
nctemp1595=&nctemp1596;
nctempchar1* nctemp1593= nctemp1595;
int nctemp1597=LibePuts(nctemp1591,nctemp1593);
int nctemp1599= 4;
int nctemp1601=LibeFlush(nctemp1599);
}
}
int nctemp1610 = i + 1;
i =nctemp1610;
int nctemp1611 = (i < nx);
nctemp1434=nctemp1611;
}
}
int nctemp1623 = j + 1;
j =nctemp1623;
int nctemp1624 = (j < ny);
nctemp1426=nctemp1624;
}
return stab;
}
int Modeld (nctempfloat1 *d,float dx,int nb)
{
int i;
int n;
int nctemp1633=d->d[0];n =nctemp1633;
i =0;
int nctemp1641 = (i < n);
while(nctemp1641){
{
int nctemp1648=i;
d->a[nctemp1648] =1.0;
}
int nctemp1659 = i + 1;
i =nctemp1659;
int nctemp1660 = (i < n);
nctemp1641=nctemp1660;
}
i =0;
int nctemp1668 = (i < nb);
while(nctemp1668){
{
int nctemp1675=i;
int nctemp1681=i;
float nctemp1696=(float)(i);
float nctemp1700 = nctemp1696 * dx;
float nctemp1705=(float)(nb);
float nctemp1709 = nctemp1705 * dx;
float nctemp1710 = nctemp1700 / nctemp1709;
float nctemp1715=(float)(i);
float nctemp1719 = nctemp1715 * dx;
float nctemp1720 = nctemp1710 * nctemp1719;
float nctemp1725=(float)(nb);
float nctemp1729 = nctemp1725 * dx;
float nctemp1730 = nctemp1720 / nctemp1729;
float nctemp1731 = d->a[nctemp1681] * nctemp1730;
d->a[nctemp1675] =nctemp1731;
}
int nctemp1740 = i + 1;
i =nctemp1740;
int nctemp1741 = (i < nb);
nctemp1668=nctemp1741;
}
int nctemp1756 = n - 1;
int nctemp1758 = nctemp1756 - nb;
i =nctemp1758;
int nctemp1759 = (i < n);
while(nctemp1759){
{
int nctemp1766=i;
int nctemp1772=i;
int nctemp1796 = n - 1;
int nctemp1798 = nctemp1796 - i;
float nctemp1787=(float)(nctemp1798);
float nctemp1800 = nctemp1787 * dx;
float nctemp1805=(float)(nb);
float nctemp1809 = nctemp1805 * dx;
float nctemp1810 = nctemp1800 / nctemp1809;
int nctemp1824 = n - 1;
int nctemp1826 = nctemp1824 - i;
float nctemp1815=(float)(nctemp1826);
float nctemp1828 = nctemp1815 * dx;
float nctemp1829 = nctemp1810 * nctemp1828;
float nctemp1834=(float)(nb);
float nctemp1838 = nctemp1834 * dx;
float nctemp1839 = nctemp1829 / nctemp1838;
float nctemp1840 = d->a[nctemp1772] * nctemp1839;
d->a[nctemp1766] =nctemp1840;
}
int nctemp1849 = i + 1;
i =nctemp1849;
int nctemp1850 = (i < n);
nctemp1759=nctemp1850;
}
return 1;
}
int Modelcpmlcoeffs (struct model* Model)
{
int Nx;
int Ny;
int i;
int j;
float argx;
float argy;
float alphax;
float alphay;
float pi;
float d0;
float f0;
Nx =Model->Nx;
Ny =Model->Ny;
j =0;
int nctemp1867 = (j < Ny);
while(nctemp1867){
{
i =0;
int nctemp1875 = (i < Nx);
while(nctemp1875){
{
d0 =3490.0;
pi =3.14159;
float nctemp1899 = 2.0 * pi;
float nctemp1900 = Model->W0 / nctemp1899;
f0 =nctemp1900;
int nctemp1911=i;
float nctemp1914 = Model->dx1->a[nctemp1911] * pi;
float nctemp1916 = nctemp1914 * f0;
alphax =nctemp1916;
int nctemp1927=j;
float nctemp1930 = Model->dy1->a[nctemp1927] * pi;
float nctemp1932 = nctemp1930 * f0;
alphay =nctemp1932;
int nctemp1940=i;
float nctemp1943 = Model->dx1->a[nctemp1940] * 1.72e-03;
alphax =nctemp1943;
int nctemp1951=j;
float nctemp1954 = Model->dy1->a[nctemp1951] * 1.72e-03;
alphay =nctemp1954;
int nctemp1962=i;
float nctemp1965 = Model->dx2->a[nctemp1962] * d0;
argx =nctemp1965;
int nctemp1973=j;
float nctemp1976 = Model->dy2->a[nctemp1973] * d0;
argy =nctemp1976;
int nctemp1984=i;
float nctemp1987 = Model->dx2->a[nctemp1984] * 1.72e-02;
argx =nctemp1987;
int nctemp1995=j;
float nctemp1998 = Model->dy2->a[nctemp1995] * 1.72e-03;
argy =nctemp1998;
int nctemp2002=i;
nctemp2002=j*Model->Alpha1x->d[0]+nctemp2002;
float nctemp2012= -argx;
float nctemp2014 = nctemp2012 * Model->Dt;
float nctemp2009= nctemp2014;
float nctemp2015=LibeExp(nctemp2009);
float nctemp2020= -Model->Dt;
float nctemp2022 = nctemp2020 * alphax;
float nctemp2017= nctemp2022;
float nctemp2023=LibeExp(nctemp2017);
float nctemp2024 = nctemp2015 * nctemp2023;
Model->Alpha1x->a[nctemp2002] =nctemp2024;
int nctemp2028=i;
nctemp2028=j*Model->Alpha1y->d[0]+nctemp2028;
float nctemp2038= -argy;
float nctemp2040 = nctemp2038 * Model->Dt;
float nctemp2035= nctemp2040;
float nctemp2041=LibeExp(nctemp2035);
float nctemp2046= -Model->Dt;
float nctemp2048 = nctemp2046 * alphay;
float nctemp2043= nctemp2048;
float nctemp2049=LibeExp(nctemp2043);
float nctemp2050 = nctemp2041 * nctemp2049;
Model->Alpha1y->a[nctemp2028] =nctemp2050;
int nctemp2054=i;
nctemp2054=j*Model->Alpha2x->d[0]+nctemp2054;
float nctemp2062 = Model->Dt * argx;
Model->Alpha2x->a[nctemp2054] =nctemp2062;
int nctemp2066=i;
nctemp2066=j*Model->Alpha2y->d[0]+nctemp2066;
float nctemp2074 = Model->Dt * argy;
Model->Alpha2y->a[nctemp2066] =nctemp2074;
int nctemp2078=i;
nctemp2078=j*Model->Beta1x->d[0]+nctemp2078;
int nctemp2082=i;
nctemp2082=j*Model->Alpha1x->d[0]+nctemp2082;
Model->Beta1x->a[nctemp2078] =Model->Alpha1x->a[nctemp2082];
int nctemp2088=i;
nctemp2088=j*Model->Beta1y->d[0]+nctemp2088;
int nctemp2092=i;
nctemp2092=j*Model->Alpha1y->d[0]+nctemp2092;
Model->Beta1y->a[nctemp2088] =Model->Alpha1y->a[nctemp2092];
int nctemp2098=i;
nctemp2098=j*Model->Beta2x->d[0]+nctemp2098;
int nctemp2102=i;
nctemp2102=j*Model->Alpha2x->d[0]+nctemp2102;
Model->Beta2x->a[nctemp2098] =Model->Alpha2x->a[nctemp2102];
int nctemp2108=i;
nctemp2108=j*Model->Beta2y->d[0]+nctemp2108;
int nctemp2112=i;
nctemp2112=j*Model->Alpha2y->d[0]+nctemp2112;
Model->Beta2y->a[nctemp2108] =Model->Alpha2y->a[nctemp2112];
int nctemp2118=i;
nctemp2118=j*Model->Eta1x->d[0]+nctemp2118;
int nctemp2122=i;
nctemp2122=j*Model->Alpha1x->d[0]+nctemp2122;
Model->Eta1x->a[nctemp2118] =Model->Alpha1x->a[nctemp2122];
int nctemp2128=i;
nctemp2128=j*Model->Eta1y->d[0]+nctemp2128;
int nctemp2132=i;
nctemp2132=j*Model->Alpha1y->d[0]+nctemp2132;
Model->Eta1y->a[nctemp2128] =Model->Alpha1y->a[nctemp2132];
int nctemp2138=i;
nctemp2138=j*Model->Eta2x->d[0]+nctemp2138;
int nctemp2142=i;
nctemp2142=j*Model->Alpha2x->d[0]+nctemp2142;
Model->Eta2x->a[nctemp2138] =Model->Alpha2x->a[nctemp2142];
int nctemp2148=i;
nctemp2148=j*Model->Eta2y->d[0]+nctemp2148;
int nctemp2152=i;
nctemp2152=j*Model->Alpha2y->d[0]+nctemp2152;
Model->Eta2y->a[nctemp2148] =Model->Alpha2y->a[nctemp2152];
int nctemp2158=i;
nctemp2158=j*Model->Nu1x->d[0]+nctemp2158;
int nctemp2162=i;
nctemp2162=j*Model->Alpha1x->d[0]+nctemp2162;
Model->Nu1x->a[nctemp2158] =Model->Alpha1x->a[nctemp2162];
int nctemp2168=i;
nctemp2168=j*Model->Nu1y->d[0]+nctemp2168;
int nctemp2172=i;
nctemp2172=j*Model->Alpha1y->d[0]+nctemp2172;
Model->Nu1y->a[nctemp2168] =Model->Alpha1y->a[nctemp2172];
int nctemp2178=i;
nctemp2178=j*Model->Nu2x->d[0]+nctemp2178;
int nctemp2182=i;
nctemp2182=j*Model->Alpha2x->d[0]+nctemp2182;
Model->Nu2x->a[nctemp2178] =Model->Alpha2x->a[nctemp2182];
int nctemp2188=i;
nctemp2188=j*Model->Nu2y->d[0]+nctemp2188;
int nctemp2192=i;
nctemp2192=j*Model->Alpha2y->d[0]+nctemp2192;
Model->Nu2y->a[nctemp2188] =Model->Alpha2y->a[nctemp2192];
int nctemp2198=i;
nctemp2198=j*Model->Dlambdax->d[0]+nctemp2198;
int nctemp2202=i;
nctemp2202=j*Model->Lambda->d[0]+nctemp2202;
Model->Dlambdax->a[nctemp2198] =Model->Lambda->a[nctemp2202];
int nctemp2208=i;
nctemp2208=j*Model->Dlambday->d[0]+nctemp2208;
int nctemp2212=i;
nctemp2212=j*Model->Lambda->d[0]+nctemp2212;
Model->Dlambday->a[nctemp2208] =Model->Lambda->a[nctemp2212];
int nctemp2218=i;
nctemp2218=j*Model->Dmux->d[0]+nctemp2218;
int nctemp2222=i;
nctemp2222=j*Model->Mu->d[0]+nctemp2222;
Model->Dmux->a[nctemp2218] =Model->Mu->a[nctemp2222];
int nctemp2228=i;
nctemp2228=j*Model->Dmuy->d[0]+nctemp2228;
int nctemp2232=i;
nctemp2232=j*Model->Mu->d[0]+nctemp2232;
Model->Dmuy->a[nctemp2228] =Model->Mu->a[nctemp2232];
int nctemp2238=i;
nctemp2238=j*Model->Drhopx->d[0]+nctemp2238;
int nctemp2242=i;
nctemp2242=j*Model->Rho->d[0]+nctemp2242;
Model->Drhopx->a[nctemp2238] =Model->Rho->a[nctemp2242];
int nctemp2248=i;
nctemp2248=j*Model->Drhopy->d[0]+nctemp2248;
int nctemp2252=i;
nctemp2252=j*Model->Rho->d[0]+nctemp2252;
Model->Drhopy->a[nctemp2248] =Model->Rho->a[nctemp2252];
int nctemp2258=i;
nctemp2258=j*Model->Drhosx->d[0]+nctemp2258;
int nctemp2262=i;
nctemp2262=j*Model->Rho->d[0]+nctemp2262;
Model->Drhosx->a[nctemp2258] =Model->Rho->a[nctemp2262];
int nctemp2268=i;
nctemp2268=j*Model->Drhosy->d[0]+nctemp2268;
int nctemp2272=i;
nctemp2272=j*Model->Rho->d[0]+nctemp2272;
Model->Drhosy->a[nctemp2268] =Model->Rho->a[nctemp2272];
}
int nctemp2283 = i + 1;
i =nctemp2283;
int nctemp2284 = (i < Nx);
nctemp1875=nctemp2284;
}
}
int nctemp2296 = j + 1;
j =nctemp2296;
int nctemp2297 = (j < Ny);
nctemp1867=nctemp2297;
}
return 1;
}
struct model* Modelcpml (nctempfloat2 *vp,nctempfloat2 *vs,nctempfloat2 *rho,nctempfloat2 *Ql,nctempfloat2 *Qm,nctempfloat2 *Qp,nctempfloat2 *Qs,float Dx,float Dt,float W0,int Nb)
{
struct model* Model;
int Nx;
int Ny;
int i;
int j;
struct model *nctemp2306=(struct model*)RunMalloc(sizeof(struct model));
Model =nctemp2306;
Model->Dx =Dx;
Model->Dt =Dt;
int nctemp2320=vp->d[0];Model->Nx =nctemp2320;
int nctemp2328=vp->d[1];Model->Ny =nctemp2328;
Model->Nb =Nb;
Model->W0 =W0;
Nx =Model->Nx;
Ny =Model->Ny;
int nctemp2354=Nx;
nctemp2354=nctemp2354*Ny;
nctempfloat2 *nctemp2353;
nctemp2353=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp2353->d[0]=Nx;
nctemp2353->d[1]=Ny;
nctemp2353->a=(float *)RunMalloc(sizeof(float)*nctemp2354);
Model->Rho=nctemp2353;
int nctemp2365=Nx;
nctemp2365=nctemp2365*Ny;
nctempfloat2 *nctemp2364;
nctemp2364=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp2364->d[0]=Nx;
nctemp2364->d[1]=Ny;
nctemp2364->a=(float *)RunMalloc(sizeof(float)*nctemp2365);
Model->Ql=nctemp2364;
int nctemp2376=Nx;
nctemp2376=nctemp2376*Ny;
nctempfloat2 *nctemp2375;
nctemp2375=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp2375->d[0]=Nx;
nctemp2375->d[1]=Ny;
nctemp2375->a=(float *)RunMalloc(sizeof(float)*nctemp2376);
Model->Qm=nctemp2375;
int nctemp2387=Nx;
nctemp2387=nctemp2387*Ny;
nctempfloat2 *nctemp2386;
nctemp2386=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp2386->d[0]=Nx;
nctemp2386->d[1]=Ny;
nctemp2386->a=(float *)RunMalloc(sizeof(float)*nctemp2387);
Model->Qp=nctemp2386;
int nctemp2398=Nx;
nctemp2398=nctemp2398*Ny;
nctempfloat2 *nctemp2397;
nctemp2397=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp2397->d[0]=Nx;
nctemp2397->d[1]=Ny;
nctemp2397->a=(float *)RunMalloc(sizeof(float)*nctemp2398);
Model->Qs=nctemp2397;
int nctemp2409=Nx;
nctemp2409=nctemp2409*Ny;
nctempfloat2 *nctemp2408;
nctemp2408=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp2408->d[0]=Nx;
nctemp2408->d[1]=Ny;
nctemp2408->a=(float *)RunMalloc(sizeof(float)*nctemp2409);
Model->Mu=nctemp2408;
int nctemp2420=Nx;
nctemp2420=nctemp2420*Ny;
nctempfloat2 *nctemp2419;
nctemp2419=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp2419->d[0]=Nx;
nctemp2419->d[1]=Ny;
nctemp2419->a=(float *)RunMalloc(sizeof(float)*nctemp2420);
Model->Lambda=nctemp2419;
int nctemp2431=Nx;
nctemp2431=nctemp2431*Ny;
nctempfloat2 *nctemp2430;
nctemp2430=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp2430->d[0]=Nx;
nctemp2430->d[1]=Ny;
nctemp2430->a=(float *)RunMalloc(sizeof(float)*nctemp2431);
Model->Dlambdax=nctemp2430;
int nctemp2442=Nx;
nctemp2442=nctemp2442*Ny;
nctempfloat2 *nctemp2441;
nctemp2441=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp2441->d[0]=Nx;
nctemp2441->d[1]=Ny;
nctemp2441->a=(float *)RunMalloc(sizeof(float)*nctemp2442);
Model->Dlambday=nctemp2441;
int nctemp2453=Nx;
nctemp2453=nctemp2453*Ny;
nctempfloat2 *nctemp2452;
nctemp2452=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp2452->d[0]=Nx;
nctemp2452->d[1]=Ny;
nctemp2452->a=(float *)RunMalloc(sizeof(float)*nctemp2453);
Model->Dmux=nctemp2452;
int nctemp2464=Nx;
nctemp2464=nctemp2464*Ny;
nctempfloat2 *nctemp2463;
nctemp2463=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp2463->d[0]=Nx;
nctemp2463->d[1]=Ny;
nctemp2463->a=(float *)RunMalloc(sizeof(float)*nctemp2464);
Model->Dmuy=nctemp2463;
int nctemp2475=Nx;
nctemp2475=nctemp2475*Ny;
nctempfloat2 *nctemp2474;
nctemp2474=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp2474->d[0]=Nx;
nctemp2474->d[1]=Ny;
nctemp2474->a=(float *)RunMalloc(sizeof(float)*nctemp2475);
Model->Drhopx=nctemp2474;
int nctemp2486=Nx;
nctemp2486=nctemp2486*Ny;
nctempfloat2 *nctemp2485;
nctemp2485=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp2485->d[0]=Nx;
nctemp2485->d[1]=Ny;
nctemp2485->a=(float *)RunMalloc(sizeof(float)*nctemp2486);
Model->Drhopy=nctemp2485;
int nctemp2497=Nx;
nctemp2497=nctemp2497*Ny;
nctempfloat2 *nctemp2496;
nctemp2496=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp2496->d[0]=Nx;
nctemp2496->d[1]=Ny;
nctemp2496->a=(float *)RunMalloc(sizeof(float)*nctemp2497);
Model->Drhosx=nctemp2496;
int nctemp2508=Nx;
nctemp2508=nctemp2508*Ny;
nctempfloat2 *nctemp2507;
nctemp2507=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp2507->d[0]=Nx;
nctemp2507->d[1]=Ny;
nctemp2507->a=(float *)RunMalloc(sizeof(float)*nctemp2508);
Model->Drhosy=nctemp2507;
int nctemp2519=Nx;
nctemp2519=nctemp2519*Ny;
nctempfloat2 *nctemp2518;
nctemp2518=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp2518->d[0]=Nx;
nctemp2518->d[1]=Ny;
nctemp2518->a=(float *)RunMalloc(sizeof(float)*nctemp2519);
Model->Alpha1x=nctemp2518;
int nctemp2530=Nx;
nctemp2530=nctemp2530*Ny;
nctempfloat2 *nctemp2529;
nctemp2529=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp2529->d[0]=Nx;
nctemp2529->d[1]=Ny;
nctemp2529->a=(float *)RunMalloc(sizeof(float)*nctemp2530);
Model->Alpha1y=nctemp2529;
int nctemp2541=Nx;
nctemp2541=nctemp2541*Ny;
nctempfloat2 *nctemp2540;
nctemp2540=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp2540->d[0]=Nx;
nctemp2540->d[1]=Ny;
nctemp2540->a=(float *)RunMalloc(sizeof(float)*nctemp2541);
Model->Alpha2x=nctemp2540;
int nctemp2552=Nx;
nctemp2552=nctemp2552*Ny;
nctempfloat2 *nctemp2551;
nctemp2551=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp2551->d[0]=Nx;
nctemp2551->d[1]=Ny;
nctemp2551->a=(float *)RunMalloc(sizeof(float)*nctemp2552);
Model->Alpha2y=nctemp2551;
int nctemp2563=Nx;
nctemp2563=nctemp2563*Ny;
nctempfloat2 *nctemp2562;
nctemp2562=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp2562->d[0]=Nx;
nctemp2562->d[1]=Ny;
nctemp2562->a=(float *)RunMalloc(sizeof(float)*nctemp2563);
Model->Beta1x=nctemp2562;
int nctemp2574=Nx;
nctemp2574=nctemp2574*Ny;
nctempfloat2 *nctemp2573;
nctemp2573=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp2573->d[0]=Nx;
nctemp2573->d[1]=Ny;
nctemp2573->a=(float *)RunMalloc(sizeof(float)*nctemp2574);
Model->Beta1y=nctemp2573;
int nctemp2585=Nx;
nctemp2585=nctemp2585*Ny;
nctempfloat2 *nctemp2584;
nctemp2584=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp2584->d[0]=Nx;
nctemp2584->d[1]=Ny;
nctemp2584->a=(float *)RunMalloc(sizeof(float)*nctemp2585);
Model->Beta2x=nctemp2584;
int nctemp2596=Nx;
nctemp2596=nctemp2596*Ny;
nctempfloat2 *nctemp2595;
nctemp2595=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp2595->d[0]=Nx;
nctemp2595->d[1]=Ny;
nctemp2595->a=(float *)RunMalloc(sizeof(float)*nctemp2596);
Model->Beta2y=nctemp2595;
int nctemp2607=Nx;
nctemp2607=nctemp2607*Ny;
nctempfloat2 *nctemp2606;
nctemp2606=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp2606->d[0]=Nx;
nctemp2606->d[1]=Ny;
nctemp2606->a=(float *)RunMalloc(sizeof(float)*nctemp2607);
Model->Eta1x=nctemp2606;
int nctemp2618=Nx;
nctemp2618=nctemp2618*Ny;
nctempfloat2 *nctemp2617;
nctemp2617=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp2617->d[0]=Nx;
nctemp2617->d[1]=Ny;
nctemp2617->a=(float *)RunMalloc(sizeof(float)*nctemp2618);
Model->Eta1y=nctemp2617;
int nctemp2629=Nx;
nctemp2629=nctemp2629*Ny;
nctempfloat2 *nctemp2628;
nctemp2628=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp2628->d[0]=Nx;
nctemp2628->d[1]=Ny;
nctemp2628->a=(float *)RunMalloc(sizeof(float)*nctemp2629);
Model->Eta2x=nctemp2628;
int nctemp2640=Nx;
nctemp2640=nctemp2640*Ny;
nctempfloat2 *nctemp2639;
nctemp2639=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp2639->d[0]=Nx;
nctemp2639->d[1]=Ny;
nctemp2639->a=(float *)RunMalloc(sizeof(float)*nctemp2640);
Model->Eta2y=nctemp2639;
int nctemp2651=Nx;
nctemp2651=nctemp2651*Ny;
nctempfloat2 *nctemp2650;
nctemp2650=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp2650->d[0]=Nx;
nctemp2650->d[1]=Ny;
nctemp2650->a=(float *)RunMalloc(sizeof(float)*nctemp2651);
Model->Nu1x=nctemp2650;
int nctemp2662=Nx;
nctemp2662=nctemp2662*Ny;
nctempfloat2 *nctemp2661;
nctemp2661=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp2661->d[0]=Nx;
nctemp2661->d[1]=Ny;
nctemp2661->a=(float *)RunMalloc(sizeof(float)*nctemp2662);
Model->Nu1y=nctemp2661;
int nctemp2673=Nx;
nctemp2673=nctemp2673*Ny;
nctempfloat2 *nctemp2672;
nctemp2672=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp2672->d[0]=Nx;
nctemp2672->d[1]=Ny;
nctemp2672->a=(float *)RunMalloc(sizeof(float)*nctemp2673);
Model->Nu2x=nctemp2672;
int nctemp2684=Nx;
nctemp2684=nctemp2684*Ny;
nctempfloat2 *nctemp2683;
nctemp2683=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp2683->d[0]=Nx;
nctemp2683->d[1]=Ny;
nctemp2683->a=(float *)RunMalloc(sizeof(float)*nctemp2684);
Model->Nu2y=nctemp2683;
int nctemp2695=Nx;
nctempfloat1 *nctemp2694;
nctemp2694=(nctempfloat1*)RunMalloc(sizeof(nctempfloat1));
nctemp2694->d[0]=Nx;
nctemp2694->a=(float *)RunMalloc(sizeof(float)*nctemp2695);
Model->dx=nctemp2694;
int nctemp2704=Ny;
nctempfloat1 *nctemp2703;
nctemp2703=(nctempfloat1*)RunMalloc(sizeof(nctempfloat1));
nctemp2703->d[0]=Ny;
nctemp2703->a=(float *)RunMalloc(sizeof(float)*nctemp2704);
Model->dy=nctemp2703;
int nctemp2713=Nx;
nctempfloat1 *nctemp2712;
nctemp2712=(nctempfloat1*)RunMalloc(sizeof(nctempfloat1));
nctemp2712->d[0]=Nx;
nctemp2712->a=(float *)RunMalloc(sizeof(float)*nctemp2713);
Model->dx1=nctemp2712;
int nctemp2722=Ny;
nctempfloat1 *nctemp2721;
nctemp2721=(nctempfloat1*)RunMalloc(sizeof(nctempfloat1));
nctemp2721->d[0]=Ny;
nctemp2721->a=(float *)RunMalloc(sizeof(float)*nctemp2722);
Model->dy1=nctemp2721;
int nctemp2731=Nx;
nctempfloat1 *nctemp2730;
nctemp2730=(nctempfloat1*)RunMalloc(sizeof(nctempfloat1));
nctemp2730->d[0]=Nx;
nctemp2730->a=(float *)RunMalloc(sizeof(float)*nctemp2731);
Model->dx2=nctemp2730;
int nctemp2740=Ny;
nctempfloat1 *nctemp2739;
nctemp2739=(nctempfloat1*)RunMalloc(sizeof(nctempfloat1));
nctemp2739->d[0]=Ny;
nctemp2739->a=(float *)RunMalloc(sizeof(float)*nctemp2740);
Model->dy2=nctemp2739;
j =0;
int nctemp2747 = (j < Ny);
while(nctemp2747){
{
i =0;
int nctemp2755 = (i < Nx);
while(nctemp2755){
{
int nctemp2762=i;
nctemp2762=j*Model->Rho->d[0]+nctemp2762;
int nctemp2770=i;
nctemp2770=j*rho->d[0]+nctemp2770;
float nctemp2773 = 1.0 / rho->a[nctemp2770];
Model->Rho->a[nctemp2762] =nctemp2773;
int nctemp2777=i;
nctemp2777=j*Model->Ql->d[0]+nctemp2777;
int nctemp2781=i;
nctemp2781=j*Ql->d[0]+nctemp2781;
Model->Ql->a[nctemp2777] =Ql->a[nctemp2781];
int nctemp2787=i;
nctemp2787=j*Model->Qm->d[0]+nctemp2787;
int nctemp2791=i;
nctemp2791=j*Qm->d[0]+nctemp2791;
Model->Qm->a[nctemp2787] =Qm->a[nctemp2791];
int nctemp2797=i;
nctemp2797=j*Model->Qp->d[0]+nctemp2797;
int nctemp2801=i;
nctemp2801=j*Qp->d[0]+nctemp2801;
Model->Qp->a[nctemp2797] =Qp->a[nctemp2801];
int nctemp2807=i;
nctemp2807=j*Model->Qs->d[0]+nctemp2807;
int nctemp2811=i;
nctemp2811=j*Qs->d[0]+nctemp2811;
Model->Qs->a[nctemp2807] =Qs->a[nctemp2811];
int nctemp2817=i;
nctemp2817=j*Model->Mu->d[0]+nctemp2817;
int nctemp2827=i;
nctemp2827=j*rho->d[0]+nctemp2827;
int nctemp2831=i;
nctemp2831=j*vs->d[0]+nctemp2831;
float nctemp2834 = rho->a[nctemp2827] * vs->a[nctemp2831];
int nctemp2836=i;
nctemp2836=j*vs->d[0]+nctemp2836;
float nctemp2839 = nctemp2834 * vs->a[nctemp2836];
Model->Mu->a[nctemp2817] =nctemp2839;
int nctemp2843=i;
nctemp2843=j*Model->Lambda->d[0]+nctemp2843;
int nctemp2850=i;
nctemp2850=j*rho->d[0]+nctemp2850;
int nctemp2860=i;
nctemp2860=j*vp->d[0]+nctemp2860;
int nctemp2864=i;
nctemp2864=j*vp->d[0]+nctemp2864;
float nctemp2867 = vp->a[nctemp2860] * vp->a[nctemp2864];
int nctemp2876=i;
nctemp2876=j*vs->d[0]+nctemp2876;
float nctemp2879 = 2.0 * vs->a[nctemp2876];
int nctemp2881=i;
nctemp2881=j*vs->d[0]+nctemp2881;
float nctemp2884 = nctemp2879 * vs->a[nctemp2881];
float nctemp2885 = nctemp2867 - nctemp2884;
float nctemp2886 = rho->a[nctemp2850] * nctemp2885;
Model->Lambda->a[nctemp2843] =nctemp2886;
}
int nctemp2895 = i + 1;
i =nctemp2895;
int nctemp2896 = (i < Nx);
nctemp2755=nctemp2896;
}
}
int nctemp2908 = j + 1;
j =nctemp2908;
int nctemp2909 = (j < Ny);
nctemp2747=nctemp2909;
}
nctempfloat1* nctemp2914= Model->dx;
float nctemp2917= Model->Dx;
int nctemp2919= Model->Nb;
int nctemp2921=Modeld(nctemp2914,nctemp2917,nctemp2919);
nctempfloat1* nctemp2923= Model->dy;
float nctemp2926= Model->Dx;
int nctemp2928= Model->Nb;
int nctemp2930=Modeld(nctemp2923,nctemp2926,nctemp2928);
nctempfloat1* nctemp2932= Model->dx1;
float nctemp2935= Model->Dx;
int nctemp2937= Model->Nb;
int nctemp2939=Modeld1(nctemp2932,nctemp2935,nctemp2937);
nctempfloat1* nctemp2941= Model->dy1;
float nctemp2944= Model->Dx;
int nctemp2946= Model->Nb;
int nctemp2948=Modeld1(nctemp2941,nctemp2944,nctemp2946);
nctempfloat1* nctemp2950= Model->dx2;
float nctemp2953= Model->Dx;
int nctemp2955= Model->Nb;
int nctemp2957=Modeld2(nctemp2950,nctemp2953,nctemp2955);
nctempfloat1* nctemp2959= Model->dy2;
float nctemp2962= Model->Dx;
int nctemp2964= Model->Nb;
int nctemp2966=Modeld2(nctemp2959,nctemp2962,nctemp2964);
struct model* nctemp2968= Model;
int nctemp2970=Modelcpmlcoeffs(nctemp2968);
return Model;
}
int Modeld1 (nctempfloat1 *d,float dx,int nb)
{
int i;
int n;
int nctemp2976=d->d[0];n =nctemp2976;
i =0;
int nctemp2984 = (i < n);
while(nctemp2984){
{
int nctemp2991=i;
d->a[nctemp2991] =0.0;
}
int nctemp3002 = i + 1;
i =nctemp3002;
int nctemp3003 = (i < n);
nctemp2984=nctemp3003;
}
i =0;
int nctemp3011 = (i < nb);
while(nctemp3011){
{
int nctemp3018=i;
float nctemp3031=(float)(i);
float nctemp3035 = nctemp3031 * dx;
float nctemp3040=(float)(nb);
float nctemp3044 = nctemp3040 * dx;
float nctemp3045 = nctemp3035 / nctemp3044;
float nctemp3046 = 1.0 - nctemp3045;
d->a[nctemp3018] =nctemp3046;
}
int nctemp3055 = i + 1;
i =nctemp3055;
int nctemp3056 = (i < nb);
nctemp3011=nctemp3056;
}
int nctemp3071 = n - 1;
int nctemp3073 = nctemp3071 - nb;
i =nctemp3073;
int nctemp3074 = (i < n);
while(nctemp3074){
{
int nctemp3081=i;
int nctemp3099 = n - 1;
int nctemp3101 = nctemp3099 - i;
float nctemp3090=(float)(nctemp3101);
float nctemp3103 = nctemp3090 * dx;
float nctemp3108=(float)(nb);
float nctemp3112 = nctemp3108 * dx;
float nctemp3113 = nctemp3103 / nctemp3112;
d->a[nctemp3081] =nctemp3113;
}
int nctemp3122 = i + 1;
i =nctemp3122;
int nctemp3123 = (i < n);
nctemp3074=nctemp3123;
}
return 1;
}
int Modeld2 (nctempfloat1 *d,float dx,int nb)
{
int i;
int n;
int nctemp3132=d->d[0];n =nctemp3132;
i =0;
int nctemp3140 = (i < n);
while(nctemp3140){
{
int nctemp3147=i;
d->a[nctemp3147] =0.0;
}
int nctemp3158 = i + 1;
i =nctemp3158;
int nctemp3159 = (i < n);
nctemp3140=nctemp3159;
}
i =0;
int nctemp3167 = (i < nb);
while(nctemp3167){
{
int nctemp3174=i;
float nctemp3189=(float)(i);
float nctemp3193 = nctemp3189 * dx;
float nctemp3198=(float)(nb);
float nctemp3202 = nctemp3198 * dx;
float nctemp3203 = nctemp3193 / nctemp3202;
float nctemp3208=(float)(i);
float nctemp3212 = nctemp3208 * dx;
float nctemp3213 = nctemp3203 * nctemp3212;
float nctemp3218=(float)(nb);
float nctemp3222 = nctemp3218 * dx;
float nctemp3223 = nctemp3213 / nctemp3222;
d->a[nctemp3174] =nctemp3223;
}
int nctemp3232 = i + 1;
i =nctemp3232;
int nctemp3233 = (i < nb);
nctemp3167=nctemp3233;
}
int nctemp3248 = n - 1;
int nctemp3250 = nctemp3248 - nb;
i =nctemp3250;
int nctemp3251 = (i < n);
while(nctemp3251){
{
int nctemp3258=i;
int nctemp3282 = n - 1;
int nctemp3284 = nctemp3282 - i;
float nctemp3273=(float)(nctemp3284);
float nctemp3286 = nctemp3273 * dx;
float nctemp3291=(float)(nb);
float nctemp3295 = nctemp3291 * dx;
float nctemp3296 = nctemp3286 / nctemp3295;
int nctemp3310 = n - 1;
int nctemp3312 = nctemp3310 - i;
float nctemp3301=(float)(nctemp3312);
float nctemp3314 = nctemp3301 * dx;
float nctemp3315 = nctemp3296 * nctemp3314;
float nctemp3320=(float)(nb);
float nctemp3324 = nctemp3320 * dx;
float nctemp3325 = nctemp3315 / nctemp3324;
d->a[nctemp3258] =nctemp3325;
}
int nctemp3334 = i + 1;
i =nctemp3334;
int nctemp3335 = (i < n);
nctemp3251=nctemp3335;
}
return 1;
}
