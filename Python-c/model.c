//  Translated by epsc  version today  
#include <stddef.h>
typedef struct { float r; float i;} complex; 
typedef struct nctempfloat1 { int d[1]; float *a;} nctempfloat1; 
typedef struct nctempint1 { int d[1]; int *a;} nctempint1; 
typedef struct nctempchar1 { int d[1]; char *a;} nctempchar1; 
typedef struct nctempcomplex1 { int d[1]; complex *a;} nctempcomplex1; 
typedef struct nctempfloat2 { int d[2]; float *a;} nctempfloat2; 
typedef struct nctempint2 { int d[2]; int *a;} nctempint2; 
typedef struct nctempchar2 { int d[2]; char *a;} nctempchar2; 
typedef struct nctempcomplex2 { int d[2]; complex *a;} nctempcomplex2; 
typedef struct nctempfloat3 { int d[3]; float *a;} nctempfloat3; 
typedef struct nctempint3 { int d[3]; int *a;} nctempint3; 
typedef struct nctempchar3 { int d[3]; char *a;} nctempchar3; 
typedef struct nctempcomplex3 { int d[3]; complex *a;} nctempcomplex3; 
typedef struct nctempfloat4 { int d[4]; float *a;} nctempfloat4; 
typedef struct nctempint4 { int d[4]; int *a;} nctempint4; 
typedef struct nctempchar4 { int d[4]; char *a;} nctempchar4; 
typedef struct nctempcomplex4 { int d[4]; complex *a;} nctempcomplex4; 
#include <stdlib.h>
#include <string.h>
void *RunMalloc(int n); 
int RunFree(void *n); 
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
struct MainArg {nctempchar1 *arg;
};
typedef struct nctempMainArg1 {int d[1]; struct MainArg *a; } nctempMainArg1;
struct nctempMainArg2 {int d[2]; struct MainArg *a; } ;
struct nctempMainArg3 {int d[3]; struct MainArg *a; } ;
struct nctempMainArg4 {int d[4]; struct MainArg *a; } ;
int LibeErrno;
nctempchar1 *LibeErrstr;
int LibeErrinit ();
int LibeGeterrno ();
int LibeClearerr ();
nctempchar1 * LibeGeterrstr ();
nctempchar1 * LibeGetenv (nctempchar1 *name);
;
;
;
;
;
float LibeMach (int flag);
float LibeFabs (float x);
float LibeFscale2 (float x,int n);
float LibeGetfman2 (float x);
int LibeGetfexp2 (float x);
float LibeFscale (float x,int n);
int LibeGetfman (float f,int maxdig);
float LibeGetffman (float f);
int LibeGetmaxdig (float f);
int LibeGetfexp (float f);
float LibeClock ();
;
;
;
;
;
;
;
float LibeSincosmax;
float LibeSincoslim;
float LibeLnmax;
float LibeLnmin;
int LibeMod (int n,int r);
float LibeSqrt (float x);
float LibeLn (float x);
float LibeExp (float x);
float LibeSincos (float x,float y,float sign);
float LibeSin (float x);
float LibeCos (float x);
float LibeTan (float x);
float LibeArcsin (float x);
float LibeArccos (float x);
float LibeAtan (float f);
float LibeArctan (float x);
float LibePow (float base,float exponent);
int LibeMathinit ();
int LibeStrlen (nctempchar1 *s);
int LibeStrcmp (nctempchar1 *s,nctempchar1 *t);
int LibeStrev (nctempchar1 *s);
int LibeStrcpy (nctempchar1 *s,nctempchar1 *t);
int LibeStrcat (nctempchar1 *s,nctempchar1 *t);
nctempchar1 * LibeStradd (nctempchar1 *t,nctempchar1 *s);
nctempchar1 * LibeStrsave (nctempchar1 *s);
int LibeIsalhpa (int c);
int LibeIsdigit (int c);
int LibeIsalnum (int c);
int LibeAtoi (nctempchar1 *s);
int LibeItoa (int n,nctempchar1 *s);
int LibeItoh (int n,nctempchar1 *s);
float LibeAtof (nctempchar1 *s);
int LibeFtoaf (int mant,int nexp,int nfield,int nfrac,nctempchar1 *s);
int LibeFtoae (int mant,int nexp,int nfield,int nfrac,nctempchar1 *s);
int LibeFtoa (float f,nctempchar1 *fmt,nctempchar1 *s);
struct LibeFdescr {int cnt;
int ptr;
int bufsize;
nctempchar1 *base;
int readflg;
int writflg;
int unbflg;
int errflg;
int eoflg;
int fd;
};
typedef struct nctempLibeFdescr1 {int d[1]; struct LibeFdescr *a; } nctempLibeFdescr1;
struct nctempLibeFdescr2 {int d[2]; struct LibeFdescr *a; } ;
struct nctempLibeFdescr3 {int d[3]; struct LibeFdescr *a; } ;
struct nctempLibeFdescr4 {int d[4]; struct LibeFdescr *a; } ;
;
struct nctempLibeFdescr1 *LibeFarr;
;
nctempchar1 *LibeTmpstr;
int LibeIoinit ();
int LibeFlushbuff (int fp);
int LibeFillbuff (int fp);
int LibeFlush (int fp);
int LibeOpen (nctempchar1 *name,nctempchar1 *mode);
int LibeClose (int fp);
int LibeGetc (int fp);
int LibeUngetc (int fp);
int LibeGetw (int fp,nctempchar1 *text);
int LibePutc (int fp,int c);
int LibePuts (int fp,nctempchar1 *s);
int LibePuti (int fp,int ival);
int LibePutf (int fp,float fval,nctempchar1 *form);
int LibePs (nctempchar1 *s);
int LibePi (int n);
int LibePf (float r);
int LibeRead (int fp,int n,nctempchar1 *buffer);
int LibeWrite (int fp,int n,nctempchar1 *buffer);
int LibeSeek (int fp,int pos,int flag);
int LibeIodelete ();
int NBLOCKS;
int NTHREADS;
int LibeSetnb (int nb);
int LibeSetnt (int nt);
int LibeGetnb ();
int LibeGetnt ();
int LibeArrayex (int line,nctempchar1 *name,int ival,int index,int bound);
int LibeSystem (nctempchar1 *cmd);
int LibeInit ();
int LibeExit ();
struct model {int Nx;
int Ny;
int Nb;
float W0;
nctempfloat2 *Qlx;
nctempfloat2 *Qly;
nctempfloat2 *Qmx;
nctempfloat2 *Qmy;
nctempfloat2 *Qpx;
nctempfloat2 *Qpy;
nctempfloat2 *Lambda;
nctempfloat2 *Mu;
nctempfloat2 *Muxy;
nctempfloat2 *Dmuxyx;
nctempfloat2 *Dmuxyy;
nctempfloat2 *Dlambdax;
nctempfloat2 *Dlambday;
nctempfloat2 *Dmux;
nctempfloat2 *Dmuy;
nctempfloat2 *Drhopx;
nctempfloat2 *Drhopy;
nctempfloat2 *Rho;
nctempfloat2 *Rhox;
nctempfloat2 *Rhoy;
nctempfloat2 *Alpha1x;
nctempfloat2 *Alpha1y;
nctempfloat2 *Alpha2x;
nctempfloat2 *Alpha2y;
nctempfloat2 *Beta1x;
nctempfloat2 *Beta2x;
nctempfloat2 *Beta1y;
nctempfloat2 *Beta2y;
nctempfloat2 *Eta1x;
nctempfloat2 *Eta1y;
nctempfloat2 *Eta2x;
nctempfloat2 *Eta2y;
nctempfloat1 *dx;
nctempfloat1 *dy;
nctempfloat1 *dx1;
nctempfloat1 *dy1;
nctempfloat1 *dx2;
nctempfloat1 *dy2;
float Dx;
float Dt;
};
typedef struct nctempmodel1 {int d[1]; struct model *a; } nctempmodel1;
struct nctempmodel2 {int d[2]; struct model *a; } ;
struct nctempmodel3 {int d[3]; struct model *a; } ;
struct nctempmodel4 {int d[4]; struct model *a; } ;
int Modeld (nctempfloat1 *d,float dx,int nb)
{
int i;
int n;
int nctemp5=d->d[0];n =nctemp5;
i =0;
int nctemp13 = (i < n);
while(nctemp13){
{
int nctemp20=i;
d->a[nctemp20] =1.0;
}
int nctemp31 = i + 1;
i =nctemp31;
int nctemp32 = (i < n);
nctemp13=nctemp32;
}
i =0;
int nctemp40 = (i < nb);
while(nctemp40){
{
int nctemp47=i;
int nctemp53=i;
float nctemp68=(float)(i);
float nctemp72 = nctemp68 * dx;
float nctemp77=(float)(nb);
float nctemp81 = nctemp77 * dx;
float nctemp82 = nctemp72 / nctemp81;
float nctemp87=(float)(i);
float nctemp91 = nctemp87 * dx;
float nctemp92 = nctemp82 * nctemp91;
float nctemp97=(float)(nb);
float nctemp101 = nctemp97 * dx;
float nctemp102 = nctemp92 / nctemp101;
float nctemp103 = d->a[nctemp53] * nctemp102;
d->a[nctemp47] =nctemp103;
}
int nctemp112 = i + 1;
i =nctemp112;
int nctemp113 = (i < nb);
nctemp40=nctemp113;
}
int nctemp128 = n - 1;
int nctemp130 = nctemp128 - nb;
i =nctemp130;
int nctemp131 = (i < n);
while(nctemp131){
{
int nctemp138=i;
int nctemp144=i;
int nctemp168 = n - 1;
int nctemp170 = nctemp168 - i;
float nctemp159=(float)(nctemp170);
float nctemp172 = nctemp159 * dx;
float nctemp177=(float)(nb);
float nctemp181 = nctemp177 * dx;
float nctemp182 = nctemp172 / nctemp181;
int nctemp196 = n - 1;
int nctemp198 = nctemp196 - i;
float nctemp187=(float)(nctemp198);
float nctemp200 = nctemp187 * dx;
float nctemp201 = nctemp182 * nctemp200;
float nctemp206=(float)(nb);
float nctemp210 = nctemp206 * dx;
float nctemp211 = nctemp201 / nctemp210;
float nctemp212 = d->a[nctemp144] * nctemp211;
d->a[nctemp138] =nctemp212;
}
int nctemp221 = i + 1;
i =nctemp221;
int nctemp222 = (i < n);
nctemp131=nctemp222;
}
return 1;
}
nctempfloat2 * Modelcopy (nctempfloat2 *a)
{
int nx;
int ny;
int i;
int j;
nctempfloat2 *b;
int nctemp231=a->d[0];nx =nctemp231;
int nctemp239=a->d[1];ny =nctemp239;
int nctemp249=nx;
nctemp249=nctemp249*ny;
nctempfloat2 *nctemp248;
nctemp248=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp248->d[0]=nx;
nctemp248->d[1]=ny;
nctemp248->a=(float *)RunMalloc(sizeof(float)*nctemp249);
b=nctemp248;
j =0;
int nctemp258 = (j < ny);
while(nctemp258){
{
i =0;
int nctemp266 = (i < nx);
while(nctemp266){
{
int nctemp273=i;
nctemp273=j*b->d[0]+nctemp273;
int nctemp277=i;
nctemp277=j*a->d[0]+nctemp277;
b->a[nctemp273] =a->a[nctemp277];
}
int nctemp288 = i + 1;
i =nctemp288;
int nctemp289 = (i < nx);
nctemp266=nctemp289;
}
}
int nctemp301 = j + 1;
j =nctemp301;
int nctemp302 = (j < ny);
nctemp258=nctemp302;
}
return b;
}
int Modelstaggerx (nctempfloat2 *a,nctempfloat2 *astagg)
{
int nx;
int ny;
int i;
int j;
int nctemp312=a->d[0];nx =nctemp312;
int nctemp320=a->d[1];ny =nctemp320;
j =0;
int nctemp328 = (j < ny);
while(nctemp328){
{
i =0;
int nctemp336 = (i < nx);
while(nctemp336){
{
int nctemp343=i;
nctemp343=j*astagg->d[0]+nctemp343;
int nctemp347=i;
nctemp347=j*a->d[0]+nctemp347;
astagg->a[nctemp343] =a->a[nctemp347];
}
int nctemp358 = i + 1;
i =nctemp358;
int nctemp359 = (i < nx);
nctemp336=nctemp359;
}
}
int nctemp371 = j + 1;
j =nctemp371;
int nctemp372 = (j < ny);
nctemp328=nctemp372;
}
j =0;
int nctemp380 = (j < ny);
while(nctemp380){
{
i =0;
int nctemp396 = nx - 1;
int nctemp388 = (i < nctemp396);
while(nctemp388){
{
int nctemp400=i;
nctemp400=j*astagg->d[0]+nctemp400;
int nctemp411=i;
nctemp411=j*a->d[0]+nctemp411;
int nctemp420 = i + 1;
int nctemp415=nctemp420;
nctemp415=j*a->d[0]+nctemp415;
float nctemp422 = a->a[nctemp411] + a->a[nctemp415];
float nctemp423 = 0.5 * nctemp422;
astagg->a[nctemp400] =nctemp423;
}
int nctemp432 = i + 1;
i =nctemp432;
int nctemp441 = nx - 1;
int nctemp433 = (i < nctemp441);
nctemp388=nctemp433;
}
}
int nctemp450 = j + 1;
j =nctemp450;
int nctemp451 = (j < ny);
nctemp380=nctemp451;
}
return 1;
}
int Modelstaggery (nctempfloat2 *a,nctempfloat2 *astagg)
{
int nx;
int ny;
int i;
int j;
int nctemp460=a->d[0];nx =nctemp460;
int nctemp468=a->d[1];ny =nctemp468;
j =0;
int nctemp476 = (j < ny);
while(nctemp476){
{
i =0;
int nctemp484 = (i < nx);
while(nctemp484){
{
int nctemp491=i;
nctemp491=j*astagg->d[0]+nctemp491;
int nctemp495=i;
nctemp495=j*a->d[0]+nctemp495;
astagg->a[nctemp491] =a->a[nctemp495];
}
int nctemp506 = i + 1;
i =nctemp506;
int nctemp507 = (i < nx);
nctemp484=nctemp507;
}
}
int nctemp519 = j + 1;
j =nctemp519;
int nctemp520 = (j < ny);
nctemp476=nctemp520;
}
j =0;
int nctemp536 = ny - 1;
int nctemp528 = (j < nctemp536);
while(nctemp528){
{
i =0;
int nctemp541 = (i < nx);
while(nctemp541){
{
int nctemp548=i;
nctemp548=j*astagg->d[0]+nctemp548;
int nctemp559=i;
nctemp559=j*a->d[0]+nctemp559;
int nctemp563=i;
int nctemp569 = j + 1;
nctemp563=nctemp569*a->d[0]+nctemp563;
float nctemp570 = a->a[nctemp559] + a->a[nctemp563];
float nctemp571 = 0.5 * nctemp570;
astagg->a[nctemp548] =nctemp571;
}
int nctemp580 = i + 1;
i =nctemp580;
int nctemp581 = (i < nx);
nctemp541=nctemp581;
}
}
int nctemp593 = j + 1;
j =nctemp593;
int nctemp602 = ny - 1;
int nctemp594 = (j < nctemp602);
nctemp528=nctemp594;
}
return 1;
}
int Modelslscoeffs (nctempfloat2 *Qx,nctempfloat2 *Qy,nctempfloat2 *modx,nctempfloat2 *mody,nctempfloat2 *coeff1x,nctempfloat2 *coeff1y,nctempfloat2 *coeff2x,nctempfloat2 *coeff2y,struct model* Model)
{
int Nx;
int Ny;
float tau0;
float tauex;
float tauey;
float tausx;
float tausy;
nctempfloat1 *d1;
nctempfloat1 *d2;
float argx;
float argy;
int i;
int j;
Nx =Model->Nx;
Ny =Model->Ny;
int nctemp618=Nx;
nctempfloat1 *nctemp617;
nctemp617=(nctempfloat1*)RunMalloc(sizeof(nctempfloat1));
nctemp617->d[0]=Nx;
nctemp617->a=(float *)RunMalloc(sizeof(float)*nctemp618);
d1=nctemp617;
int nctemp627=Ny;
nctempfloat1 *nctemp626;
nctemp626=(nctempfloat1*)RunMalloc(sizeof(nctempfloat1));
nctemp626->d[0]=Ny;
nctemp626->a=(float *)RunMalloc(sizeof(float)*nctemp627);
d2=nctemp626;
nctempfloat1* nctemp631= d1;
float nctemp634= Model->Dx;
int nctemp636= Model->Nb;
int nctemp638=Modeld(nctemp631,nctemp634,nctemp636);
nctempfloat1* nctemp640= d2;
float nctemp643= Model->Dx;
int nctemp645= Model->Nb;
int nctemp647=Modeld(nctemp640,nctemp643,nctemp645);
Model->dx=d1;
Model->dy=d2;
j =0;
int nctemp664 = (j < Ny);
while(nctemp664){
{
i =0;
int nctemp672 = (i < Nx);
while(nctemp672){
{
float nctemp684 = 1.0 / Model->W0;
tau0 =nctemp684;
int nctemp696=i;
nctemp696=j*Qx->d[0]+nctemp696;
float nctemp699 = tau0 / Qx->a[nctemp696];
int nctemp711=i;
nctemp711=j*Qx->d[0]+nctemp711;
int nctemp715=i;
nctemp715=j*Qx->d[0]+nctemp715;
float nctemp718 = Qx->a[nctemp711] * Qx->a[nctemp715];
float nctemp720 = nctemp718 + 1.0;
float nctemp704= nctemp720;
float nctemp721=LibeSqrt(nctemp704);
float nctemp723 = nctemp721 + 1.0;
float nctemp724 = nctemp699 * nctemp723;
tauex =nctemp724;
int nctemp736=i;
nctemp736=j*Qx->d[0]+nctemp736;
float nctemp739 = tau0 / Qx->a[nctemp736];
int nctemp751=i;
nctemp751=j*Qx->d[0]+nctemp751;
int nctemp755=i;
nctemp755=j*Qx->d[0]+nctemp755;
float nctemp758 = Qx->a[nctemp751] * Qx->a[nctemp755];
float nctemp760 = nctemp758 + 1.0;
float nctemp744= nctemp760;
float nctemp761=LibeSqrt(nctemp744);
float nctemp763 = nctemp761 - 1.0;
float nctemp764 = nctemp739 * nctemp763;
tausx =nctemp764;
int nctemp776=i;
nctemp776=j*Qy->d[0]+nctemp776;
float nctemp779 = tau0 / Qy->a[nctemp776];
int nctemp791=i;
nctemp791=j*Qy->d[0]+nctemp791;
int nctemp795=i;
nctemp795=j*Qy->d[0]+nctemp795;
float nctemp798 = Qy->a[nctemp791] * Qy->a[nctemp795];
float nctemp800 = nctemp798 + 1.0;
float nctemp784= nctemp800;
float nctemp801=LibeSqrt(nctemp784);
float nctemp803 = nctemp801 + 1.0;
float nctemp804 = nctemp779 * nctemp803;
tauey =nctemp804;
int nctemp816=i;
nctemp816=j*Qy->d[0]+nctemp816;
float nctemp819 = tau0 / Qy->a[nctemp816];
int nctemp831=i;
nctemp831=j*Qy->d[0]+nctemp831;
int nctemp835=i;
nctemp835=j*Qy->d[0]+nctemp835;
float nctemp838 = Qy->a[nctemp831] * Qy->a[nctemp835];
float nctemp840 = nctemp838 + 1.0;
float nctemp824= nctemp840;
float nctemp841=LibeSqrt(nctemp824);
float nctemp843 = nctemp841 - 1.0;
float nctemp844 = nctemp819 * nctemp843;
tausy =nctemp844;
float nctemp853 = 1.0 / tauex;
tauex =nctemp853;
float nctemp862 = 1.0 / tauey;
tauey =nctemp862;
float nctemp871 = 1.0 / tausx;
tausx =nctemp871;
float nctemp880 = 1.0 / tausy;
tausy =nctemp880;
int nctemp885=i;
argx =Model->dx->a[nctemp885];
int nctemp891=j;
argy =Model->dy->a[nctemp891];
int nctemp896=i;
nctemp896=j*coeff1x->d[0]+nctemp896;
float nctemp904= -argx;
float nctemp903= nctemp904;
float nctemp905=LibeExp(nctemp903);
float nctemp910= -Model->Dt;
float nctemp912 = nctemp910 * tausx;
float nctemp907= nctemp912;
float nctemp913=LibeExp(nctemp907);
float nctemp914 = nctemp905 * nctemp913;
coeff1x->a[nctemp896] =nctemp914;
int nctemp918=i;
nctemp918=j*coeff1y->d[0]+nctemp918;
float nctemp926= -argy;
float nctemp925= nctemp926;
float nctemp927=LibeExp(nctemp925);
float nctemp932= -Model->Dt;
float nctemp934 = nctemp932 * tausy;
float nctemp929= nctemp934;
float nctemp935=LibeExp(nctemp929);
float nctemp936 = nctemp927 * nctemp935;
coeff1y->a[nctemp918] =nctemp936;
int nctemp940=i;
nctemp940=j*coeff2x->d[0]+nctemp940;
float nctemp948 = Model->Dt * tauex;
coeff2x->a[nctemp940] =nctemp948;
int nctemp952=i;
nctemp952=j*coeff2y->d[0]+nctemp952;
float nctemp960 = Model->Dt * tauey;
coeff2y->a[nctemp952] =nctemp960;
int nctemp964=i;
nctemp964=j*modx->d[0]+nctemp964;
float nctemp975= -argx;
float nctemp974= nctemp975;
float nctemp976=LibeExp(nctemp974);
int nctemp978=i;
nctemp978=j*modx->d[0]+nctemp978;
float nctemp981 = nctemp976 * modx->a[nctemp978];
float nctemp991 = tausx / tauex;
float nctemp992 = 1.0 - nctemp991;
float nctemp993 = nctemp981 * nctemp992;
modx->a[nctemp964] =nctemp993;
int nctemp997=i;
nctemp997=j*mody->d[0]+nctemp997;
float nctemp1008= -argy;
float nctemp1007= nctemp1008;
float nctemp1009=LibeExp(nctemp1007);
int nctemp1011=i;
nctemp1011=j*mody->d[0]+nctemp1011;
float nctemp1014 = nctemp1009 * mody->a[nctemp1011];
float nctemp1024 = tausy / tauey;
float nctemp1025 = 1.0 - nctemp1024;
float nctemp1026 = nctemp1014 * nctemp1025;
mody->a[nctemp997] =nctemp1026;
}
int nctemp1035 = i + 1;
i =nctemp1035;
int nctemp1036 = (i < Nx);
nctemp672=nctemp1036;
}
}
int nctemp1048 = j + 1;
j =nctemp1048;
int nctemp1049 = (j < Ny);
nctemp664=nctemp1049;
}
RunFree(d1->a);
RunFree(d1);
RunFree(d2->a);
RunFree(d2);
return 1;
}
struct model* Modelsls (nctempfloat2 *vp,nctempfloat2 *vs,nctempfloat2 *rho,nctempfloat2 *Qlx,nctempfloat2 *Qly,nctempfloat2 *Qmx,nctempfloat2 *Qmy,nctempfloat2 *Qpx,nctempfloat2 *Qpy,float Dx,float Dt,float W0,int Nb)
{
struct model* Model;
int Nx;
int Ny;
int i;
int j;
int fd;
int dsize;
nctempchar1 *data;
nctempfloat2 *wrk;
nctempfloat2 *wrk2;
struct model *nctemp1064=(struct model*)RunMalloc(sizeof(struct model));
Model =nctemp1064;
Model->Dx =Dx;
Model->Dt =Dt;
int nctemp1078=vp->d[0];Model->Nx =nctemp1078;
int nctemp1086=vp->d[1];Model->Ny =nctemp1086;
Model->Nb =Nb;
Model->W0 =W0;
Nx =Model->Nx;
Ny =Model->Ny;
Model->Qlx=Qlx;
Model->Qly=Qly;
Model->Qmx=Qmx;
Model->Qmy=Qmy;
Model->Qpx=Qpx;
Model->Qpy=Qpy;
int nctemp1148=Nx;
nctemp1148=nctemp1148*Ny;
nctempfloat2 *nctemp1147;
nctemp1147=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp1147->d[0]=Nx;
nctemp1147->d[1]=Ny;
nctemp1147->a=(float *)RunMalloc(sizeof(float)*nctemp1148);
Model->Rho=nctemp1147;
int nctemp1159=Nx;
nctemp1159=nctemp1159*Ny;
nctempfloat2 *nctemp1158;
nctemp1158=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp1158->d[0]=Nx;
nctemp1158->d[1]=Ny;
nctemp1158->a=(float *)RunMalloc(sizeof(float)*nctemp1159);
Model->Rhox=nctemp1158;
int nctemp1170=Nx;
nctemp1170=nctemp1170*Ny;
nctempfloat2 *nctemp1169;
nctemp1169=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp1169->d[0]=Nx;
nctemp1169->d[1]=Ny;
nctemp1169->a=(float *)RunMalloc(sizeof(float)*nctemp1170);
Model->Rhoy=nctemp1169;
int nctemp1181=Nx;
nctemp1181=nctemp1181*Ny;
nctempfloat2 *nctemp1180;
nctemp1180=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp1180->d[0]=Nx;
nctemp1180->d[1]=Ny;
nctemp1180->a=(float *)RunMalloc(sizeof(float)*nctemp1181);
Model->Mu=nctemp1180;
int nctemp1192=Nx;
nctemp1192=nctemp1192*Ny;
nctempfloat2 *nctemp1191;
nctemp1191=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp1191->d[0]=Nx;
nctemp1191->d[1]=Ny;
nctemp1191->a=(float *)RunMalloc(sizeof(float)*nctemp1192);
Model->Muxy=nctemp1191;
int nctemp1203=Nx;
nctemp1203=nctemp1203*Ny;
nctempfloat2 *nctemp1202;
nctemp1202=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp1202->d[0]=Nx;
nctemp1202->d[1]=Ny;
nctemp1202->a=(float *)RunMalloc(sizeof(float)*nctemp1203);
Model->Lambda=nctemp1202;
int nctemp1214=Nx;
nctemp1214=nctemp1214*Ny;
nctempfloat2 *nctemp1213;
nctemp1213=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp1213->d[0]=Nx;
nctemp1213->d[1]=Ny;
nctemp1213->a=(float *)RunMalloc(sizeof(float)*nctemp1214);
Model->Dlambdax=nctemp1213;
int nctemp1225=Nx;
nctemp1225=nctemp1225*Ny;
nctempfloat2 *nctemp1224;
nctemp1224=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp1224->d[0]=Nx;
nctemp1224->d[1]=Ny;
nctemp1224->a=(float *)RunMalloc(sizeof(float)*nctemp1225);
Model->Dlambday=nctemp1224;
int nctemp1236=Nx;
nctemp1236=nctemp1236*Ny;
nctempfloat2 *nctemp1235;
nctemp1235=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp1235->d[0]=Nx;
nctemp1235->d[1]=Ny;
nctemp1235->a=(float *)RunMalloc(sizeof(float)*nctemp1236);
Model->Dmux=nctemp1235;
int nctemp1247=Nx;
nctemp1247=nctemp1247*Ny;
nctempfloat2 *nctemp1246;
nctemp1246=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp1246->d[0]=Nx;
nctemp1246->d[1]=Ny;
nctemp1246->a=(float *)RunMalloc(sizeof(float)*nctemp1247);
Model->Dmuy=nctemp1246;
int nctemp1258=Nx;
nctemp1258=nctemp1258*Ny;
nctempfloat2 *nctemp1257;
nctemp1257=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp1257->d[0]=Nx;
nctemp1257->d[1]=Ny;
nctemp1257->a=(float *)RunMalloc(sizeof(float)*nctemp1258);
Model->Dmuxyx=nctemp1257;
int nctemp1269=Nx;
nctemp1269=nctemp1269*Ny;
nctempfloat2 *nctemp1268;
nctemp1268=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp1268->d[0]=Nx;
nctemp1268->d[1]=Ny;
nctemp1268->a=(float *)RunMalloc(sizeof(float)*nctemp1269);
Model->Dmuxyy=nctemp1268;
int nctemp1280=Nx;
nctemp1280=nctemp1280*Ny;
nctempfloat2 *nctemp1279;
nctemp1279=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp1279->d[0]=Nx;
nctemp1279->d[1]=Ny;
nctemp1279->a=(float *)RunMalloc(sizeof(float)*nctemp1280);
Model->Drhopx=nctemp1279;
int nctemp1291=Nx;
nctemp1291=nctemp1291*Ny;
nctempfloat2 *nctemp1290;
nctemp1290=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp1290->d[0]=Nx;
nctemp1290->d[1]=Ny;
nctemp1290->a=(float *)RunMalloc(sizeof(float)*nctemp1291);
Model->Drhopy=nctemp1290;
int nctemp1302=Nx;
nctemp1302=nctemp1302*Ny;
nctempfloat2 *nctemp1301;
nctemp1301=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp1301->d[0]=Nx;
nctemp1301->d[1]=Ny;
nctemp1301->a=(float *)RunMalloc(sizeof(float)*nctemp1302);
Model->Alpha1x=nctemp1301;
int nctemp1313=Nx;
nctemp1313=nctemp1313*Ny;
nctempfloat2 *nctemp1312;
nctemp1312=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp1312->d[0]=Nx;
nctemp1312->d[1]=Ny;
nctemp1312->a=(float *)RunMalloc(sizeof(float)*nctemp1313);
Model->Alpha1y=nctemp1312;
int nctemp1324=Nx;
nctemp1324=nctemp1324*Ny;
nctempfloat2 *nctemp1323;
nctemp1323=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp1323->d[0]=Nx;
nctemp1323->d[1]=Ny;
nctemp1323->a=(float *)RunMalloc(sizeof(float)*nctemp1324);
Model->Alpha2x=nctemp1323;
int nctemp1335=Nx;
nctemp1335=nctemp1335*Ny;
nctempfloat2 *nctemp1334;
nctemp1334=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp1334->d[0]=Nx;
nctemp1334->d[1]=Ny;
nctemp1334->a=(float *)RunMalloc(sizeof(float)*nctemp1335);
Model->Alpha2y=nctemp1334;
int nctemp1346=Nx;
nctemp1346=nctemp1346*Ny;
nctempfloat2 *nctemp1345;
nctemp1345=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp1345->d[0]=Nx;
nctemp1345->d[1]=Ny;
nctemp1345->a=(float *)RunMalloc(sizeof(float)*nctemp1346);
Model->Beta1x=nctemp1345;
int nctemp1357=Nx;
nctemp1357=nctemp1357*Ny;
nctempfloat2 *nctemp1356;
nctemp1356=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp1356->d[0]=Nx;
nctemp1356->d[1]=Ny;
nctemp1356->a=(float *)RunMalloc(sizeof(float)*nctemp1357);
Model->Beta1y=nctemp1356;
int nctemp1368=Nx;
nctemp1368=nctemp1368*Ny;
nctempfloat2 *nctemp1367;
nctemp1367=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp1367->d[0]=Nx;
nctemp1367->d[1]=Ny;
nctemp1367->a=(float *)RunMalloc(sizeof(float)*nctemp1368);
Model->Beta2x=nctemp1367;
int nctemp1379=Nx;
nctemp1379=nctemp1379*Ny;
nctempfloat2 *nctemp1378;
nctemp1378=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp1378->d[0]=Nx;
nctemp1378->d[1]=Ny;
nctemp1378->a=(float *)RunMalloc(sizeof(float)*nctemp1379);
Model->Beta2y=nctemp1378;
int nctemp1390=Nx;
nctemp1390=nctemp1390*Ny;
nctempfloat2 *nctemp1389;
nctemp1389=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp1389->d[0]=Nx;
nctemp1389->d[1]=Ny;
nctemp1389->a=(float *)RunMalloc(sizeof(float)*nctemp1390);
Model->Eta1x=nctemp1389;
int nctemp1401=Nx;
nctemp1401=nctemp1401*Ny;
nctempfloat2 *nctemp1400;
nctemp1400=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp1400->d[0]=Nx;
nctemp1400->d[1]=Ny;
nctemp1400->a=(float *)RunMalloc(sizeof(float)*nctemp1401);
Model->Eta1y=nctemp1400;
int nctemp1412=Nx;
nctemp1412=nctemp1412*Ny;
nctempfloat2 *nctemp1411;
nctemp1411=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp1411->d[0]=Nx;
nctemp1411->d[1]=Ny;
nctemp1411->a=(float *)RunMalloc(sizeof(float)*nctemp1412);
Model->Eta2x=nctemp1411;
int nctemp1423=Nx;
nctemp1423=nctemp1423*Ny;
nctempfloat2 *nctemp1422;
nctemp1422=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp1422->d[0]=Nx;
nctemp1422->d[1]=Ny;
nctemp1422->a=(float *)RunMalloc(sizeof(float)*nctemp1423);
Model->Eta2y=nctemp1422;
j =0;
int nctemp1432 = (j < Ny);
while(nctemp1432){
{
i =0;
int nctemp1440 = (i < Nx);
while(nctemp1440){
{
int nctemp1447=i;
nctemp1447=j*Model->Rho->d[0]+nctemp1447;
int nctemp1455=i;
nctemp1455=j*rho->d[0]+nctemp1455;
float nctemp1458 = 1.0 / rho->a[nctemp1455];
Model->Rho->a[nctemp1447] =nctemp1458;
int nctemp1462=i;
nctemp1462=j*Model->Mu->d[0]+nctemp1462;
int nctemp1472=i;
nctemp1472=j*rho->d[0]+nctemp1472;
int nctemp1476=i;
nctemp1476=j*vs->d[0]+nctemp1476;
float nctemp1479 = rho->a[nctemp1472] * vs->a[nctemp1476];
int nctemp1481=i;
nctemp1481=j*vs->d[0]+nctemp1481;
float nctemp1484 = nctemp1479 * vs->a[nctemp1481];
Model->Mu->a[nctemp1462] =nctemp1484;
int nctemp1488=i;
nctemp1488=j*Model->Lambda->d[0]+nctemp1488;
int nctemp1495=i;
nctemp1495=j*rho->d[0]+nctemp1495;
int nctemp1505=i;
nctemp1505=j*vp->d[0]+nctemp1505;
int nctemp1509=i;
nctemp1509=j*vp->d[0]+nctemp1509;
float nctemp1512 = vp->a[nctemp1505] * vp->a[nctemp1509];
int nctemp1521=i;
nctemp1521=j*vs->d[0]+nctemp1521;
float nctemp1524 = 2.0 * vs->a[nctemp1521];
int nctemp1526=i;
nctemp1526=j*vs->d[0]+nctemp1526;
float nctemp1529 = nctemp1524 * vs->a[nctemp1526];
float nctemp1530 = nctemp1512 - nctemp1529;
float nctemp1531 = rho->a[nctemp1495] * nctemp1530;
Model->Lambda->a[nctemp1488] =nctemp1531;
int nctemp1535=i;
nctemp1535=j*Model->Alpha1x->d[0]+nctemp1535;
Model->Alpha1x->a[nctemp1535] =0.0;
int nctemp1542=i;
nctemp1542=j*Model->Alpha1y->d[0]+nctemp1542;
Model->Alpha1y->a[nctemp1542] =0.0;
int nctemp1549=i;
nctemp1549=j*Model->Alpha2x->d[0]+nctemp1549;
Model->Alpha2x->a[nctemp1549] =0.0;
int nctemp1556=i;
nctemp1556=j*Model->Alpha2y->d[0]+nctemp1556;
Model->Alpha2y->a[nctemp1556] =0.0;
int nctemp1563=i;
nctemp1563=j*Model->Beta1x->d[0]+nctemp1563;
Model->Beta1x->a[nctemp1563] =0.0;
int nctemp1570=i;
nctemp1570=j*Model->Beta1y->d[0]+nctemp1570;
Model->Beta1y->a[nctemp1570] =0.0;
int nctemp1577=i;
nctemp1577=j*Model->Beta2x->d[0]+nctemp1577;
Model->Beta2x->a[nctemp1577] =0.0;
int nctemp1584=i;
nctemp1584=j*Model->Beta2y->d[0]+nctemp1584;
Model->Beta2y->a[nctemp1584] =0.0;
int nctemp1591=i;
nctemp1591=j*Model->Eta1x->d[0]+nctemp1591;
Model->Eta1x->a[nctemp1591] =0.0;
int nctemp1598=i;
nctemp1598=j*Model->Eta1y->d[0]+nctemp1598;
Model->Eta1y->a[nctemp1598] =0.0;
int nctemp1605=i;
nctemp1605=j*Model->Eta2x->d[0]+nctemp1605;
Model->Eta2x->a[nctemp1605] =0.0;
int nctemp1612=i;
nctemp1612=j*Model->Eta2y->d[0]+nctemp1612;
Model->Eta2y->a[nctemp1612] =0.0;
int nctemp1619=i;
nctemp1619=j*Model->Dlambdax->d[0]+nctemp1619;
int nctemp1623=i;
nctemp1623=j*Model->Lambda->d[0]+nctemp1623;
Model->Dlambdax->a[nctemp1619] =Model->Lambda->a[nctemp1623];
int nctemp1629=i;
nctemp1629=j*Model->Dlambday->d[0]+nctemp1629;
int nctemp1633=i;
nctemp1633=j*Model->Lambda->d[0]+nctemp1633;
Model->Dlambday->a[nctemp1629] =Model->Lambda->a[nctemp1633];
int nctemp1639=i;
nctemp1639=j*Model->Dmux->d[0]+nctemp1639;
int nctemp1643=i;
nctemp1643=j*Model->Mu->d[0]+nctemp1643;
Model->Dmux->a[nctemp1639] =Model->Mu->a[nctemp1643];
int nctemp1649=i;
nctemp1649=j*Model->Dmuy->d[0]+nctemp1649;
int nctemp1653=i;
nctemp1653=j*Model->Mu->d[0]+nctemp1653;
Model->Dmuy->a[nctemp1649] =Model->Mu->a[nctemp1653];
int nctemp1659=i;
nctemp1659=j*Model->Drhopx->d[0]+nctemp1659;
int nctemp1663=i;
nctemp1663=j*Model->Rho->d[0]+nctemp1663;
Model->Drhopx->a[nctemp1659] =Model->Rho->a[nctemp1663];
int nctemp1669=i;
nctemp1669=j*Model->Drhopy->d[0]+nctemp1669;
int nctemp1673=i;
nctemp1673=j*Model->Rho->d[0]+nctemp1673;
Model->Drhopy->a[nctemp1669] =Model->Rho->a[nctemp1673];
}
int nctemp1684 = i + 1;
i =nctemp1684;
int nctemp1685 = (i < Nx);
nctemp1440=nctemp1685;
}
}
int nctemp1697 = j + 1;
j =nctemp1697;
int nctemp1698 = (j < Ny);
nctemp1432=nctemp1698;
}
nctempfloat2* nctemp1703= Model->Qlx;
nctempfloat2* nctemp1706= Model->Qly;
nctempfloat2* nctemp1709= Model->Dlambdax;
nctempfloat2* nctemp1712= Model->Dlambday;
nctempfloat2* nctemp1715= Model->Alpha1x;
nctempfloat2* nctemp1718= Model->Alpha1y;
nctempfloat2* nctemp1721= Model->Alpha2x;
nctempfloat2* nctemp1724= Model->Alpha2y;
struct model* nctemp1727= Model;
int nctemp1729=Modelslscoeffs(nctemp1703,nctemp1706,nctemp1709,nctemp1712,nctemp1715,nctemp1718,nctemp1721,nctemp1724,nctemp1727);
nctempfloat2* nctemp1731= Model->Qmx;
nctempfloat2* nctemp1734= Model->Qmy;
nctempfloat2* nctemp1737= Model->Dmux;
nctempfloat2* nctemp1740= Model->Dmuy;
nctempfloat2* nctemp1743= Model->Beta1x;
nctempfloat2* nctemp1746= Model->Beta1y;
nctempfloat2* nctemp1749= Model->Beta2x;
nctempfloat2* nctemp1752= Model->Beta2y;
struct model* nctemp1755= Model;
int nctemp1757=Modelslscoeffs(nctemp1731,nctemp1734,nctemp1737,nctemp1740,nctemp1743,nctemp1746,nctemp1749,nctemp1752,nctemp1755);
nctempfloat2* nctemp1759= Model->Qpx;
nctempfloat2* nctemp1762= Model->Qpy;
nctempfloat2* nctemp1765= Model->Drhopx;
nctempfloat2* nctemp1768= Model->Drhopy;
nctempfloat2* nctemp1771= Model->Eta1x;
nctempfloat2* nctemp1774= Model->Eta1y;
nctempfloat2* nctemp1777= Model->Eta2x;
nctempfloat2* nctemp1780= Model->Eta2y;
struct model* nctemp1783= Model;
int nctemp1785=Modelslscoeffs(nctemp1759,nctemp1762,nctemp1765,nctemp1768,nctemp1771,nctemp1774,nctemp1777,nctemp1780,nctemp1783);
nctempfloat2* nctemp1787= Model->Rho;
nctempfloat2* nctemp1790= Model->Rhox;
int nctemp1793=Modelstaggerx(nctemp1787,nctemp1790);
nctempfloat2* nctemp1795= Model->Rho;
nctempfloat2* nctemp1798= Model->Rhoy;
int nctemp1801=Modelstaggery(nctemp1795,nctemp1798);
nctempfloat2* nctemp1807= Model->Drhopx;
nctempfloat2* nctemp1810=Modelcopy(nctemp1807);
wrk=nctemp1810;
nctempfloat2* nctemp1812= wrk;
nctempfloat2* nctemp1815= Model->Drhopx;
int nctemp1818=Modelstaggerx(nctemp1812,nctemp1815);
RunFree(wrk->a);
RunFree(wrk);
nctempfloat2* nctemp1827= Model->Drhopy;
nctempfloat2* nctemp1830=Modelcopy(nctemp1827);
wrk=nctemp1830;
nctempfloat2* nctemp1832= wrk;
nctempfloat2* nctemp1835= Model->Drhopy;
int nctemp1838=Modelstaggery(nctemp1832,nctemp1835);
nctempfloat2* nctemp1840= Model->Mu;
nctempfloat2* nctemp1843= wrk;
int nctemp1846=Modelstaggerx(nctemp1840,nctemp1843);
nctempfloat2* nctemp1848= wrk;
nctempfloat2* nctemp1851= Model->Muxy;
int nctemp1854=Modelstaggery(nctemp1848,nctemp1851);
nctempfloat2* nctemp1856= Model->Dmux;
nctempfloat2* nctemp1859= wrk;
int nctemp1862=Modelstaggerx(nctemp1856,nctemp1859);
nctempfloat2* nctemp1864= wrk;
nctempfloat2* nctemp1867= Model->Dmuxyx;
int nctemp1870=Modelstaggery(nctemp1864,nctemp1867);
nctempfloat2* nctemp1872= Model->Dmuy;
nctempfloat2* nctemp1875= wrk;
int nctemp1878=Modelstaggerx(nctemp1872,nctemp1875);
nctempfloat2* nctemp1880= wrk;
nctempfloat2* nctemp1883= Model->Dmuxyy;
int nctemp1886=Modelstaggery(nctemp1880,nctemp1883);
RunFree(wrk->a);
RunFree(wrk);
nctempfloat2* nctemp1895= Model->Beta1x;
nctempfloat2* nctemp1898=Modelcopy(nctemp1895);
wrk=nctemp1898;
int nctemp1905=Model->Nx;
nctemp1905=nctemp1905*Model->Ny;
nctempfloat2 *nctemp1904;
nctemp1904=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp1904->d[0]=Model->Nx;
nctemp1904->d[1]=Model->Ny;
nctemp1904->a=(float *)RunMalloc(sizeof(float)*nctemp1905);
wrk2=nctemp1904;
nctempfloat2* nctemp1911= wrk;
nctempfloat2* nctemp1914= wrk2;
int nctemp1917=Modelstaggery(nctemp1911,nctemp1914);
nctempfloat2* nctemp1919= wrk2;
nctempfloat2* nctemp1922= Model->Beta1x;
int nctemp1925=Modelstaggerx(nctemp1919,nctemp1922);
RunFree(wrk->a);
RunFree(wrk);
nctempfloat2* nctemp1934= Model->Beta2x;
nctempfloat2* nctemp1937=Modelcopy(nctemp1934);
wrk=nctemp1937;
int nctemp1944=Model->Nx;
nctemp1944=nctemp1944*Model->Ny;
nctempfloat2 *nctemp1943;
nctemp1943=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp1943->d[0]=Model->Nx;
nctemp1943->d[1]=Model->Ny;
nctemp1943->a=(float *)RunMalloc(sizeof(float)*nctemp1944);
wrk2=nctemp1943;
nctempfloat2* nctemp1950= wrk;
nctempfloat2* nctemp1953= wrk2;
int nctemp1956=Modelstaggery(nctemp1950,nctemp1953);
nctempfloat2* nctemp1958= wrk2;
nctempfloat2* nctemp1961= Model->Beta2x;
int nctemp1964=Modelstaggerx(nctemp1958,nctemp1961);
RunFree(wrk->a);
RunFree(wrk);
RunFree(wrk2->a);
RunFree(wrk2);
nctempfloat2* nctemp1976= Model->Beta1y;
nctempfloat2* nctemp1979=Modelcopy(nctemp1976);
wrk=nctemp1979;
int nctemp1986=Model->Nx;
nctemp1986=nctemp1986*Model->Ny;
nctempfloat2 *nctemp1985;
nctemp1985=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp1985->d[0]=Model->Nx;
nctemp1985->d[1]=Model->Ny;
nctemp1985->a=(float *)RunMalloc(sizeof(float)*nctemp1986);
wrk2=nctemp1985;
nctempfloat2* nctemp1992= wrk;
nctempfloat2* nctemp1995= wrk2;
int nctemp1998=Modelstaggery(nctemp1992,nctemp1995);
nctempfloat2* nctemp2000= wrk2;
nctempfloat2* nctemp2003= Model->Beta1y;
int nctemp2006=Modelstaggerx(nctemp2000,nctemp2003);
RunFree(wrk->a);
RunFree(wrk);
nctempfloat2* nctemp2015= Model->Beta2y;
nctempfloat2* nctemp2018=Modelcopy(nctemp2015);
wrk=nctemp2018;
int nctemp2025=Model->Nx;
nctemp2025=nctemp2025*Model->Ny;
nctempfloat2 *nctemp2024;
nctemp2024=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp2024->d[0]=Model->Nx;
nctemp2024->d[1]=Model->Ny;
nctemp2024->a=(float *)RunMalloc(sizeof(float)*nctemp2025);
wrk2=nctemp2024;
nctempfloat2* nctemp2031= wrk;
nctempfloat2* nctemp2034= wrk2;
int nctemp2037=Modelstaggery(nctemp2031,nctemp2034);
nctempfloat2* nctemp2039= wrk2;
nctempfloat2* nctemp2042= Model->Beta2y;
int nctemp2045=Modelstaggerx(nctemp2039,nctemp2042);
RunFree(wrk->a);
RunFree(wrk);
RunFree(wrk2->a);
RunFree(wrk2);
nctempfloat2* nctemp2057= Model->Eta1x;
nctempfloat2* nctemp2060=Modelcopy(nctemp2057);
wrk=nctemp2060;
nctempfloat2* nctemp2062= wrk;
nctempfloat2* nctemp2065= Model->Eta1x;
int nctemp2068=Modelstaggerx(nctemp2062,nctemp2065);
RunFree(wrk->a);
RunFree(wrk);
nctempfloat2* nctemp2077= Model->Eta2x;
nctempfloat2* nctemp2080=Modelcopy(nctemp2077);
wrk=nctemp2080;
nctempfloat2* nctemp2082= wrk;
nctempfloat2* nctemp2085= Model->Eta2x;
int nctemp2088=Modelstaggerx(nctemp2082,nctemp2085);
RunFree(wrk->a);
RunFree(wrk);
nctempfloat2* nctemp2097= Model->Eta1y;
nctempfloat2* nctemp2100=Modelcopy(nctemp2097);
wrk=nctemp2100;
nctempfloat2* nctemp2102= wrk;
nctempfloat2* nctemp2105= Model->Eta1y;
int nctemp2108=Modelstaggery(nctemp2102,nctemp2105);
RunFree(wrk->a);
RunFree(wrk);
nctempfloat2* nctemp2117= Model->Eta2y;
nctempfloat2* nctemp2120=Modelcopy(nctemp2117);
wrk=nctemp2120;
nctempfloat2* nctemp2122= wrk;
nctempfloat2* nctemp2125= Model->Eta2y;
int nctemp2128=Modelstaggery(nctemp2122,nctemp2125);
RunFree(wrk->a);
RunFree(wrk);
return Model;
}
struct model* ModelNew (nctempfloat2 *vp,nctempfloat2 *vs,nctempfloat2 *rho,nctempfloat2 *Qlx,nctempfloat2 *Qly,nctempfloat2 *Qmx,nctempfloat2 *Qmy,nctempfloat2 *Qpx,nctempfloat2 *Qpy,float Dx,float Dt,float W0,int Nb,int Rheol)
{
struct model* m;
int nctemp2133 = (Rheol ==2);
if(nctemp2133)
{
nctempfloat2* nctemp2141= vp;
nctempfloat2* nctemp2144= vs;
nctempfloat2* nctemp2147= rho;
nctempfloat2* nctemp2150= Qlx;
nctempfloat2* nctemp2153= Qly;
nctempfloat2* nctemp2156= Qmx;
nctempfloat2* nctemp2159= Qmy;
nctempfloat2* nctemp2162= Qpx;
nctempfloat2* nctemp2165= Qpy;
float nctemp2168= Dx;
float nctemp2170= Dt;
float nctemp2172= W0;
int nctemp2174= Nb;
struct model* nctemp2176=Modelsls(nctemp2141,nctemp2144,nctemp2147,nctemp2150,nctemp2153,nctemp2156,nctemp2159,nctemp2162,nctemp2165,nctemp2168,nctemp2170,nctemp2172,nctemp2174);
m =nctemp2176;
}
else{
int nctemp2178= 4;
struct nctempchar1 *nctemp2182;
static struct nctempchar1 nctemp2183 = {{ 18}, (char*)"Unknown Q-model\n\0"};
nctemp2182=&nctemp2183;
nctempchar1* nctemp2180= nctemp2182;
int nctemp2184=LibePuts(nctemp2178,nctemp2180);
int nctemp2186= 4;
int nctemp2188=LibeFlush(nctemp2186);
int nctemp2190=LibeExit();
}
return m;
}
float ModelStability (struct model* Model)
{
int nx;
int ny;
int i;
int j;
float vp;
float stab;
nx =Model->Nx;
ny =Model->Ny;
j =0;
int nctemp2204 = (j < ny);
while(nctemp2204){
{
i =0;
int nctemp2212 = (i < nx);
while(nctemp2212){
{
int nctemp2227=i;
nctemp2227=j*Model->Lambda->d[0]+nctemp2227;
int nctemp2235=i;
nctemp2235=j*Model->Mu->d[0]+nctemp2235;
float nctemp2238 = 2.0 * Model->Mu->a[nctemp2235];
float nctemp2239 = Model->Lambda->a[nctemp2227] + nctemp2238;
int nctemp2241=i;
nctemp2241=j*Model->Rho->d[0]+nctemp2241;
float nctemp2244 = nctemp2239 / Model->Rho->a[nctemp2241];
float nctemp2220= nctemp2244;
float nctemp2245=LibeSqrt(nctemp2220);
vp =nctemp2245;
float nctemp2257 = vp * Model->Dt;
float nctemp2259 = nctemp2257 / Model->Dx;
stab =nctemp2259;
float nctemp2268= 2.0;
float nctemp2270=LibeSqrt(nctemp2268);
float nctemp2271 = 1.0 / nctemp2270;
int nctemp2260 = (stab > nctemp2271);
if(nctemp2260)
{
int nctemp2273= 4;
struct nctempchar1 *nctemp2277;
static struct nctempchar1 nctemp2278 = {{ 28}, (char*)"Stability index too large! \0"};
nctemp2277=&nctemp2278;
nctempchar1* nctemp2275= nctemp2277;
int nctemp2279=LibePuts(nctemp2273,nctemp2275);
int nctemp2281= 4;
float nctemp2283= stab;
struct nctempchar1 *nctemp2287;
static struct nctempchar1 nctemp2288 = {{ 2}, (char*)"g\0"};
nctemp2287=&nctemp2288;
nctempchar1* nctemp2285= nctemp2287;
int nctemp2289=LibePutf(nctemp2281,nctemp2283,nctemp2285);
int nctemp2291= 4;
struct nctempchar1 *nctemp2295;
static struct nctempchar1 nctemp2296 = {{ 3}, (char*)"\n\0"};
nctemp2295=&nctemp2296;
nctempchar1* nctemp2293= nctemp2295;
int nctemp2297=LibePuts(nctemp2291,nctemp2293);
int nctemp2299= 4;
struct nctempchar1 *nctemp2303;
static struct nctempchar1 nctemp2304 = {{ 7}, (char*)"vp: \n\0"};
nctemp2303=&nctemp2304;
nctempchar1* nctemp2301= nctemp2303;
int nctemp2305=LibePuts(nctemp2299,nctemp2301);
int nctemp2307= 4;
float nctemp2309= vp;
struct nctempchar1 *nctemp2313;
static struct nctempchar1 nctemp2314 = {{ 2}, (char*)"g\0"};
nctemp2313=&nctemp2314;
nctempchar1* nctemp2311= nctemp2313;
int nctemp2315=LibePutf(nctemp2307,nctemp2309,nctemp2311);
int nctemp2317= 4;
struct nctempchar1 *nctemp2321;
static struct nctempchar1 nctemp2322 = {{ 3}, (char*)"\n\0"};
nctemp2321=&nctemp2322;
nctempchar1* nctemp2319= nctemp2321;
int nctemp2323=LibePuts(nctemp2317,nctemp2319);
int nctemp2325= 4;
struct nctempchar1 *nctemp2329;
static struct nctempchar1 nctemp2330 = {{ 7}, (char*)"dt: \n\0"};
nctemp2329=&nctemp2330;
nctempchar1* nctemp2327= nctemp2329;
int nctemp2331=LibePuts(nctemp2325,nctemp2327);
int nctemp2333= 4;
float nctemp2335= Model->Dt;
struct nctempchar1 *nctemp2339;
static struct nctempchar1 nctemp2340 = {{ 2}, (char*)"g\0"};
nctemp2339=&nctemp2340;
nctempchar1* nctemp2337= nctemp2339;
int nctemp2341=LibePutf(nctemp2333,nctemp2335,nctemp2337);
int nctemp2343= 4;
struct nctempchar1 *nctemp2347;
static struct nctempchar1 nctemp2348 = {{ 3}, (char*)"\n\0"};
nctemp2347=&nctemp2348;
nctempchar1* nctemp2345= nctemp2347;
int nctemp2349=LibePuts(nctemp2343,nctemp2345);
int nctemp2351= 4;
struct nctempchar1 *nctemp2355;
static struct nctempchar1 nctemp2356 = {{ 7}, (char*)"dx: \n\0"};
nctemp2355=&nctemp2356;
nctempchar1* nctemp2353= nctemp2355;
int nctemp2357=LibePuts(nctemp2351,nctemp2353);
int nctemp2359= 4;
float nctemp2361= Model->Dx;
struct nctempchar1 *nctemp2365;
static struct nctempchar1 nctemp2366 = {{ 2}, (char*)"g\0"};
nctemp2365=&nctemp2366;
nctempchar1* nctemp2363= nctemp2365;
int nctemp2367=LibePutf(nctemp2359,nctemp2361,nctemp2363);
int nctemp2369= 4;
struct nctempchar1 *nctemp2373;
static struct nctempchar1 nctemp2374 = {{ 3}, (char*)"\n\0"};
nctemp2373=&nctemp2374;
nctempchar1* nctemp2371= nctemp2373;
int nctemp2375=LibePuts(nctemp2369,nctemp2371);
int nctemp2377= 4;
int nctemp2379=LibeFlush(nctemp2377);
}
}
int nctemp2388 = i + 1;
i =nctemp2388;
int nctemp2389 = (i < nx);
nctemp2212=nctemp2389;
}
}
int nctemp2401 = j + 1;
j =nctemp2401;
int nctemp2402 = (j < ny);
nctemp2204=nctemp2402;
}
return stab;
}
