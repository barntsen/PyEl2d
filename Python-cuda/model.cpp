/*  Translated by epsc  version December 2021 */
extern "C" {
typedef struct { float r; float i;} complex; 
typedef struct nctempfloat1 { int d[1]; float *a;} nctempfloat1; 
typedef struct nctempint1 { int d[1]; int *a;} nctempint1; 
typedef struct nctempchar1 { int d[1]; char *a;} nctempchar1; 
typedef struct nctempcomplex1 { int d[1]; complex *a;} nctempcomplex1; 
typedef struct nctempfloat2 { int d[2]; float *a;} nctempfloat2; 
typedef struct nctempint2 { int d[2]; int *a;} nctempint2; 
typedef struct nctempchar2 { int d[2]; char *a;} nctempchar2; 
typedef struct nctempcomplex2 { int d[2]; complex *a;} nctempcomplex2; 
typedef struct nctempfloat3 { int d[3]; float *a;} nctempfloat3; 
typedef struct nctempint3 { int d[3]; int *a;} nctempint3; 
typedef struct nctempchar3 { int d[3]; char *a;} nctempchar3; 
typedef struct nctempcomplex3 { int d[3]; complex *a;} nctempcomplex3; 
typedef struct nctempfloat4 { int d[4]; float *a;} nctempfloat4; 
typedef struct nctempint4 { int d[4]; int *a;} nctempint4; 
typedef struct nctempchar4 { int d[4]; char *a;} nctempchar4; 
typedef struct nctempcomplex4 { int d[4]; complex *a;} nctempcomplex4; 
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

void *GpuNew(int n);
void *GpuDelete(void *f);
void *GpuError();
void *RunMalloc(int n);
int RunFree(void * );
int RunSync();
int RunGetnt();
int RunGetnb();
int LibeArrayex (int line,nctempchar1 *name,int ival,int index,int bound);
int LibeClearerr ();
int LibeGeterrno ();
nctempchar1* LibeGeterrstr ();
struct MainArg {nctempchar1 *arg;
};
typedef struct nctempMainArg1 {int d[1]; struct MainArg *a; } nctempMainArg1;
struct nctempMainArg2 {int d[2]; struct MainArg *a; } ;
struct nctempMainArg3 {int d[3]; struct MainArg *a; } ;
struct nctempMainArg4 {int d[4]; struct MainArg *a; } ;
int Main (struct nctempMainArg1 *MainArgs);
int LibeInit ();
int LibeDelete ();
int LibeExit ();
nctempchar1* LibeGetenv (nctempchar1 *name);
int LibeOpen (nctempchar1 *name,nctempchar1 *mode);
int LibeClose (int fp);
int LibeGetc (int fp);
int LibeUngetc (int fp);
int LibeGetw (int fp,nctempchar1 *text);
int LibePs (nctempchar1 *s);
int LibePi (int n);
int LibePf (float r);
int LibePutf (int fp,float r,nctempchar1 *form);
int LibePutc (int fp,int c);
int LibePuts (int fp,nctempchar1 *s);
int LibePuti (int fp,int ival);
int LibeRead (int fp,int n,nctempchar1 *array);
int LibeWrite (int fp,int n,nctempchar1 *array);
int LibeSeek (int fp,int pos,int flag);
int LibeFlush (int fp);
int LibeStrlen (nctempchar1 *s);
int LibeStrcmp (nctempchar1 *s,nctempchar1 *t);
int LibeStrev (nctempchar1 *s);
nctempchar1* LibeStrsave (nctempchar1 *s);
int LibeStrcpy (nctempchar1 *s,nctempchar1 *t);
int LibeStrcat (nctempchar1 *s,nctempchar1 *t);
nctempchar1* LibeStradd (nctempchar1 *t,nctempchar1 *s);
int LibeIsalpha (int c);
int LibeIsdigit (int c);
int LibeIsalnum (int c);
int LibeAtoi (nctempchar1 *s);
int LibeItoa (int n,nctempchar1 *s);
int LibeItoh (int n,nctempchar1 *s);
float LibeAtof (nctempchar1 *s);
int LibeFtoa (float f,nctempchar1 *fmt,nctempchar1 *s);
float LibeMach (int flag);
float LibeFabs (float x);
float LibeFscale2 (float x,int n);
float LibeGetfman2 (float x);
int LibeGetfexp2 (float x);
float LibeFscale (float x,int n);
int LibeGetfman (float f,int maxdig);
float LibeGetffman (float f);
int LibeGetmaxdig (float f);
int LibeGetfexp (float f);
float LibeClock ();
int LibeSetnb (int n);
int LibeSetnt (int n);
int LibeGetnb ();
int LibeGetnt ();
int LibeMod (int n,int r);
float LibeSqrt (float x);
float LibeLn (float x);
float LibeExp (float x);
float LibeSin (float x);
float LibeCos (float x);
float LibeTan (float x);
float LibeArcsin (float x);
float LibeArccos (float x);
float LibeArctan (float x);
float LibePow (float base,float exponent);
int LibeSystem (nctempchar1 *cmd);
struct model {int Nx;
int Ny;
int Nb;
float W0;
nctempfloat2 *Ql;
nctempfloat2 *Qm;
nctempfloat2 *Qp;
nctempfloat2 *Qs;
nctempfloat2 *Lambda;
nctempfloat2 *Mu;
nctempfloat2 *Dlambdax;
nctempfloat2 *Dlambday;
nctempfloat2 *Dmux;
nctempfloat2 *Dmuy;
nctempfloat2 *Drhopx;
nctempfloat2 *Drhopy;
nctempfloat2 *Drhosx;
nctempfloat2 *Drhosy;
nctempfloat2 *Rho;
nctempfloat2 *Alpha1x;
nctempfloat2 *Alpha1y;
nctempfloat2 *Alpha2x;
nctempfloat2 *Alpha2y;
nctempfloat2 *Beta1x;
nctempfloat2 *Beta2x;
nctempfloat2 *Beta1y;
nctempfloat2 *Beta2y;
nctempfloat2 *Eta1x;
nctempfloat2 *Eta1y;
nctempfloat2 *Eta2x;
nctempfloat2 *Eta2y;
nctempfloat2 *Nu1x;
nctempfloat2 *Nu1y;
nctempfloat2 *Nu2x;
nctempfloat2 *Nu2y;
nctempfloat1 *dx;
nctempfloat1 *dy;
float Dx;
float Dt;
};
typedef struct nctempmodel1 {int d[1]; struct model *a; } nctempmodel1;
struct nctempmodel2 {int d[2]; struct model *a; } ;
struct nctempmodel3 {int d[3]; struct model *a; } ;
struct nctempmodel4 {int d[4]; struct model *a; } ;
struct model* ModelNew (nctempfloat2 *vp,nctempfloat2 *vs,nctempfloat2 *rho,nctempfloat2 *Ql,nctempfloat2 *Qm,nctempfloat2 *Qp,nctempfloat2 *Qs,float Dx,float Dt,float W0,int Nb,int Rheol);
float ModelStability (struct model* Model);
struct model* Modelmaxwell (nctempfloat2 *vp,nctempfloat2 *rho,nctempfloat2 *Qp,nctempfloat2 *Qr,float Dx,float Dt,float W0,int Nb);
struct model* Modelsls (nctempfloat2 *vp,nctempfloat2 *vs,nctempfloat2 *rho,nctempfloat2 *Ql,nctempfloat2 *Qm,nctempfloat2 *Qp,nctempfloat2 *Qs,float Dx,float Dt,float W0,int Nb);
int Modeld (nctempfloat1 *d,float dx,int nb);
float Modeltaus (float Q,float w0);
float Modeltaue (float Q,float w0);
int Modelalphamax (struct model* Model);
int Modelthetamax (struct model* Model);
int Modelalphasls (struct model* Model);
int Modelbetasls (struct model* Model);
int Modeletasls (struct model* Model);
int Modelnusls (struct model* Model);
struct model* ModelNew (nctempfloat2 *vp,nctempfloat2 *vs,nctempfloat2 *rho,nctempfloat2 *Ql,nctempfloat2 *Qm,nctempfloat2 *Qp,nctempfloat2 *Qs,float Dx,float Dt,float W0,int Nb,int Rheol)
{
struct model* m;
struct nctempchar1 *nctemp4;
static struct nctempchar1 nctemp5 = {{ 8}, (char*)"Rheol: \0"};
nctemp4=&nctemp5;
nctempchar1* nctemp2= nctemp4;
int nctemp6=LibePs(nctemp2);
int nctemp8= Rheol;
int nctemp10=LibePi(nctemp8);
struct nctempchar1 *nctemp14;
static struct nctempchar1 nctemp15 = {{ 3}, (char*)"\n\0"};
nctemp14=&nctemp15;
nctempchar1* nctemp12= nctemp14;
int nctemp16=LibePs(nctemp12);
int nctemp17 = (Rheol ==1);
if(nctemp17)
{
struct nctempchar1 *nctemp24;
static struct nctempchar1 nctemp25 = {{ 11}, (char*)"Maxwell \n\0"};
nctemp24=&nctemp25;
nctempchar1* nctemp22= nctemp24;
int nctemp26=LibePs(nctemp22);
nctempfloat2* nctemp31= vp;
nctempfloat2* nctemp34= rho;
nctempfloat2* nctemp37= Qp;
nctempfloat2* nctemp40= Qs;
float nctemp43= Dx;
float nctemp45= Dt;
float nctemp47= W0;
int nctemp49= Nb;
struct model* nctemp51=Modelmaxwell(nctemp31,nctemp34,nctemp37,nctemp40,nctemp43,nctemp45,nctemp47,nctemp49);
m =nctemp51;
}
else{
int nctemp52 = (Rheol ==2);
if(nctemp52)
{
struct nctempchar1 *nctemp59;
static struct nctempchar1 nctemp60 = {{ 7}, (char*)"Sls \n\0"};
nctemp59=&nctemp60;
nctempchar1* nctemp57= nctemp59;
int nctemp61=LibePs(nctemp57);
nctempfloat2* nctemp66= vp;
nctempfloat2* nctemp69= vs;
nctempfloat2* nctemp72= rho;
nctempfloat2* nctemp75= Ql;
nctempfloat2* nctemp78= Qm;
nctempfloat2* nctemp81= Qp;
nctempfloat2* nctemp84= Qs;
float nctemp87= Dx;
float nctemp89= Dt;
float nctemp91= W0;
int nctemp93= Nb;
struct model* nctemp95=Modelsls(nctemp66,nctemp69,nctemp72,nctemp75,nctemp78,nctemp81,nctemp84,nctemp87,nctemp89,nctemp91,nctemp93);
m =nctemp95;
}
else{
int nctemp97= 4;
struct nctempchar1 *nctemp101;
static struct nctempchar1 nctemp102 = {{ 18}, (char*)"Unknown Q-model\n\0"};
nctemp101=&nctemp102;
nctempchar1* nctemp99= nctemp101;
int nctemp103=LibePuts(nctemp97,nctemp99);
int nctemp105= 4;
int nctemp107=LibeFlush(nctemp105);
int nctemp109=LibeExit();
}
}
return m;
}
int Modelalphasls (struct model* Model)
{
int Nx;
int Ny;
int i;
int j;
float Qmin;
float Qmax;
float argx;
float argy;
float tau0;
float tauemax;
float tauemin;
float tausmax;
float tausmin;
float tauex;
float tausx;
float tauey;
float tausy;
Nx =Model->Nx;
Ny =Model->Ny;
j =0;
int nctemp123 = (j < Ny);
while(nctemp123){
{
i =0;
int nctemp131 = (i < Nx);
while(nctemp131){
{
float nctemp143 = 1.0 / Model->W0;
tau0 =nctemp143;
Qmin =1.1;
float nctemp159 = tau0 / Qmin;
float nctemp172 = Qmin * Qmin;
float nctemp174 = nctemp172 + 1.0;
float nctemp164= nctemp174;
float nctemp175=LibeSqrt(nctemp164);
float nctemp177 = nctemp175 + 1.0;
float nctemp178 = nctemp159 * nctemp177;
tauemin =nctemp178;
float nctemp187 = 1.0 / tauemin;
tauemin =nctemp187;
float nctemp199 = tau0 / Qmin;
float nctemp212 = Qmin * Qmin;
float nctemp214 = nctemp212 + 1.0;
float nctemp204= nctemp214;
float nctemp215=LibeSqrt(nctemp204);
float nctemp217 = nctemp215 - 1.0;
float nctemp218 = nctemp199 * nctemp217;
tausmin =nctemp218;
float nctemp227 = 1.0 / tausmin;
tausmin =nctemp227;
int nctemp232=Model->Nb;
nctemp232=j*Model->Ql->d[0]+nctemp232;
Qmax =Model->Ql->a[nctemp232];
float nctemp246 = tau0 / Qmin;
float nctemp259 = Qmax * Qmax;
float nctemp261 = nctemp259 + 1.0;
float nctemp251= nctemp261;
float nctemp262=LibeSqrt(nctemp251);
float nctemp264 = nctemp262 + 1.0;
float nctemp265 = nctemp246 * nctemp264;
tauemax =nctemp265;
float nctemp274 = 1.0 / tauemax;
tauemax =nctemp274;
float nctemp286 = tau0 / Qmin;
float nctemp299 = Qmax * Qmax;
float nctemp301 = nctemp299 + 1.0;
float nctemp291= nctemp301;
float nctemp302=LibeSqrt(nctemp291);
float nctemp304 = nctemp302 - 1.0;
float nctemp305 = nctemp286 * nctemp304;
tausmax =nctemp305;
float nctemp314 = 1.0 / tausmax;
tausmax =nctemp314;
float nctemp330 = tauemax - tauemin;
int nctemp332=i;
float nctemp334 = nctemp330 * Model->dx->a[nctemp332];
float nctemp335 = tauemin + nctemp334;
tauex =nctemp335;
float nctemp351 = tausmax - tausmin;
int nctemp353=i;
float nctemp355 = nctemp351 * Model->dx->a[nctemp353];
float nctemp356 = tausmin + nctemp355;
tausx =nctemp356;
int nctemp361=i;
nctemp361=Model->Nb*Model->Ql->d[0]+nctemp361;
Qmax =Model->Ql->a[nctemp361];
float nctemp375 = tau0 / Qmin;
float nctemp388 = Qmax * Qmax;
float nctemp390 = nctemp388 + 1.0;
float nctemp380= nctemp390;
float nctemp391=LibeSqrt(nctemp380);
float nctemp393 = nctemp391 + 1.0;
float nctemp394 = nctemp375 * nctemp393;
tauemax =nctemp394;
float nctemp403 = 1.0 / tauemax;
tauemax =nctemp403;
float nctemp415 = tau0 / Qmin;
float nctemp428 = Qmax * Qmax;
float nctemp430 = nctemp428 + 1.0;
float nctemp420= nctemp430;
float nctemp431=LibeSqrt(nctemp420);
float nctemp433 = nctemp431 - 1.0;
float nctemp434 = nctemp415 * nctemp433;
tausmax =nctemp434;
float nctemp443 = 1.0 / tausmax;
tausmax =nctemp443;
float nctemp459 = tauemax - tauemin;
int nctemp461=j;
float nctemp463 = nctemp459 * Model->dy->a[nctemp461];
float nctemp464 = tauemin + nctemp463;
tauey =nctemp464;
float nctemp480 = tausmax - tausmin;
int nctemp482=j;
float nctemp484 = nctemp480 * Model->dy->a[nctemp482];
float nctemp485 = tausmin + nctemp484;
tausy =nctemp485;
int nctemp490=i;
argx =Model->dx->a[nctemp490];
int nctemp496=j;
argy =Model->dy->a[nctemp496];
int nctemp501=i;
nctemp501=j*Model->Alpha1x->d[0]+nctemp501;
float nctemp509= -argx;
float nctemp508= nctemp509;
float nctemp510=LibeExp(nctemp508);
float nctemp515= -Model->Dt;
float nctemp517 = nctemp515 * tausx;
float nctemp512= nctemp517;
float nctemp518=LibeExp(nctemp512);
float nctemp519 = nctemp510 * nctemp518;
Model->Alpha1x->a[nctemp501] =nctemp519;
int nctemp523=i;
nctemp523=j*Model->Alpha1y->d[0]+nctemp523;
float nctemp531= -argy;
float nctemp530= nctemp531;
float nctemp532=LibeExp(nctemp530);
float nctemp537= -Model->Dt;
float nctemp539 = nctemp537 * tausy;
float nctemp534= nctemp539;
float nctemp540=LibeExp(nctemp534);
float nctemp541 = nctemp532 * nctemp540;
Model->Alpha1y->a[nctemp523] =nctemp541;
int nctemp545=i;
nctemp545=j*Model->Alpha2x->d[0]+nctemp545;
float nctemp553 = Model->Dt * tauex;
Model->Alpha2x->a[nctemp545] =nctemp553;
int nctemp557=i;
nctemp557=j*Model->Alpha2y->d[0]+nctemp557;
float nctemp565 = Model->Dt * tauey;
Model->Alpha2y->a[nctemp557] =nctemp565;
int nctemp569=i;
nctemp569=j*Model->Dlambdax->d[0]+nctemp569;
int nctemp576=i;
nctemp576=j*Model->Lambda->d[0]+nctemp576;
float nctemp588 = tausx / tauex;
float nctemp589 = 1.0 - nctemp588;
float nctemp590 = Model->Lambda->a[nctemp576] * nctemp589;
Model->Dlambdax->a[nctemp569] =nctemp590;
int nctemp594=i;
nctemp594=j*Model->Dlambday->d[0]+nctemp594;
int nctemp601=i;
nctemp601=j*Model->Lambda->d[0]+nctemp601;
float nctemp613 = tausy / tauey;
float nctemp614 = 1.0 - nctemp613;
float nctemp615 = Model->Lambda->a[nctemp601] * nctemp614;
Model->Dlambday->a[nctemp594] =nctemp615;
}
int nctemp624 = i + 1;
i =nctemp624;
int nctemp625 = (i < Nx);
nctemp131=nctemp625;
}
}
int nctemp637 = j + 1;
j =nctemp637;
int nctemp638 = (j < Ny);
nctemp123=nctemp638;
}
return 1;
}
int Modelbetasls (struct model* Model)
{
int Nx;
int Ny;
int i;
int j;
float Qmin;
float Qmax;
float argx;
float argy;
float tau0;
float tauemax;
float tauemin;
float tausmax;
float tausmin;
float tauex;
float tausx;
float tauey;
float tausy;
Nx =Model->Nx;
Ny =Model->Ny;
j =0;
int nctemp655 = (j < Ny);
while(nctemp655){
{
i =0;
int nctemp663 = (i < Nx);
while(nctemp663){
{
float nctemp675 = 1.0 / Model->W0;
tau0 =nctemp675;
Qmin =1.1;
float nctemp691 = tau0 / Qmin;
float nctemp704 = Qmin * Qmin;
float nctemp706 = nctemp704 + 1.0;
float nctemp696= nctemp706;
float nctemp707=LibeSqrt(nctemp696);
float nctemp709 = nctemp707 + 1.0;
float nctemp710 = nctemp691 * nctemp709;
tauemin =nctemp710;
float nctemp719 = 1.0 / tauemin;
tauemin =nctemp719;
float nctemp731 = tau0 / Qmin;
float nctemp744 = Qmin * Qmin;
float nctemp746 = nctemp744 + 1.0;
float nctemp736= nctemp746;
float nctemp747=LibeSqrt(nctemp736);
float nctemp749 = nctemp747 - 1.0;
float nctemp750 = nctemp731 * nctemp749;
tausmin =nctemp750;
float nctemp759 = 1.0 / tausmin;
tausmin =nctemp759;
int nctemp764=Model->Nb;
nctemp764=j*Model->Qm->d[0]+nctemp764;
Qmax =Model->Qm->a[nctemp764];
float nctemp778 = tau0 / Qmin;
float nctemp791 = Qmax * Qmax;
float nctemp793 = nctemp791 + 1.0;
float nctemp783= nctemp793;
float nctemp794=LibeSqrt(nctemp783);
float nctemp796 = nctemp794 + 1.0;
float nctemp797 = nctemp778 * nctemp796;
tauemax =nctemp797;
float nctemp806 = 1.0 / tauemax;
tauemax =nctemp806;
float nctemp818 = tau0 / Qmin;
float nctemp831 = Qmax * Qmax;
float nctemp833 = nctemp831 + 1.0;
float nctemp823= nctemp833;
float nctemp834=LibeSqrt(nctemp823);
float nctemp836 = nctemp834 - 1.0;
float nctemp837 = nctemp818 * nctemp836;
tausmax =nctemp837;
float nctemp846 = 1.0 / tausmax;
tausmax =nctemp846;
float nctemp862 = tauemax - tauemin;
int nctemp864=i;
float nctemp866 = nctemp862 * Model->dx->a[nctemp864];
float nctemp867 = tauemin + nctemp866;
tauex =nctemp867;
float nctemp883 = tausmax - tausmin;
int nctemp885=i;
float nctemp887 = nctemp883 * Model->dx->a[nctemp885];
float nctemp888 = tausmin + nctemp887;
tausx =nctemp888;
int nctemp893=i;
nctemp893=Model->Nb*Model->Qm->d[0]+nctemp893;
Qmax =Model->Qm->a[nctemp893];
float nctemp907 = tau0 / Qmin;
float nctemp920 = Qmax * Qmax;
float nctemp922 = nctemp920 + 1.0;
float nctemp912= nctemp922;
float nctemp923=LibeSqrt(nctemp912);
float nctemp925 = nctemp923 + 1.0;
float nctemp926 = nctemp907 * nctemp925;
tauemax =nctemp926;
float nctemp935 = 1.0 / tauemax;
tauemax =nctemp935;
float nctemp947 = tau0 / Qmin;
float nctemp960 = Qmax * Qmax;
float nctemp962 = nctemp960 + 1.0;
float nctemp952= nctemp962;
float nctemp963=LibeSqrt(nctemp952);
float nctemp965 = nctemp963 - 1.0;
float nctemp966 = nctemp947 * nctemp965;
tausmax =nctemp966;
float nctemp975 = 1.0 / tausmax;
tausmax =nctemp975;
float nctemp991 = tauemax - tauemin;
int nctemp993=j;
float nctemp995 = nctemp991 * Model->dy->a[nctemp993];
float nctemp996 = tauemin + nctemp995;
tauey =nctemp996;
float nctemp1012 = tausmax - tausmin;
int nctemp1014=j;
float nctemp1016 = nctemp1012 * Model->dy->a[nctemp1014];
float nctemp1017 = tausmin + nctemp1016;
tausy =nctemp1017;
int nctemp1022=i;
argx =Model->dx->a[nctemp1022];
int nctemp1028=j;
argy =Model->dy->a[nctemp1028];
int nctemp1033=i;
nctemp1033=j*Model->Beta1x->d[0]+nctemp1033;
float nctemp1041= -argx;
float nctemp1040= nctemp1041;
float nctemp1042=LibeExp(nctemp1040);
float nctemp1047= -Model->Dt;
float nctemp1049 = nctemp1047 * tausx;
float nctemp1044= nctemp1049;
float nctemp1050=LibeExp(nctemp1044);
float nctemp1051 = nctemp1042 * nctemp1050;
Model->Beta1x->a[nctemp1033] =nctemp1051;
int nctemp1055=i;
nctemp1055=j*Model->Beta1y->d[0]+nctemp1055;
float nctemp1063= -argy;
float nctemp1062= nctemp1063;
float nctemp1064=LibeExp(nctemp1062);
float nctemp1069= -Model->Dt;
float nctemp1071 = nctemp1069 * tausy;
float nctemp1066= nctemp1071;
float nctemp1072=LibeExp(nctemp1066);
float nctemp1073 = nctemp1064 * nctemp1072;
Model->Beta1y->a[nctemp1055] =nctemp1073;
int nctemp1077=i;
nctemp1077=j*Model->Beta2x->d[0]+nctemp1077;
float nctemp1085 = Model->Dt * tauex;
Model->Beta2x->a[nctemp1077] =nctemp1085;
int nctemp1089=i;
nctemp1089=j*Model->Beta2y->d[0]+nctemp1089;
float nctemp1097 = Model->Dt * tauey;
Model->Beta2y->a[nctemp1089] =nctemp1097;
int nctemp1101=i;
nctemp1101=j*Model->Dmuy->d[0]+nctemp1101;
int nctemp1108=i;
nctemp1108=j*Model->Mu->d[0]+nctemp1108;
float nctemp1120 = tausy / tauey;
float nctemp1121 = 1.0 - nctemp1120;
float nctemp1122 = Model->Mu->a[nctemp1108] * nctemp1121;
Model->Dmuy->a[nctemp1101] =nctemp1122;
int nctemp1126=i;
nctemp1126=j*Model->Dmux->d[0]+nctemp1126;
int nctemp1133=i;
nctemp1133=j*Model->Mu->d[0]+nctemp1133;
float nctemp1145 = tausx / tauex;
float nctemp1146 = 1.0 - nctemp1145;
float nctemp1147 = Model->Mu->a[nctemp1133] * nctemp1146;
Model->Dmux->a[nctemp1126] =nctemp1147;
}
int nctemp1156 = i + 1;
i =nctemp1156;
int nctemp1157 = (i < Nx);
nctemp663=nctemp1157;
}
}
int nctemp1169 = j + 1;
j =nctemp1169;
int nctemp1170 = (j < Ny);
nctemp655=nctemp1170;
}
return 1;
}
int Modeletasls (struct model* Model)
{
int Nx;
int Ny;
int i;
int j;
float Qmin;
float Qmax;
float argx;
float argy;
float tau0;
float tauemax;
float tauemin;
float tausmax;
float tausmin;
float tauex;
float tausx;
float tauey;
float tausy;
Nx =Model->Nx;
Ny =Model->Ny;
j =0;
int nctemp1187 = (j < Ny);
while(nctemp1187){
{
i =0;
int nctemp1195 = (i < Nx);
while(nctemp1195){
{
float nctemp1207 = 1.0 / Model->W0;
tau0 =nctemp1207;
Qmin =1.1;
float nctemp1223 = tau0 / Qmin;
float nctemp1236 = Qmin * Qmin;
float nctemp1238 = nctemp1236 + 1.0;
float nctemp1228= nctemp1238;
float nctemp1239=LibeSqrt(nctemp1228);
float nctemp1241 = nctemp1239 + 1.0;
float nctemp1242 = nctemp1223 * nctemp1241;
tauemin =nctemp1242;
float nctemp1251 = 1.0 / tauemin;
tauemin =nctemp1251;
float nctemp1263 = tau0 / Qmin;
float nctemp1276 = Qmin * Qmin;
float nctemp1278 = nctemp1276 + 1.0;
float nctemp1268= nctemp1278;
float nctemp1279=LibeSqrt(nctemp1268);
float nctemp1281 = nctemp1279 - 1.0;
float nctemp1282 = nctemp1263 * nctemp1281;
tausmin =nctemp1282;
float nctemp1291 = 1.0 / tausmin;
tausmin =nctemp1291;
int nctemp1296=Model->Nb;
nctemp1296=j*Model->Qp->d[0]+nctemp1296;
Qmax =Model->Qp->a[nctemp1296];
float nctemp1310 = tau0 / Qmin;
float nctemp1323 = Qmax * Qmax;
float nctemp1325 = nctemp1323 + 1.0;
float nctemp1315= nctemp1325;
float nctemp1326=LibeSqrt(nctemp1315);
float nctemp1328 = nctemp1326 + 1.0;
float nctemp1329 = nctemp1310 * nctemp1328;
tauemax =nctemp1329;
float nctemp1338 = 1.0 / tauemax;
tauemax =nctemp1338;
float nctemp1350 = tau0 / Qmin;
float nctemp1363 = Qmax * Qmax;
float nctemp1365 = nctemp1363 + 1.0;
float nctemp1355= nctemp1365;
float nctemp1366=LibeSqrt(nctemp1355);
float nctemp1368 = nctemp1366 - 1.0;
float nctemp1369 = nctemp1350 * nctemp1368;
tausmax =nctemp1369;
float nctemp1378 = 1.0 / tausmax;
tausmax =nctemp1378;
float nctemp1394 = tauemax - tauemin;
int nctemp1396=i;
float nctemp1398 = nctemp1394 * Model->dx->a[nctemp1396];
float nctemp1399 = tauemin + nctemp1398;
tauex =nctemp1399;
float nctemp1415 = tausmax - tausmin;
int nctemp1417=i;
float nctemp1419 = nctemp1415 * Model->dx->a[nctemp1417];
float nctemp1420 = tausmin + nctemp1419;
tausx =nctemp1420;
int nctemp1425=i;
nctemp1425=Model->Nb*Model->Qp->d[0]+nctemp1425;
Qmax =Model->Qp->a[nctemp1425];
float nctemp1439 = tau0 / Qmin;
float nctemp1452 = Qmax * Qmax;
float nctemp1454 = nctemp1452 + 1.0;
float nctemp1444= nctemp1454;
float nctemp1455=LibeSqrt(nctemp1444);
float nctemp1457 = nctemp1455 + 1.0;
float nctemp1458 = nctemp1439 * nctemp1457;
tauemax =nctemp1458;
float nctemp1467 = 1.0 / tauemax;
tauemax =nctemp1467;
float nctemp1479 = tau0 / Qmin;
float nctemp1492 = Qmax * Qmax;
float nctemp1494 = nctemp1492 + 1.0;
float nctemp1484= nctemp1494;
float nctemp1495=LibeSqrt(nctemp1484);
float nctemp1497 = nctemp1495 - 1.0;
float nctemp1498 = nctemp1479 * nctemp1497;
tausmax =nctemp1498;
float nctemp1507 = 1.0 / tausmax;
tausmax =nctemp1507;
float nctemp1523 = tauemax - tauemin;
int nctemp1525=j;
float nctemp1527 = nctemp1523 * Model->dy->a[nctemp1525];
float nctemp1528 = tauemin + nctemp1527;
tauey =nctemp1528;
float nctemp1544 = tausmax - tausmin;
int nctemp1546=j;
float nctemp1548 = nctemp1544 * Model->dy->a[nctemp1546];
float nctemp1549 = tausmin + nctemp1548;
tausy =nctemp1549;
int nctemp1554=i;
argx =Model->dx->a[nctemp1554];
int nctemp1560=j;
argy =Model->dy->a[nctemp1560];
int nctemp1565=i;
nctemp1565=j*Model->Eta1x->d[0]+nctemp1565;
float nctemp1573= -argx;
float nctemp1572= nctemp1573;
float nctemp1574=LibeExp(nctemp1572);
float nctemp1579= -Model->Dt;
float nctemp1581 = nctemp1579 * tausx;
float nctemp1576= nctemp1581;
float nctemp1582=LibeExp(nctemp1576);
float nctemp1583 = nctemp1574 * nctemp1582;
Model->Eta1x->a[nctemp1565] =nctemp1583;
int nctemp1587=i;
nctemp1587=j*Model->Eta1y->d[0]+nctemp1587;
float nctemp1595= -argy;
float nctemp1594= nctemp1595;
float nctemp1596=LibeExp(nctemp1594);
float nctemp1601= -Model->Dt;
float nctemp1603 = nctemp1601 * tausy;
float nctemp1598= nctemp1603;
float nctemp1604=LibeExp(nctemp1598);
float nctemp1605 = nctemp1596 * nctemp1604;
Model->Eta1y->a[nctemp1587] =nctemp1605;
int nctemp1609=i;
nctemp1609=j*Model->Eta2x->d[0]+nctemp1609;
float nctemp1617 = Model->Dt * tauex;
Model->Eta2x->a[nctemp1609] =nctemp1617;
int nctemp1621=i;
nctemp1621=j*Model->Eta2y->d[0]+nctemp1621;
float nctemp1629 = Model->Dt * tauey;
Model->Eta2y->a[nctemp1621] =nctemp1629;
int nctemp1633=i;
nctemp1633=j*Model->Drhopy->d[0]+nctemp1633;
int nctemp1640=i;
nctemp1640=j*Model->Rho->d[0]+nctemp1640;
float nctemp1652 = tausy / tauey;
float nctemp1653 = 1.0 - nctemp1652;
float nctemp1654 = Model->Rho->a[nctemp1640] * nctemp1653;
Model->Drhopy->a[nctemp1633] =nctemp1654;
int nctemp1658=i;
nctemp1658=j*Model->Drhopx->d[0]+nctemp1658;
int nctemp1665=i;
nctemp1665=j*Model->Rho->d[0]+nctemp1665;
float nctemp1677 = tausx / tauex;
float nctemp1678 = 1.0 - nctemp1677;
float nctemp1679 = Model->Rho->a[nctemp1665] * nctemp1678;
Model->Drhopx->a[nctemp1658] =nctemp1679;
}
int nctemp1688 = i + 1;
i =nctemp1688;
int nctemp1689 = (i < Nx);
nctemp1195=nctemp1689;
}
}
int nctemp1701 = j + 1;
j =nctemp1701;
int nctemp1702 = (j < Ny);
nctemp1187=nctemp1702;
}
return 1;
}
int Modelnusls (struct model* Model)
{
int Nx;
int Ny;
int i;
int j;
float Qmin;
float Qmax;
float argx;
float argy;
float tau0;
float tauemax;
float tauemin;
float tausmax;
float tausmin;
float tauex;
float tausx;
float tauey;
float tausy;
Nx =Model->Nx;
Ny =Model->Ny;
j =0;
int nctemp1719 = (j < Ny);
while(nctemp1719){
{
i =0;
int nctemp1727 = (i < Nx);
while(nctemp1727){
{
float nctemp1739 = 1.0 / Model->W0;
tau0 =nctemp1739;
Qmin =1.1;
float nctemp1755 = tau0 / Qmin;
float nctemp1768 = Qmin * Qmin;
float nctemp1770 = nctemp1768 + 1.0;
float nctemp1760= nctemp1770;
float nctemp1771=LibeSqrt(nctemp1760);
float nctemp1773 = nctemp1771 + 1.0;
float nctemp1774 = nctemp1755 * nctemp1773;
tauemin =nctemp1774;
float nctemp1783 = 1.0 / tauemin;
tauemin =nctemp1783;
float nctemp1795 = tau0 / Qmin;
float nctemp1808 = Qmin * Qmin;
float nctemp1810 = nctemp1808 + 1.0;
float nctemp1800= nctemp1810;
float nctemp1811=LibeSqrt(nctemp1800);
float nctemp1813 = nctemp1811 - 1.0;
float nctemp1814 = nctemp1795 * nctemp1813;
tausmin =nctemp1814;
float nctemp1823 = 1.0 / tausmin;
tausmin =nctemp1823;
int nctemp1828=Model->Nb;
nctemp1828=j*Model->Qs->d[0]+nctemp1828;
Qmax =Model->Qs->a[nctemp1828];
float nctemp1842 = tau0 / Qmin;
float nctemp1855 = Qmax * Qmax;
float nctemp1857 = nctemp1855 + 1.0;
float nctemp1847= nctemp1857;
float nctemp1858=LibeSqrt(nctemp1847);
float nctemp1860 = nctemp1858 + 1.0;
float nctemp1861 = nctemp1842 * nctemp1860;
tauemax =nctemp1861;
float nctemp1870 = 1.0 / tauemax;
tauemax =nctemp1870;
float nctemp1882 = tau0 / Qmin;
float nctemp1895 = Qmax * Qmax;
float nctemp1897 = nctemp1895 + 1.0;
float nctemp1887= nctemp1897;
float nctemp1898=LibeSqrt(nctemp1887);
float nctemp1900 = nctemp1898 - 1.0;
float nctemp1901 = nctemp1882 * nctemp1900;
tausmax =nctemp1901;
float nctemp1910 = 1.0 / tausmax;
tausmax =nctemp1910;
float nctemp1926 = tauemax - tauemin;
int nctemp1928=i;
float nctemp1930 = nctemp1926 * Model->dx->a[nctemp1928];
float nctemp1931 = tauemin + nctemp1930;
tauex =nctemp1931;
float nctemp1947 = tausmax - tausmin;
int nctemp1949=i;
float nctemp1951 = nctemp1947 * Model->dx->a[nctemp1949];
float nctemp1952 = tausmin + nctemp1951;
tausx =nctemp1952;
int nctemp1957=i;
nctemp1957=Model->Nb*Model->Qs->d[0]+nctemp1957;
Qmax =Model->Qs->a[nctemp1957];
float nctemp1971 = tau0 / Qmin;
float nctemp1984 = Qmax * Qmax;
float nctemp1986 = nctemp1984 + 1.0;
float nctemp1976= nctemp1986;
float nctemp1987=LibeSqrt(nctemp1976);
float nctemp1989 = nctemp1987 + 1.0;
float nctemp1990 = nctemp1971 * nctemp1989;
tauemax =nctemp1990;
float nctemp1999 = 1.0 / tauemax;
tauemax =nctemp1999;
float nctemp2011 = tau0 / Qmin;
float nctemp2024 = Qmax * Qmax;
float nctemp2026 = nctemp2024 + 1.0;
float nctemp2016= nctemp2026;
float nctemp2027=LibeSqrt(nctemp2016);
float nctemp2029 = nctemp2027 - 1.0;
float nctemp2030 = nctemp2011 * nctemp2029;
tausmax =nctemp2030;
float nctemp2039 = 1.0 / tausmax;
tausmax =nctemp2039;
float nctemp2055 = tauemax - tauemin;
int nctemp2057=j;
float nctemp2059 = nctemp2055 * Model->dy->a[nctemp2057];
float nctemp2060 = tauemin + nctemp2059;
tauey =nctemp2060;
float nctemp2076 = tausmax - tausmin;
int nctemp2078=j;
float nctemp2080 = nctemp2076 * Model->dy->a[nctemp2078];
float nctemp2081 = tausmin + nctemp2080;
tausy =nctemp2081;
int nctemp2086=i;
argx =Model->dx->a[nctemp2086];
int nctemp2092=j;
argy =Model->dy->a[nctemp2092];
int nctemp2097=i;
nctemp2097=j*Model->Nu1x->d[0]+nctemp2097;
float nctemp2105= -argx;
float nctemp2104= nctemp2105;
float nctemp2106=LibeExp(nctemp2104);
float nctemp2111= -Model->Dt;
float nctemp2113 = nctemp2111 * tausx;
float nctemp2108= nctemp2113;
float nctemp2114=LibeExp(nctemp2108);
float nctemp2115 = nctemp2106 * nctemp2114;
Model->Nu1x->a[nctemp2097] =nctemp2115;
int nctemp2119=i;
nctemp2119=j*Model->Nu1y->d[0]+nctemp2119;
float nctemp2127= -argy;
float nctemp2126= nctemp2127;
float nctemp2128=LibeExp(nctemp2126);
float nctemp2133= -Model->Dt;
float nctemp2135 = nctemp2133 * tausy;
float nctemp2130= nctemp2135;
float nctemp2136=LibeExp(nctemp2130);
float nctemp2137 = nctemp2128 * nctemp2136;
Model->Nu1y->a[nctemp2119] =nctemp2137;
int nctemp2141=i;
nctemp2141=j*Model->Nu2x->d[0]+nctemp2141;
float nctemp2149 = Model->Dt * tauex;
Model->Nu2x->a[nctemp2141] =nctemp2149;
int nctemp2153=i;
nctemp2153=j*Model->Nu2y->d[0]+nctemp2153;
float nctemp2161 = Model->Dt * tauey;
Model->Nu2y->a[nctemp2153] =nctemp2161;
int nctemp2165=i;
nctemp2165=j*Model->Drhosy->d[0]+nctemp2165;
int nctemp2172=i;
nctemp2172=j*Model->Rho->d[0]+nctemp2172;
float nctemp2184 = tausy / tauey;
float nctemp2185 = 1.0 - nctemp2184;
float nctemp2186 = Model->Rho->a[nctemp2172] * nctemp2185;
Model->Drhosy->a[nctemp2165] =nctemp2186;
int nctemp2190=i;
nctemp2190=j*Model->Drhosx->d[0]+nctemp2190;
int nctemp2197=i;
nctemp2197=j*Model->Rho->d[0]+nctemp2197;
float nctemp2209 = tausx / tauex;
float nctemp2210 = 1.0 - nctemp2209;
float nctemp2211 = Model->Rho->a[nctemp2197] * nctemp2210;
Model->Drhosx->a[nctemp2190] =nctemp2211;
}
int nctemp2220 = i + 1;
i =nctemp2220;
int nctemp2221 = (i < Nx);
nctemp1727=nctemp2221;
}
}
int nctemp2233 = j + 1;
j =nctemp2233;
int nctemp2234 = (j < Ny);
nctemp1719=nctemp2234;
}
return 1;
}
struct model* Modelmaxwell (nctempfloat2 *vp,nctempfloat2 *rho,nctempfloat2 *Qp,nctempfloat2 *Qr,float Dx,float Dt,float W0,int Nb)
{
struct model* Model;
int Nx;
int Ny;
int i;
int j;
struct model *nctemp2243=(struct model*)RunMalloc(sizeof(struct model));
Model =nctemp2243;
Model->Dx =Dx;
Model->Dt =Dt;
int nctemp2257=vp->d[0];Model->Nx =nctemp2257;
int nctemp2265=vp->d[1];Model->Ny =nctemp2265;
Model->Nb =Nb;
Model->W0 =W0;
Nx =Model->Nx;
Ny =Model->Ny;
int nctemp2291=Nx;
nctemp2291=nctemp2291*Ny;
nctempfloat2 *nctemp2290;
nctemp2290=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp2290->d[0]=Nx;
nctemp2290->d[1]=Ny;
nctemp2290->a=(float *)RunMalloc(sizeof(float)*nctemp2291);
Model->Rho=nctemp2290;
int nctemp2302=Nx;
nctemp2302=nctemp2302*Ny;
nctempfloat2 *nctemp2301;
nctemp2301=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp2301->d[0]=Nx;
nctemp2301->d[1]=Ny;
nctemp2301->a=(float *)RunMalloc(sizeof(float)*nctemp2302);
Model->Ql=nctemp2301;
int nctemp2313=Nx;
nctemp2313=nctemp2313*Ny;
nctempfloat2 *nctemp2312;
nctemp2312=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp2312->d[0]=Nx;
nctemp2312->d[1]=Ny;
nctemp2312->a=(float *)RunMalloc(sizeof(float)*nctemp2313);
Model->Qm=nctemp2312;
int nctemp2324=Nx;
nctemp2324=nctemp2324*Ny;
nctempfloat2 *nctemp2323;
nctemp2323=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp2323->d[0]=Nx;
nctemp2323->d[1]=Ny;
nctemp2323->a=(float *)RunMalloc(sizeof(float)*nctemp2324);
Model->Lambda=nctemp2323;
int nctemp2335=Nx;
nctemp2335=nctemp2335*Ny;
nctempfloat2 *nctemp2334;
nctemp2334=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp2334->d[0]=Nx;
nctemp2334->d[1]=Ny;
nctemp2334->a=(float *)RunMalloc(sizeof(float)*nctemp2335);
Model->Dlambdax=nctemp2334;
int nctemp2346=Nx;
nctemp2346=nctemp2346*Ny;
nctempfloat2 *nctemp2345;
nctemp2345=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp2345->d[0]=Nx;
nctemp2345->d[1]=Ny;
nctemp2345->a=(float *)RunMalloc(sizeof(float)*nctemp2346);
Model->Drhopx=nctemp2345;
int nctemp2357=Nx;
nctemp2357=nctemp2357*Ny;
nctempfloat2 *nctemp2356;
nctemp2356=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp2356->d[0]=Nx;
nctemp2356->d[1]=Ny;
nctemp2356->a=(float *)RunMalloc(sizeof(float)*nctemp2357);
Model->Alpha1x=nctemp2356;
int nctemp2368=Nx;
nctemp2368=nctemp2368*Ny;
nctempfloat2 *nctemp2367;
nctemp2367=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp2367->d[0]=Nx;
nctemp2367->d[1]=Ny;
nctemp2367->a=(float *)RunMalloc(sizeof(float)*nctemp2368);
Model->Alpha1y=nctemp2367;
int nctemp2379=Nx;
nctemp2379=nctemp2379*Ny;
nctempfloat2 *nctemp2378;
nctemp2378=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp2378->d[0]=Nx;
nctemp2378->d[1]=Ny;
nctemp2378->a=(float *)RunMalloc(sizeof(float)*nctemp2379);
Model->Alpha2x=nctemp2378;
int nctemp2390=Nx;
nctemp2390=nctemp2390*Ny;
nctempfloat2 *nctemp2389;
nctemp2389=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp2389->d[0]=Nx;
nctemp2389->d[1]=Ny;
nctemp2389->a=(float *)RunMalloc(sizeof(float)*nctemp2390);
Model->Alpha2y=nctemp2389;
int nctemp2401=Nx;
nctemp2401=nctemp2401*Ny;
nctempfloat2 *nctemp2400;
nctemp2400=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp2400->d[0]=Nx;
nctemp2400->d[1]=Ny;
nctemp2400->a=(float *)RunMalloc(sizeof(float)*nctemp2401);
Model->Eta1x=nctemp2400;
int nctemp2412=Nx;
nctemp2412=nctemp2412*Ny;
nctempfloat2 *nctemp2411;
nctemp2411=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp2411->d[0]=Nx;
nctemp2411->d[1]=Ny;
nctemp2411->a=(float *)RunMalloc(sizeof(float)*nctemp2412);
Model->Eta1y=nctemp2411;
int nctemp2423=Nx;
nctemp2423=nctemp2423*Ny;
nctempfloat2 *nctemp2422;
nctemp2422=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp2422->d[0]=Nx;
nctemp2422->d[1]=Ny;
nctemp2422->a=(float *)RunMalloc(sizeof(float)*nctemp2423);
Model->Eta2x=nctemp2422;
int nctemp2434=Nx;
nctemp2434=nctemp2434*Ny;
nctempfloat2 *nctemp2433;
nctemp2433=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp2433->d[0]=Nx;
nctemp2433->d[1]=Ny;
nctemp2433->a=(float *)RunMalloc(sizeof(float)*nctemp2434);
Model->Eta2y=nctemp2433;
int nctemp2445=Nx;
nctempfloat1 *nctemp2444;
nctemp2444=(nctempfloat1*)RunMalloc(sizeof(nctempfloat1));
nctemp2444->d[0]=Nx;
nctemp2444->a=(float *)RunMalloc(sizeof(float)*nctemp2445);
Model->dx=nctemp2444;
int nctemp2454=Ny;
nctempfloat1 *nctemp2453;
nctemp2453=(nctempfloat1*)RunMalloc(sizeof(nctempfloat1));
nctemp2453->d[0]=Ny;
nctemp2453->a=(float *)RunMalloc(sizeof(float)*nctemp2454);
Model->dy=nctemp2453;
j =0;
int nctemp2461 = (j < Ny);
while(nctemp2461){
{
i =0;
int nctemp2469 = (i < Nx);
while(nctemp2469){
{
int nctemp2476=i;
nctemp2476=j*Model->Lambda->d[0]+nctemp2476;
int nctemp2486=i;
nctemp2486=j*rho->d[0]+nctemp2486;
int nctemp2490=i;
nctemp2490=j*vp->d[0]+nctemp2490;
float nctemp2493 = rho->a[nctemp2486] * vp->a[nctemp2490];
int nctemp2495=i;
nctemp2495=j*vp->d[0]+nctemp2495;
float nctemp2498 = nctemp2493 * vp->a[nctemp2495];
Model->Lambda->a[nctemp2476] =nctemp2498;
int nctemp2502=i;
nctemp2502=j*Model->Rho->d[0]+nctemp2502;
int nctemp2510=i;
nctemp2510=j*rho->d[0]+nctemp2510;
float nctemp2513 = 1.0 / rho->a[nctemp2510];
Model->Rho->a[nctemp2502] =nctemp2513;
int nctemp2517=i;
nctemp2517=j*Model->Ql->d[0]+nctemp2517;
int nctemp2521=i;
nctemp2521=j*Qp->d[0]+nctemp2521;
Model->Ql->a[nctemp2517] =Qp->a[nctemp2521];
int nctemp2527=i;
nctemp2527=j*Model->Qm->d[0]+nctemp2527;
int nctemp2531=i;
nctemp2531=j*Qr->d[0]+nctemp2531;
Model->Qm->a[nctemp2527] =Qr->a[nctemp2531];
}
int nctemp2542 = i + 1;
i =nctemp2542;
int nctemp2543 = (i < Nx);
nctemp2469=nctemp2543;
}
}
int nctemp2555 = j + 1;
j =nctemp2555;
int nctemp2556 = (j < Ny);
nctemp2461=nctemp2556;
}
nctempfloat1* nctemp2561= Model->dx;
float nctemp2564= Model->Dx;
int nctemp2566= Model->Nb;
int nctemp2568=Modeld(nctemp2561,nctemp2564,nctemp2566);
nctempfloat1* nctemp2570= Model->dy;
float nctemp2573= Model->Dx;
int nctemp2575= Model->Nb;
int nctemp2577=Modeld(nctemp2570,nctemp2573,nctemp2575);
struct model* nctemp2579= Model;
int nctemp2581=Modelalphamax(nctemp2579);
struct model* nctemp2583= Model;
int nctemp2585=Modelthetamax(nctemp2583);
j =0;
int nctemp2590 = (j < Ny);
while(nctemp2590){
{
i =0;
int nctemp2598 = (i < Nx);
while(nctemp2598){
{
int nctemp2605=i;
nctemp2605=j*Model->Dlambdax->d[0]+nctemp2605;
int nctemp2609=i;
nctemp2609=j*Model->Lambda->d[0]+nctemp2609;
Model->Dlambdax->a[nctemp2605] =Model->Lambda->a[nctemp2609];
int nctemp2615=i;
nctemp2615=j*Model->Drhopx->d[0]+nctemp2615;
int nctemp2619=i;
nctemp2619=j*Model->Rho->d[0]+nctemp2619;
Model->Drhopx->a[nctemp2615] =Model->Rho->a[nctemp2619];
}
int nctemp2630 = i + 1;
i =nctemp2630;
int nctemp2631 = (i < Nx);
nctemp2598=nctemp2631;
}
}
int nctemp2643 = j + 1;
j =nctemp2643;
int nctemp2644 = (j < Ny);
nctemp2590=nctemp2644;
}
return Model;
}
int Modelalphamax (struct model* Model)
{
int Nx;
int Ny;
int i;
int j;
float Qmin;
float Qmax;
float tau0min;
float tau0max;
float tau0x;
float tau0y;
float argx;
float argy;
Nx =Model->Nx;
Ny =Model->Ny;
j =0;
int nctemp2661 = (j < Ny);
while(nctemp2661){
{
i =0;
int nctemp2669 = (i < Nx);
while(nctemp2669){
{
Qmin =1.1;
float nctemp2685 = Qmin / Model->W0;
tau0min =nctemp2685;
float nctemp2694 = 1.0 / tau0min;
tau0min =nctemp2694;
int nctemp2699=Model->Nb;
nctemp2699=j*Model->Ql->d[0]+nctemp2699;
Qmax =Model->Ql->a[nctemp2699];
float nctemp2710 = Qmax / Model->W0;
tau0max =nctemp2710;
float nctemp2719 = 1.0 / tau0max;
tau0max =nctemp2719;
float nctemp2735 = tau0max - tau0min;
int nctemp2737=i;
float nctemp2739 = nctemp2735 * Model->dx->a[nctemp2737];
float nctemp2740 = tau0min + nctemp2739;
tau0x =nctemp2740;
int nctemp2745=i;
nctemp2745=Model->Nb*Model->Ql->d[0]+nctemp2745;
Qmax =Model->Ql->a[nctemp2745];
float nctemp2756 = Qmax / Model->W0;
tau0max =nctemp2756;
float nctemp2765 = 1.0 / tau0max;
tau0max =nctemp2765;
float nctemp2781 = tau0max - tau0min;
int nctemp2783=j;
float nctemp2785 = nctemp2781 * Model->dy->a[nctemp2783];
float nctemp2786 = tau0min + nctemp2785;
tau0y =nctemp2786;
int nctemp2791=i;
argx =Model->dx->a[nctemp2791];
int nctemp2797=j;
argy =Model->dy->a[nctemp2797];
int nctemp2802=i;
nctemp2802=j*Model->Alpha1x->d[0]+nctemp2802;
float nctemp2810= -argx;
float nctemp2809= nctemp2810;
float nctemp2811=LibeExp(nctemp2809);
float nctemp2816= -Model->Dt;
float nctemp2818 = nctemp2816 * tau0x;
float nctemp2813= nctemp2818;
float nctemp2819=LibeExp(nctemp2813);
float nctemp2820 = nctemp2811 * nctemp2819;
Model->Alpha1x->a[nctemp2802] =nctemp2820;
int nctemp2824=i;
nctemp2824=j*Model->Alpha1y->d[0]+nctemp2824;
float nctemp2832= -argy;
float nctemp2831= nctemp2832;
float nctemp2833=LibeExp(nctemp2831);
float nctemp2838= -Model->Dt;
float nctemp2840 = nctemp2838 * tau0y;
float nctemp2835= nctemp2840;
float nctemp2841=LibeExp(nctemp2835);
float nctemp2842 = nctemp2833 * nctemp2841;
Model->Alpha1y->a[nctemp2824] =nctemp2842;
int nctemp2846=i;
nctemp2846=j*Model->Alpha2x->d[0]+nctemp2846;
float nctemp2852= -Model->Dt;
float nctemp2854 = nctemp2852 * tau0x;
Model->Alpha2x->a[nctemp2846] =nctemp2854;
int nctemp2858=i;
nctemp2858=j*Model->Alpha2y->d[0]+nctemp2858;
float nctemp2864= -Model->Dt;
float nctemp2866 = nctemp2864 * tau0y;
Model->Alpha2y->a[nctemp2858] =nctemp2866;
}
int nctemp2875 = i + 1;
i =nctemp2875;
int nctemp2876 = (i < Nx);
nctemp2669=nctemp2876;
}
}
int nctemp2888 = j + 1;
j =nctemp2888;
int nctemp2889 = (j < Ny);
nctemp2661=nctemp2889;
}
return 1;
}
int Modelthetamax (struct model* Model)
{
int Nx;
int Ny;
int i;
int j;
float Qmin;
float Qmax;
float tau0min;
float tau0max;
float tau0x;
float tau0y;
float argx;
float argy;
Nx =Model->Nx;
Ny =Model->Ny;
j =0;
int nctemp2906 = (j < Ny);
while(nctemp2906){
{
i =0;
int nctemp2914 = (i < Nx);
while(nctemp2914){
{
Qmin =1.1;
float nctemp2930 = Qmin / Model->W0;
tau0min =nctemp2930;
float nctemp2939 = 1.0 / tau0min;
tau0min =nctemp2939;
int nctemp2944=Model->Nb;
nctemp2944=j*Model->Qm->d[0]+nctemp2944;
Qmax =Model->Qm->a[nctemp2944];
float nctemp2955 = Qmax / Model->W0;
tau0max =nctemp2955;
float nctemp2964 = 1.0 / tau0max;
tau0max =nctemp2964;
float nctemp2980 = tau0max - tau0min;
int nctemp2982=i;
float nctemp2984 = nctemp2980 * Model->dx->a[nctemp2982];
float nctemp2985 = tau0min + nctemp2984;
tau0x =nctemp2985;
int nctemp2990=i;
nctemp2990=Model->Nb*Model->Qm->d[0]+nctemp2990;
Qmax =Model->Qm->a[nctemp2990];
float nctemp3001 = Qmax / Model->W0;
tau0max =nctemp3001;
float nctemp3010 = 1.0 / tau0max;
tau0max =nctemp3010;
float nctemp3026 = tau0max - tau0min;
int nctemp3028=j;
float nctemp3030 = nctemp3026 * Model->dy->a[nctemp3028];
float nctemp3031 = tau0min + nctemp3030;
tau0y =nctemp3031;
int nctemp3036=i;
argx =Model->dx->a[nctemp3036];
int nctemp3042=j;
argy =Model->dy->a[nctemp3042];
int nctemp3047=i;
nctemp3047=j*Model->Eta1x->d[0]+nctemp3047;
float nctemp3055= -argx;
float nctemp3054= nctemp3055;
float nctemp3056=LibeExp(nctemp3054);
float nctemp3061= -Model->Dt;
float nctemp3063 = nctemp3061 * tau0x;
float nctemp3058= nctemp3063;
float nctemp3064=LibeExp(nctemp3058);
float nctemp3065 = nctemp3056 * nctemp3064;
Model->Eta1x->a[nctemp3047] =nctemp3065;
int nctemp3069=i;
nctemp3069=j*Model->Eta1y->d[0]+nctemp3069;
float nctemp3077= -argy;
float nctemp3076= nctemp3077;
float nctemp3078=LibeExp(nctemp3076);
float nctemp3083= -Model->Dt;
float nctemp3085 = nctemp3083 * tau0y;
float nctemp3080= nctemp3085;
float nctemp3086=LibeExp(nctemp3080);
float nctemp3087 = nctemp3078 * nctemp3086;
Model->Eta1y->a[nctemp3069] =nctemp3087;
int nctemp3091=i;
nctemp3091=j*Model->Eta2x->d[0]+nctemp3091;
float nctemp3097= -Model->Dt;
float nctemp3099 = nctemp3097 * tau0x;
Model->Eta2x->a[nctemp3091] =nctemp3099;
int nctemp3103=i;
nctemp3103=j*Model->Eta2y->d[0]+nctemp3103;
float nctemp3109= -Model->Dt;
float nctemp3111 = nctemp3109 * tau0y;
Model->Eta2y->a[nctemp3103] =nctemp3111;
}
int nctemp3120 = i + 1;
i =nctemp3120;
int nctemp3121 = (i < Nx);
nctemp2914=nctemp3121;
}
}
int nctemp3133 = j + 1;
j =nctemp3133;
int nctemp3134 = (j < Ny);
nctemp2906=nctemp3134;
}
return 1;
}
struct model* Modelsls (nctempfloat2 *vp,nctempfloat2 *vs,nctempfloat2 *rho,nctempfloat2 *Ql,nctempfloat2 *Qm,nctempfloat2 *Qp,nctempfloat2 *Qs,float Dx,float Dt,float W0,int Nb)
{
struct model* Model;
int Nx;
int Ny;
int i;
int j;
struct model *nctemp3143=(struct model*)RunMalloc(sizeof(struct model));
Model =nctemp3143;
Model->Dx =Dx;
Model->Dt =Dt;
int nctemp3157=vp->d[0];Model->Nx =nctemp3157;
int nctemp3165=vp->d[1];Model->Ny =nctemp3165;
Model->Nb =Nb;
Model->W0 =W0;
Nx =Model->Nx;
Ny =Model->Ny;
int nctemp3191=Nx;
nctemp3191=nctemp3191*Ny;
nctempfloat2 *nctemp3190;
nctemp3190=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp3190->d[0]=Nx;
nctemp3190->d[1]=Ny;
nctemp3190->a=(float *)RunMalloc(sizeof(float)*nctemp3191);
Model->Rho=nctemp3190;
int nctemp3202=Nx;
nctemp3202=nctemp3202*Ny;
nctempfloat2 *nctemp3201;
nctemp3201=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp3201->d[0]=Nx;
nctemp3201->d[1]=Ny;
nctemp3201->a=(float *)RunMalloc(sizeof(float)*nctemp3202);
Model->Ql=nctemp3201;
int nctemp3213=Nx;
nctemp3213=nctemp3213*Ny;
nctempfloat2 *nctemp3212;
nctemp3212=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp3212->d[0]=Nx;
nctemp3212->d[1]=Ny;
nctemp3212->a=(float *)RunMalloc(sizeof(float)*nctemp3213);
Model->Qm=nctemp3212;
int nctemp3224=Nx;
nctemp3224=nctemp3224*Ny;
nctempfloat2 *nctemp3223;
nctemp3223=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp3223->d[0]=Nx;
nctemp3223->d[1]=Ny;
nctemp3223->a=(float *)RunMalloc(sizeof(float)*nctemp3224);
Model->Qp=nctemp3223;
int nctemp3235=Nx;
nctemp3235=nctemp3235*Ny;
nctempfloat2 *nctemp3234;
nctemp3234=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp3234->d[0]=Nx;
nctemp3234->d[1]=Ny;
nctemp3234->a=(float *)RunMalloc(sizeof(float)*nctemp3235);
Model->Qs=nctemp3234;
int nctemp3246=Nx;
nctemp3246=nctemp3246*Ny;
nctempfloat2 *nctemp3245;
nctemp3245=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp3245->d[0]=Nx;
nctemp3245->d[1]=Ny;
nctemp3245->a=(float *)RunMalloc(sizeof(float)*nctemp3246);
Model->Mu=nctemp3245;
int nctemp3257=Nx;
nctemp3257=nctemp3257*Ny;
nctempfloat2 *nctemp3256;
nctemp3256=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp3256->d[0]=Nx;
nctemp3256->d[1]=Ny;
nctemp3256->a=(float *)RunMalloc(sizeof(float)*nctemp3257);
Model->Lambda=nctemp3256;
int nctemp3268=Nx;
nctemp3268=nctemp3268*Ny;
nctempfloat2 *nctemp3267;
nctemp3267=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp3267->d[0]=Nx;
nctemp3267->d[1]=Ny;
nctemp3267->a=(float *)RunMalloc(sizeof(float)*nctemp3268);
Model->Dlambdax=nctemp3267;
int nctemp3279=Nx;
nctemp3279=nctemp3279*Ny;
nctempfloat2 *nctemp3278;
nctemp3278=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp3278->d[0]=Nx;
nctemp3278->d[1]=Ny;
nctemp3278->a=(float *)RunMalloc(sizeof(float)*nctemp3279);
Model->Dlambday=nctemp3278;
int nctemp3290=Nx;
nctemp3290=nctemp3290*Ny;
nctempfloat2 *nctemp3289;
nctemp3289=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp3289->d[0]=Nx;
nctemp3289->d[1]=Ny;
nctemp3289->a=(float *)RunMalloc(sizeof(float)*nctemp3290);
Model->Dmux=nctemp3289;
int nctemp3301=Nx;
nctemp3301=nctemp3301*Ny;
nctempfloat2 *nctemp3300;
nctemp3300=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp3300->d[0]=Nx;
nctemp3300->d[1]=Ny;
nctemp3300->a=(float *)RunMalloc(sizeof(float)*nctemp3301);
Model->Dmuy=nctemp3300;
int nctemp3312=Nx;
nctemp3312=nctemp3312*Ny;
nctempfloat2 *nctemp3311;
nctemp3311=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp3311->d[0]=Nx;
nctemp3311->d[1]=Ny;
nctemp3311->a=(float *)RunMalloc(sizeof(float)*nctemp3312);
Model->Drhopx=nctemp3311;
int nctemp3323=Nx;
nctemp3323=nctemp3323*Ny;
nctempfloat2 *nctemp3322;
nctemp3322=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp3322->d[0]=Nx;
nctemp3322->d[1]=Ny;
nctemp3322->a=(float *)RunMalloc(sizeof(float)*nctemp3323);
Model->Drhopy=nctemp3322;
int nctemp3334=Nx;
nctemp3334=nctemp3334*Ny;
nctempfloat2 *nctemp3333;
nctemp3333=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp3333->d[0]=Nx;
nctemp3333->d[1]=Ny;
nctemp3333->a=(float *)RunMalloc(sizeof(float)*nctemp3334);
Model->Drhosx=nctemp3333;
int nctemp3345=Nx;
nctemp3345=nctemp3345*Ny;
nctempfloat2 *nctemp3344;
nctemp3344=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp3344->d[0]=Nx;
nctemp3344->d[1]=Ny;
nctemp3344->a=(float *)RunMalloc(sizeof(float)*nctemp3345);
Model->Drhosy=nctemp3344;
int nctemp3356=Nx;
nctemp3356=nctemp3356*Ny;
nctempfloat2 *nctemp3355;
nctemp3355=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp3355->d[0]=Nx;
nctemp3355->d[1]=Ny;
nctemp3355->a=(float *)RunMalloc(sizeof(float)*nctemp3356);
Model->Alpha1x=nctemp3355;
int nctemp3367=Nx;
nctemp3367=nctemp3367*Ny;
nctempfloat2 *nctemp3366;
nctemp3366=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp3366->d[0]=Nx;
nctemp3366->d[1]=Ny;
nctemp3366->a=(float *)RunMalloc(sizeof(float)*nctemp3367);
Model->Alpha1y=nctemp3366;
int nctemp3378=Nx;
nctemp3378=nctemp3378*Ny;
nctempfloat2 *nctemp3377;
nctemp3377=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp3377->d[0]=Nx;
nctemp3377->d[1]=Ny;
nctemp3377->a=(float *)RunMalloc(sizeof(float)*nctemp3378);
Model->Alpha2x=nctemp3377;
int nctemp3389=Nx;
nctemp3389=nctemp3389*Ny;
nctempfloat2 *nctemp3388;
nctemp3388=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp3388->d[0]=Nx;
nctemp3388->d[1]=Ny;
nctemp3388->a=(float *)RunMalloc(sizeof(float)*nctemp3389);
Model->Alpha2y=nctemp3388;
int nctemp3400=Nx;
nctemp3400=nctemp3400*Ny;
nctempfloat2 *nctemp3399;
nctemp3399=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp3399->d[0]=Nx;
nctemp3399->d[1]=Ny;
nctemp3399->a=(float *)RunMalloc(sizeof(float)*nctemp3400);
Model->Beta1x=nctemp3399;
int nctemp3411=Nx;
nctemp3411=nctemp3411*Ny;
nctempfloat2 *nctemp3410;
nctemp3410=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp3410->d[0]=Nx;
nctemp3410->d[1]=Ny;
nctemp3410->a=(float *)RunMalloc(sizeof(float)*nctemp3411);
Model->Beta1y=nctemp3410;
int nctemp3422=Nx;
nctemp3422=nctemp3422*Ny;
nctempfloat2 *nctemp3421;
nctemp3421=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp3421->d[0]=Nx;
nctemp3421->d[1]=Ny;
nctemp3421->a=(float *)RunMalloc(sizeof(float)*nctemp3422);
Model->Beta2x=nctemp3421;
int nctemp3433=Nx;
nctemp3433=nctemp3433*Ny;
nctempfloat2 *nctemp3432;
nctemp3432=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp3432->d[0]=Nx;
nctemp3432->d[1]=Ny;
nctemp3432->a=(float *)RunMalloc(sizeof(float)*nctemp3433);
Model->Beta2y=nctemp3432;
int nctemp3444=Nx;
nctemp3444=nctemp3444*Ny;
nctempfloat2 *nctemp3443;
nctemp3443=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp3443->d[0]=Nx;
nctemp3443->d[1]=Ny;
nctemp3443->a=(float *)RunMalloc(sizeof(float)*nctemp3444);
Model->Eta1x=nctemp3443;
int nctemp3455=Nx;
nctemp3455=nctemp3455*Ny;
nctempfloat2 *nctemp3454;
nctemp3454=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp3454->d[0]=Nx;
nctemp3454->d[1]=Ny;
nctemp3454->a=(float *)RunMalloc(sizeof(float)*nctemp3455);
Model->Eta1y=nctemp3454;
int nctemp3466=Nx;
nctemp3466=nctemp3466*Ny;
nctempfloat2 *nctemp3465;
nctemp3465=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp3465->d[0]=Nx;
nctemp3465->d[1]=Ny;
nctemp3465->a=(float *)RunMalloc(sizeof(float)*nctemp3466);
Model->Eta2x=nctemp3465;
int nctemp3477=Nx;
nctemp3477=nctemp3477*Ny;
nctempfloat2 *nctemp3476;
nctemp3476=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp3476->d[0]=Nx;
nctemp3476->d[1]=Ny;
nctemp3476->a=(float *)RunMalloc(sizeof(float)*nctemp3477);
Model->Eta2y=nctemp3476;
int nctemp3488=Nx;
nctemp3488=nctemp3488*Ny;
nctempfloat2 *nctemp3487;
nctemp3487=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp3487->d[0]=Nx;
nctemp3487->d[1]=Ny;
nctemp3487->a=(float *)RunMalloc(sizeof(float)*nctemp3488);
Model->Nu1x=nctemp3487;
int nctemp3499=Nx;
nctemp3499=nctemp3499*Ny;
nctempfloat2 *nctemp3498;
nctemp3498=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp3498->d[0]=Nx;
nctemp3498->d[1]=Ny;
nctemp3498->a=(float *)RunMalloc(sizeof(float)*nctemp3499);
Model->Nu1y=nctemp3498;
int nctemp3510=Nx;
nctemp3510=nctemp3510*Ny;
nctempfloat2 *nctemp3509;
nctemp3509=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp3509->d[0]=Nx;
nctemp3509->d[1]=Ny;
nctemp3509->a=(float *)RunMalloc(sizeof(float)*nctemp3510);
Model->Nu2x=nctemp3509;
int nctemp3521=Nx;
nctemp3521=nctemp3521*Ny;
nctempfloat2 *nctemp3520;
nctemp3520=(nctempfloat2*)RunMalloc(sizeof(nctempfloat2));
nctemp3520->d[0]=Nx;
nctemp3520->d[1]=Ny;
nctemp3520->a=(float *)RunMalloc(sizeof(float)*nctemp3521);
Model->Nu2y=nctemp3520;
int nctemp3532=Nx;
nctempfloat1 *nctemp3531;
nctemp3531=(nctempfloat1*)RunMalloc(sizeof(nctempfloat1));
nctemp3531->d[0]=Nx;
nctemp3531->a=(float *)RunMalloc(sizeof(float)*nctemp3532);
Model->dx=nctemp3531;
int nctemp3541=Ny;
nctempfloat1 *nctemp3540;
nctemp3540=(nctempfloat1*)RunMalloc(sizeof(nctempfloat1));
nctemp3540->d[0]=Ny;
nctemp3540->a=(float *)RunMalloc(sizeof(float)*nctemp3541);
Model->dy=nctemp3540;
j =0;
int nctemp3548 = (j < Ny);
while(nctemp3548){
{
i =0;
int nctemp3556 = (i < Nx);
while(nctemp3556){
{
int nctemp3563=i;
nctemp3563=j*Model->Rho->d[0]+nctemp3563;
int nctemp3571=i;
nctemp3571=j*rho->d[0]+nctemp3571;
float nctemp3574 = 1.0 / rho->a[nctemp3571];
Model->Rho->a[nctemp3563] =nctemp3574;
int nctemp3578=i;
nctemp3578=j*Model->Ql->d[0]+nctemp3578;
int nctemp3582=i;
nctemp3582=j*Ql->d[0]+nctemp3582;
Model->Ql->a[nctemp3578] =Ql->a[nctemp3582];
int nctemp3588=i;
nctemp3588=j*Model->Qm->d[0]+nctemp3588;
int nctemp3592=i;
nctemp3592=j*Qm->d[0]+nctemp3592;
Model->Qm->a[nctemp3588] =Qm->a[nctemp3592];
int nctemp3598=i;
nctemp3598=j*Model->Qp->d[0]+nctemp3598;
int nctemp3602=i;
nctemp3602=j*Qp->d[0]+nctemp3602;
Model->Qp->a[nctemp3598] =Qp->a[nctemp3602];
int nctemp3608=i;
nctemp3608=j*Model->Qs->d[0]+nctemp3608;
int nctemp3612=i;
nctemp3612=j*Qs->d[0]+nctemp3612;
Model->Qs->a[nctemp3608] =Qs->a[nctemp3612];
int nctemp3618=i;
nctemp3618=j*Model->Mu->d[0]+nctemp3618;
int nctemp3628=i;
nctemp3628=j*rho->d[0]+nctemp3628;
int nctemp3632=i;
nctemp3632=j*vs->d[0]+nctemp3632;
float nctemp3635 = rho->a[nctemp3628] * vs->a[nctemp3632];
int nctemp3637=i;
nctemp3637=j*vs->d[0]+nctemp3637;
float nctemp3640 = nctemp3635 * vs->a[nctemp3637];
Model->Mu->a[nctemp3618] =nctemp3640;
int nctemp3644=i;
nctemp3644=j*Model->Lambda->d[0]+nctemp3644;
int nctemp3651=i;
nctemp3651=j*rho->d[0]+nctemp3651;
int nctemp3661=i;
nctemp3661=j*vp->d[0]+nctemp3661;
int nctemp3665=i;
nctemp3665=j*vp->d[0]+nctemp3665;
float nctemp3668 = vp->a[nctemp3661] * vp->a[nctemp3665];
int nctemp3677=i;
nctemp3677=j*vs->d[0]+nctemp3677;
float nctemp3680 = 2.0 * vs->a[nctemp3677];
int nctemp3682=i;
nctemp3682=j*vs->d[0]+nctemp3682;
float nctemp3685 = nctemp3680 * vs->a[nctemp3682];
float nctemp3686 = nctemp3668 - nctemp3685;
float nctemp3687 = rho->a[nctemp3651] * nctemp3686;
Model->Lambda->a[nctemp3644] =nctemp3687;
}
int nctemp3696 = i + 1;
i =nctemp3696;
int nctemp3697 = (i < Nx);
nctemp3556=nctemp3697;
}
}
int nctemp3709 = j + 1;
j =nctemp3709;
int nctemp3710 = (j < Ny);
nctemp3548=nctemp3710;
}
nctempfloat1* nctemp3715= Model->dx;
float nctemp3718= Model->Dx;
int nctemp3720= Model->Nb;
int nctemp3722=Modeld(nctemp3715,nctemp3718,nctemp3720);
nctempfloat1* nctemp3724= Model->dy;
float nctemp3727= Model->Dx;
int nctemp3729= Model->Nb;
int nctemp3731=Modeld(nctemp3724,nctemp3727,nctemp3729);
struct model* nctemp3733= Model;
int nctemp3735=Modelalphasls(nctemp3733);
struct model* nctemp3737= Model;
int nctemp3739=Modelbetasls(nctemp3737);
struct model* nctemp3741= Model;
int nctemp3743=Modeletasls(nctemp3741);
struct model* nctemp3745= Model;
int nctemp3747=Modelnusls(nctemp3745);
return Model;
}
float ModelStability (struct model* Model)
{
int nx;
int ny;
int i;
int j;
float vp;
float stab;
nx =Model->Nx;
ny =Model->Ny;
j =0;
int nctemp3761 = (j < ny);
while(nctemp3761){
{
i =0;
int nctemp3769 = (i < nx);
while(nctemp3769){
{
int nctemp3784=i;
nctemp3784=j*Model->Lambda->d[0]+nctemp3784;
int nctemp3792=i;
nctemp3792=j*Model->Mu->d[0]+nctemp3792;
float nctemp3795 = 2.0 * Model->Mu->a[nctemp3792];
float nctemp3796 = Model->Lambda->a[nctemp3784] + nctemp3795;
int nctemp3798=i;
nctemp3798=j*Model->Rho->d[0]+nctemp3798;
float nctemp3801 = nctemp3796 / Model->Rho->a[nctemp3798];
float nctemp3777= nctemp3801;
float nctemp3802=LibeSqrt(nctemp3777);
vp =nctemp3802;
float nctemp3814 = vp * Model->Dt;
float nctemp3816 = nctemp3814 / Model->Dx;
stab =nctemp3816;
float nctemp3825= 2.0;
float nctemp3827=LibeSqrt(nctemp3825);
float nctemp3828 = 1.0 / nctemp3827;
int nctemp3817 = (stab > nctemp3828);
if(nctemp3817)
{
int nctemp3830= 4;
struct nctempchar1 *nctemp3834;
static struct nctempchar1 nctemp3835 = {{ 28}, (char*)"Stability index too large! \0"};
nctemp3834=&nctemp3835;
nctempchar1* nctemp3832= nctemp3834;
int nctemp3836=LibePuts(nctemp3830,nctemp3832);
int nctemp3838= 4;
float nctemp3840= stab;
struct nctempchar1 *nctemp3844;
static struct nctempchar1 nctemp3845 = {{ 2}, (char*)"g\0"};
nctemp3844=&nctemp3845;
nctempchar1* nctemp3842= nctemp3844;
int nctemp3846=LibePutf(nctemp3838,nctemp3840,nctemp3842);
int nctemp3848= 4;
struct nctempchar1 *nctemp3852;
static struct nctempchar1 nctemp3853 = {{ 3}, (char*)"\n\0"};
nctemp3852=&nctemp3853;
nctempchar1* nctemp3850= nctemp3852;
int nctemp3854=LibePuts(nctemp3848,nctemp3850);
int nctemp3856= 4;
struct nctempchar1 *nctemp3860;
static struct nctempchar1 nctemp3861 = {{ 7}, (char*)"vp: \n\0"};
nctemp3860=&nctemp3861;
nctempchar1* nctemp3858= nctemp3860;
int nctemp3862=LibePuts(nctemp3856,nctemp3858);
int nctemp3864= 4;
float nctemp3866= vp;
struct nctempchar1 *nctemp3870;
static struct nctempchar1 nctemp3871 = {{ 2}, (char*)"g\0"};
nctemp3870=&nctemp3871;
nctempchar1* nctemp3868= nctemp3870;
int nctemp3872=LibePutf(nctemp3864,nctemp3866,nctemp3868);
int nctemp3874= 4;
struct nctempchar1 *nctemp3878;
static struct nctempchar1 nctemp3879 = {{ 3}, (char*)"\n\0"};
nctemp3878=&nctemp3879;
nctempchar1* nctemp3876= nctemp3878;
int nctemp3880=LibePuts(nctemp3874,nctemp3876);
int nctemp3882= 4;
struct nctempchar1 *nctemp3886;
static struct nctempchar1 nctemp3887 = {{ 7}, (char*)"dt: \n\0"};
nctemp3886=&nctemp3887;
nctempchar1* nctemp3884= nctemp3886;
int nctemp3888=LibePuts(nctemp3882,nctemp3884);
int nctemp3890= 4;
float nctemp3892= Model->Dt;
struct nctempchar1 *nctemp3896;
static struct nctempchar1 nctemp3897 = {{ 2}, (char*)"g\0"};
nctemp3896=&nctemp3897;
nctempchar1* nctemp3894= nctemp3896;
int nctemp3898=LibePutf(nctemp3890,nctemp3892,nctemp3894);
int nctemp3900= 4;
struct nctempchar1 *nctemp3904;
static struct nctempchar1 nctemp3905 = {{ 3}, (char*)"\n\0"};
nctemp3904=&nctemp3905;
nctempchar1* nctemp3902= nctemp3904;
int nctemp3906=LibePuts(nctemp3900,nctemp3902);
int nctemp3908= 4;
struct nctempchar1 *nctemp3912;
static struct nctempchar1 nctemp3913 = {{ 7}, (char*)"dx: \n\0"};
nctemp3912=&nctemp3913;
nctempchar1* nctemp3910= nctemp3912;
int nctemp3914=LibePuts(nctemp3908,nctemp3910);
int nctemp3916= 4;
float nctemp3918= Model->Dx;
struct nctempchar1 *nctemp3922;
static struct nctempchar1 nctemp3923 = {{ 2}, (char*)"g\0"};
nctemp3922=&nctemp3923;
nctempchar1* nctemp3920= nctemp3922;
int nctemp3924=LibePutf(nctemp3916,nctemp3918,nctemp3920);
int nctemp3926= 4;
struct nctempchar1 *nctemp3930;
static struct nctempchar1 nctemp3931 = {{ 3}, (char*)"\n\0"};
nctemp3930=&nctemp3931;
nctempchar1* nctemp3928= nctemp3930;
int nctemp3932=LibePuts(nctemp3926,nctemp3928);
int nctemp3934= 4;
int nctemp3936=LibeFlush(nctemp3934);
}
}
int nctemp3945 = i + 1;
i =nctemp3945;
int nctemp3946 = (i < nx);
nctemp3769=nctemp3946;
}
}
int nctemp3958 = j + 1;
j =nctemp3958;
int nctemp3959 = (j < ny);
nctemp3761=nctemp3959;
}
return stab;
}
int Modeld (nctempfloat1 *d,float dx,int nb)
{
int i;
int n;
int nctemp3968=d->d[0];n =nctemp3968;
i =0;
int nctemp3976 = (i < n);
while(nctemp3976){
{
int nctemp3983=i;
d->a[nctemp3983] =1.0;
}
int nctemp3994 = i + 1;
i =nctemp3994;
int nctemp3995 = (i < n);
nctemp3976=nctemp3995;
}
i =0;
int nctemp4003 = (i < nb);
while(nctemp4003){
{
int nctemp4010=i;
int nctemp4016=i;
float nctemp4031=(float)(i);
float nctemp4035 = nctemp4031 * dx;
float nctemp4040=(float)(nb);
float nctemp4044 = nctemp4040 * dx;
float nctemp4045 = nctemp4035 / nctemp4044;
float nctemp4050=(float)(i);
float nctemp4054 = nctemp4050 * dx;
float nctemp4055 = nctemp4045 * nctemp4054;
float nctemp4060=(float)(nb);
float nctemp4064 = nctemp4060 * dx;
float nctemp4065 = nctemp4055 / nctemp4064;
float nctemp4066 = d->a[nctemp4016] * nctemp4065;
d->a[nctemp4010] =nctemp4066;
}
int nctemp4075 = i + 1;
i =nctemp4075;
int nctemp4076 = (i < nb);
nctemp4003=nctemp4076;
}
int nctemp4091 = n - 1;
int nctemp4093 = nctemp4091 - nb;
i =nctemp4093;
int nctemp4094 = (i < n);
while(nctemp4094){
{
int nctemp4101=i;
int nctemp4107=i;
int nctemp4131 = n - 1;
int nctemp4133 = nctemp4131 - i;
float nctemp4122=(float)(nctemp4133);
float nctemp4135 = nctemp4122 * dx;
float nctemp4140=(float)(nb);
float nctemp4144 = nctemp4140 * dx;
float nctemp4145 = nctemp4135 / nctemp4144;
int nctemp4159 = n - 1;
int nctemp4161 = nctemp4159 - i;
float nctemp4150=(float)(nctemp4161);
float nctemp4163 = nctemp4150 * dx;
float nctemp4164 = nctemp4145 * nctemp4163;
float nctemp4169=(float)(nb);
float nctemp4173 = nctemp4169 * dx;
float nctemp4174 = nctemp4164 / nctemp4173;
float nctemp4175 = d->a[nctemp4107] * nctemp4174;
d->a[nctemp4101] =nctemp4175;
}
int nctemp4184 = i + 1;
i =nctemp4184;
int nctemp4185 = (i < n);
nctemp4094=nctemp4185;
}
return 1;
}
}
